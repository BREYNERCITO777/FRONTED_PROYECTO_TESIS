{"ast":null,"code":"import { http } from \"./http\";\nexport async function listUsers(limit) {\n  // ✅ evita 422 si tu backend no soporta ?limit=\n  const url = typeof limit === \"number\" ? `/users?limit=${limit}` : `/users`;\n  const {\n    data\n  } = await http.get(url);\n  return data;\n}\nexport async function createUser(payload) {\n  const {\n    data\n  } = await http.post(`/users`, payload);\n  return data;\n}\nexport async function updateUser(userId, payload) {\n  const {\n    data\n  } = await http.patch(`/users/${userId}`, payload);\n  return data;\n}\nexport async function setUserRole(userId, role) {\n  const {\n    data\n  } = await http.patch(`/users/${userId}/role`, {},\n  // ✅ mejor que null\n  {\n    params: {\n      role\n    }\n  });\n  return data;\n}\nexport async function setUserEstado(userId, estado) {\n  const {\n    data\n  } = await http.patch(`/users/${userId}/estado`, {},\n  // ✅ mejor que null\n  {\n    params: {\n      estado\n    }\n  });\n  return data;\n}\nexport async function deleteUser(userId) {\n  const {\n    data\n  } = await http.delete(`/users/${userId}`);\n  return data;\n}","map":{"version":3,"names":["http","listUsers","limit","url","data","get","createUser","payload","post","updateUser","userId","patch","setUserRole","role","params","setUserEstado","estado","deleteUser","delete"],"sources":["D:/PROYECTO DE TESIS AÑO 2026/sistema-armas/frontend/src/api/users.ts"],"sourcesContent":["import { http } from \"./http\";\r\n\r\nexport type UserOut = {\r\n  _id: string;\r\n  name: string;\r\n  email: string;\r\n  role: \"admin\" | \"operator\";\r\n  estado?: 0 | 1; // 1 activo, 0 inactivo\r\n  created_at?: string | null;\r\n};\r\n\r\nexport type UserCreate = {\r\n  name: string;\r\n  email: string;\r\n  password: string;\r\n  role: \"admin\" | \"operator\";\r\n};\r\n\r\nexport type UserUpdate = {\r\n  name?: string;\r\n  email?: string;\r\n};\r\n\r\nexport async function listUsers(limit?: number) {\r\n  // ✅ evita 422 si tu backend no soporta ?limit=\r\n  const url = typeof limit === \"number\" ? `/users?limit=${limit}` : `/users`;\r\n  const { data } = await http.get<UserOut[]>(url);\r\n  return data;\r\n}\r\n\r\nexport async function createUser(payload: UserCreate) {\r\n  const { data } = await http.post<UserOut>(`/users`, payload);\r\n  return data;\r\n}\r\n\r\nexport async function updateUser(userId: string, payload: UserUpdate) {\r\n  const { data } = await http.patch<UserOut>(`/users/${userId}`, payload);\r\n  return data;\r\n}\r\n\r\nexport async function setUserRole(userId: string, role: \"admin\" | \"operator\") {\r\n  const { data } = await http.patch<UserOut>(\r\n    `/users/${userId}/role`,\r\n    {}, // ✅ mejor que null\r\n    { params: { role } }\r\n  );\r\n  return data;\r\n}\r\n\r\nexport async function setUserEstado(userId: string, estado: 0 | 1) {\r\n  const { data } = await http.patch<UserOut>(\r\n    `/users/${userId}/estado`,\r\n    {}, // ✅ mejor que null\r\n    { params: { estado } }\r\n  );\r\n  return data;\r\n}\r\n\r\nexport async function deleteUser(userId: string) {\r\n  const { data } = await http.delete(`/users/${userId}`);\r\n  return data;\r\n}"],"mappings":"AAAA,SAASA,IAAI,QAAQ,QAAQ;AAuB7B,OAAO,eAAeC,SAASA,CAACC,KAAc,EAAE;EAC9C;EACA,MAAMC,GAAG,GAAG,OAAOD,KAAK,KAAK,QAAQ,GAAG,gBAAgBA,KAAK,EAAE,GAAG,QAAQ;EAC1E,MAAM;IAAEE;EAAK,CAAC,GAAG,MAAMJ,IAAI,CAACK,GAAG,CAAYF,GAAG,CAAC;EAC/C,OAAOC,IAAI;AACb;AAEA,OAAO,eAAeE,UAAUA,CAACC,OAAmB,EAAE;EACpD,MAAM;IAAEH;EAAK,CAAC,GAAG,MAAMJ,IAAI,CAACQ,IAAI,CAAU,QAAQ,EAAED,OAAO,CAAC;EAC5D,OAAOH,IAAI;AACb;AAEA,OAAO,eAAeK,UAAUA,CAACC,MAAc,EAAEH,OAAmB,EAAE;EACpE,MAAM;IAAEH;EAAK,CAAC,GAAG,MAAMJ,IAAI,CAACW,KAAK,CAAU,UAAUD,MAAM,EAAE,EAAEH,OAAO,CAAC;EACvE,OAAOH,IAAI;AACb;AAEA,OAAO,eAAeQ,WAAWA,CAACF,MAAc,EAAEG,IAA0B,EAAE;EAC5E,MAAM;IAAET;EAAK,CAAC,GAAG,MAAMJ,IAAI,CAACW,KAAK,CAC/B,UAAUD,MAAM,OAAO,EACvB,CAAC,CAAC;EAAE;EACJ;IAAEI,MAAM,EAAE;MAAED;IAAK;EAAE,CACrB,CAAC;EACD,OAAOT,IAAI;AACb;AAEA,OAAO,eAAeW,aAAaA,CAACL,MAAc,EAAEM,MAAa,EAAE;EACjE,MAAM;IAAEZ;EAAK,CAAC,GAAG,MAAMJ,IAAI,CAACW,KAAK,CAC/B,UAAUD,MAAM,SAAS,EACzB,CAAC,CAAC;EAAE;EACJ;IAAEI,MAAM,EAAE;MAAEE;IAAO;EAAE,CACvB,CAAC;EACD,OAAOZ,IAAI;AACb;AAEA,OAAO,eAAea,UAAUA,CAACP,MAAc,EAAE;EAC/C,MAAM;IAAEN;EAAK,CAAC,GAAG,MAAMJ,IAAI,CAACkB,MAAM,CAAC,UAAUR,MAAM,EAAE,CAAC;EACtD,OAAON,IAAI;AACb","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
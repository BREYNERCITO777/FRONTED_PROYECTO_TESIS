{"ast":null,"code":"var _jsxFileName = \"D:\\\\PROYECTO DE TESIS A\\xD1O 2026\\\\sistema-armas\\\\frontend\\\\src\\\\components\\\\Alerts.tsx\",\n  _s = $RefreshSig$();\nimport React, { useMemo, useState, useEffect } from \"react\";\nimport { Card, CardContent } from \"./ui/card\";\nimport { Badge } from \"./ui/badge\";\nimport { Button } from \"./ui/button\";\nimport { Tabs, TabsList, TabsTrigger, TabsContent } from \"./ui/tabs\";\nimport { AlertTriangle, CheckCircle, Clock, Camera, Shield, Bell, TrendingUp, ChevronLeft, ChevronRight, Eye, X } from \"lucide-react\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst API_BASE = process.env.REACT_APP_API_BASE || \"http://localhost:8000/api/v1\";\nfunction toLocalDateTime(iso) {\n  if (!iso) {\n    return {\n      timestamp: \"—\",\n      date: \"—\",\n      time: \"—\"\n    };\n  }\n  const d = new Date(iso);\n  const date = d.toLocaleDateString();\n  const time = d.toLocaleTimeString();\n  return {\n    timestamp: iso,\n    date,\n    time\n  };\n}\nfunction normalizeEvidenceUrl(url) {\n  if (!url) return null;\n  // Si viene como \"/static/...\" lo convertimos en URL completa\n  if (url.startsWith(\"/\")) return `http://localhost:8000${url}`;\n  return url;\n}\nexport function Alerts() {\n  _s();\n  const [alerts, setAlerts] = useState([]);\n  const [activeTab, setActiveTab] = useState(\"all\");\n\n  // modal evidencia\n  const [openEvidence, setOpenEvidence] = useState(false);\n  const [evidenceUrl, setEvidenceUrl] = useState(null);\n  const [evidenceTitle, setEvidenceTitle] = useState(\"\");\n\n  // paginación\n  const pageSize = 4;\n  const [page, setPage] = useState(1);\n  const fetchAlerts = async () => {\n    const res = await fetch(`${API_BASE}/alerts`);\n    if (!res.ok) throw new Error(\"No se pudo cargar alertas\");\n    const data = await res.json();\n    const mapped = data.map(a => {\n      var _a$camera_id, _a$weapon_type, _a$severity, _a$evidence_url;\n      const dt = toLocalDateTime(a.timestamp);\n      return {\n        id: a._id,\n        title: a.title,\n        message: a.message,\n        timestamp: dt.timestamp,\n        date: dt.date,\n        time: dt.time,\n        camera_id: (_a$camera_id = a.camera_id) !== null && _a$camera_id !== void 0 ? _a$camera_id : \"—\",\n        camera_name: a.camera_id ? a.camera_id : \"—\",\n        // si luego quieres nombre real, lo cruzamos con /cameras\n        weapon_type: (_a$weapon_type = a.weapon_type) !== null && _a$weapon_type !== void 0 ? _a$weapon_type : \"—\",\n        confidence: typeof a.confidence === \"number\" ? a.confidence : 0,\n        isRead: !!a.read,\n        severity: (_a$severity = a.severity) !== null && _a$severity !== void 0 ? _a$severity : \"medium\",\n        evidence_url: normalizeEvidenceUrl((_a$evidence_url = a.evidence_url) !== null && _a$evidence_url !== void 0 ? _a$evidence_url : null)\n      };\n    });\n    setAlerts(mapped);\n  };\n  useEffect(() => {\n    fetchAlerts().catch(console.error);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  const markAsRead = async id => {\n    // actualiza backend\n    await fetch(`${API_BASE}/alerts/${id}/read?read=true`, {\n      method: \"PATCH\"\n    });\n    // actualiza UI\n    setAlerts(prev => prev.map(a => a.id === id ? {\n      ...a,\n      isRead: true\n    } : a));\n  };\n  const markAllAsRead = async () => {\n    // no tienes endpoint \"mark all\", así que lo hacemos 1x1\n    const unread = alerts.filter(a => !a.isRead);\n    for (const a of unread) {\n      // eslint-disable-next-line no-await-in-loop\n      await fetch(`${API_BASE}/alerts/${a.id}/read?read=true`, {\n        method: \"PATCH\"\n      });\n    }\n    setAlerts(prev => prev.map(a => ({\n      ...a,\n      isRead: true\n    })));\n  };\n  const deleteAll = async () => {\n    await fetch(`${API_BASE}/alerts`, {\n      method: \"DELETE\"\n    });\n    setAlerts([]);\n  };\n  const unreadCount = useMemo(() => alerts.filter(a => !a.isRead).length, [alerts]);\n  const readCount = useMemo(() => alerts.filter(a => a.isRead).length, [alerts]);\n  const criticalCount = useMemo(() => alerts.filter(a => a.severity === \"critical\").length, [alerts]);\n  const filteredAlerts = useMemo(() => {\n    return alerts.filter(a => {\n      if (activeTab === \"unread\") return !a.isRead;\n      if (activeTab === \"read\") return a.isRead;\n      return true;\n    });\n  }, [alerts, activeTab]);\n  const totalPages = useMemo(() => Math.max(1, Math.ceil(filteredAlerts.length / pageSize)), [filteredAlerts.length]);\n  const canPrev = page > 1;\n  const canNext = page < totalPages;\n  const goPrev = () => setPage(p => Math.max(1, p - 1));\n  const goNext = () => setPage(p => Math.min(totalPages, p + 1));\n  useEffect(() => {\n    setPage(1);\n  }, [activeTab]);\n  useEffect(() => {\n    setPage(p => Math.min(p, totalPages));\n  }, [totalPages]);\n  const pageData = useMemo(() => {\n    const start = (page - 1) * pageSize;\n    return filteredAlerts.slice(start, start + pageSize);\n  }, [filteredAlerts, page]);\n  const getSeverityConfig = severity => {\n    switch (severity) {\n      case \"critical\":\n        return {\n          badge: \"bg-rose-600 text-white\",\n          cardBorder: \"border-l-4 border-l-rose-500\",\n          cardBg: \"bg-gradient-to-r from-rose-50/80 to-white\",\n          icon: /*#__PURE__*/_jsxDEV(AlertTriangle, {\n            className: \"h-4 w-4 text-rose-600\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 182,\n            columnNumber: 17\n          }, this),\n          iconBg: \"bg-rose-100\",\n          label: \"Crítica\",\n          pulseEffect: \"animate-pulse\"\n        };\n      case \"high\":\n        return {\n          badge: \"bg-orange-600 text-white\",\n          cardBorder: \"border-l-4 border-l-orange-500\",\n          cardBg: \"bg-white\",\n          icon: /*#__PURE__*/_jsxDEV(AlertTriangle, {\n            className: \"h-4 w-4 text-orange-600\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 192,\n            columnNumber: 17\n          }, this),\n          iconBg: \"bg-orange-100\",\n          label: \"Alta\",\n          pulseEffect: \"\"\n        };\n      case \"medium\":\n        return {\n          badge: \"bg-amber-600 text-white\",\n          cardBorder: \"border-l-4 border-l-amber-500\",\n          cardBg: \"bg-white\",\n          icon: /*#__PURE__*/_jsxDEV(Shield, {\n            className: \"h-4 w-4 text-amber-600\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 202,\n            columnNumber: 17\n          }, this),\n          iconBg: \"bg-amber-100\",\n          label: \"Media\",\n          pulseEffect: \"\"\n        };\n      default:\n        return {\n          badge: \"bg-slate-600 text-white\",\n          cardBorder: \"border-l-4 border-l-slate-400\",\n          cardBg: \"bg-white\",\n          icon: /*#__PURE__*/_jsxDEV(Shield, {\n            className: \"h-4 w-4 text-slate-600\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 212,\n            columnNumber: 17\n          }, this),\n          iconBg: \"bg-slate-100\",\n          label: \"Baja\",\n          pulseEffect: \"\"\n        };\n    }\n  };\n  const AlertCard = ({\n    alert\n  }) => {\n    const config = getSeverityConfig(alert.severity);\n    const canViewEvidence = !!alert.evidence_url;\n    return /*#__PURE__*/_jsxDEV(Card, {\n      className: `border-0 shadow-sm hover:shadow-md transition-all duration-200 overflow-hidden ${config.cardBorder} ${config.cardBg} ${alert.severity === \"critical\" && !alert.isRead ? \"ring-1 ring-rose-300\" : \"\"}`,\n      children: /*#__PURE__*/_jsxDEV(CardContent, {\n        className: \"p-4\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex gap-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: `${config.iconBg} p-2.5 rounded-xl h-fit ${alert.severity === \"critical\" && !alert.isRead ? config.pulseEffect : \"\"}`,\n            children: config.icon\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 233,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex-1 space-y-3 min-w-0\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-start justify-between gap-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"min-w-0\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center gap-2 flex-wrap\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                    className: \"font-bold text-base text-slate-900 truncate\",\n                    children: alert.title\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 245,\n                    columnNumber: 21\n                  }, this), !alert.isRead && /*#__PURE__*/_jsxDEV(Badge, {\n                    className: \"bg-blue-600 text-white shadow-sm text-[11px] px-2 py-0.5\",\n                    children: [/*#__PURE__*/_jsxDEV(Bell, {\n                      className: \"h-3 w-3 mr-1\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 248,\n                      columnNumber: 25\n                    }, this), \"Nueva\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 247,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 244,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-slate-700 text-sm leading-snug mt-1\",\n                  children: alert.message\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 253,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 243,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Badge, {\n                className: `${config.badge} font-bold text-xs px-3 py-1 shadow-sm whitespace-nowrap`,\n                children: config.label\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 256,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 242,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bg-slate-50 rounded-lg p-2.5 border border-slate-200\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-[10px] text-slate-600 font-bold mb-1 uppercase\",\n                  children: \"Detecci\\xF3n\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 263,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center gap-2\",\n                  children: [/*#__PURE__*/_jsxDEV(Shield, {\n                    className: \"h-3.5 w-3.5 text-blue-600\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 265,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"font-bold text-slate-900 text-xs truncate\",\n                    children: alert.weapon_type\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 266,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 264,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 262,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bg-slate-50 rounded-lg p-2.5 border border-slate-200\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-[10px] text-slate-600 font-bold mb-1 uppercase\",\n                  children: \"C\\xE1mara\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 271,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center gap-2\",\n                  children: [/*#__PURE__*/_jsxDEV(Camera, {\n                    className: \"h-3.5 w-3.5 text-blue-600\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 273,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"min-w-0\",\n                    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"font-mono text-[11px] font-bold text-slate-900\",\n                      children: alert.camera_id\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 275,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-[11px] text-slate-600 truncate\",\n                      children: alert.camera_name\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 276,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 274,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 272,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 270,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bg-slate-50 rounded-lg p-2.5 border border-slate-200\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-[10px] text-slate-600 font-bold mb-1 uppercase\",\n                  children: \"Confianza\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 282,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center gap-2\",\n                  children: [/*#__PURE__*/_jsxDEV(TrendingUp, {\n                    className: \"h-3.5 w-3.5 text-emerald-600\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 284,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex items-center gap-2\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"w-14 bg-slate-200 rounded-full h-1.5 overflow-hidden\",\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: `h-full ${alert.confidence >= 0.9 ? \"bg-emerald-500\" : alert.confidence >= 0.7 ? \"bg-amber-500\" : \"bg-rose-500\"}`,\n                        style: {\n                          width: `${alert.confidence * 100}%`\n                        }\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 287,\n                        columnNumber: 25\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 286,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"font-bold text-slate-900 text-xs\",\n                      children: [(alert.confidence * 100).toFixed(0), \"%\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 298,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 285,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 283,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 281,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bg-slate-50 rounded-lg p-2.5 border border-slate-200\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-[10px] text-slate-600 font-bold mb-1 uppercase\",\n                  children: \"Fecha y Hora\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 306,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center gap-2\",\n                  children: [/*#__PURE__*/_jsxDEV(Clock, {\n                    className: \"h-3.5 w-3.5 text-blue-600\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 308,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"font-mono text-[11px] font-bold text-slate-900\",\n                      children: alert.time\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 310,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"font-mono text-[11px] text-slate-600\",\n                      children: alert.date\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 311,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 309,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 307,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 305,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 261,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex flex-wrap items-center gap-2 pt-1\",\n              children: [canViewEvidence && /*#__PURE__*/_jsxDEV(Button, {\n                size: \"sm\",\n                variant: \"outline\",\n                className: \"h-9 text-xs\",\n                onClick: () => {\n                  var _alert$evidence_url;\n                  setEvidenceUrl((_alert$evidence_url = alert.evidence_url) !== null && _alert$evidence_url !== void 0 ? _alert$evidence_url : null);\n                  setEvidenceTitle(`Evidencia - ${alert.weapon_type}`);\n                  setOpenEvidence(true);\n                },\n                children: [/*#__PURE__*/_jsxDEV(Eye, {\n                  className: \"h-4 w-4 mr-2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 329,\n                  columnNumber: 21\n                }, this), \"Ver evidencia\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 319,\n                columnNumber: 19\n              }, this), !alert.isRead && /*#__PURE__*/_jsxDEV(Button, {\n                size: \"sm\",\n                onClick: () => markAsRead(alert.id),\n                className: \"h-9 text-xs bg-gradient-to-r from-emerald-600 to-emerald-700 hover:from-emerald-700 hover:to-emerald-800 text-white shadow-sm\",\n                children: [/*#__PURE__*/_jsxDEV(CheckCircle, {\n                  className: \"h-4 w-4 mr-2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 340,\n                  columnNumber: 21\n                }, this), \"Marcar como le\\xEDda\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 335,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 317,\n              columnNumber: 15\n            }, this), !canViewEvidence && /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-[11px] text-slate-500\",\n              children: \"(Esta alerta no tiene evidencia asociada)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 347,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 241,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 232,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 7\n    }, this);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"space-y-5\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-col lg:flex-row lg:items-center justify-between gap-3\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-2xl md:text-3xl font-bold text-slate-900\",\n          children: \"Centro de Alertas\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 362,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-slate-600 text-sm mt-1\",\n          children: \"Notificaciones en tiempo real del sistema de detecci\\xF3n\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 363,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 361,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex gap-2\",\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          onClick: () => fetchAlerts().catch(console.error),\n          variant: \"outline\",\n          size: \"sm\",\n          className: \"h-10\",\n          children: \"Refrescar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 367,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: () => deleteAll().catch(console.error),\n          variant: \"outline\",\n          size: \"sm\",\n          className: \"h-10 text-rose-600 hover:bg-rose-50\",\n          children: \"Limpiar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 376,\n          columnNumber: 11\n        }, this), unreadCount > 0 && /*#__PURE__*/_jsxDEV(Button, {\n          onClick: () => markAllAsRead().catch(console.error),\n          variant: \"outline\",\n          size: \"sm\",\n          className: \"h-10 hover:bg-emerald-50 hover:text-emerald-700 hover:border-emerald-300\",\n          children: \"Marcar todas\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 386,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 366,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 360,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 md:grid-cols-4 gap-4\",\n      children: [/*#__PURE__*/_jsxDEV(Card, {\n        className: \"border-0 shadow-sm\",\n        children: /*#__PURE__*/_jsxDEV(CardContent, {\n          className: \"py-4 px-4\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-between\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-xs font-semibold text-slate-600\",\n                children: \"Total Alertas\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 403,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-2xl font-bold text-slate-900 mt-1\",\n                children: alerts.length\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 404,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 402,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-blue-100 p-2.5 rounded-xl\",\n              children: /*#__PURE__*/_jsxDEV(Bell, {\n                className: \"h-5 w-5 text-blue-600\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 407,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 406,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 401,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 400,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 399,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Card, {\n        className: \"border-0 shadow-sm border-l-4 border-l-rose-500\",\n        children: /*#__PURE__*/_jsxDEV(CardContent, {\n          className: \"py-4 px-4\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-between\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-xs font-semibold text-slate-600\",\n                children: \"No Le\\xEDdas\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 417,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-2xl font-bold text-rose-600 mt-1\",\n                children: unreadCount\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 418,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 416,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-rose-100 p-2.5 rounded-xl\",\n              children: /*#__PURE__*/_jsxDEV(AlertTriangle, {\n                className: \"h-5 w-5 text-rose-600\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 421,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 420,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 415,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 414,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 413,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Card, {\n        className: \"border-0 shadow-sm border-l-4 border-l-orange-500\",\n        children: /*#__PURE__*/_jsxDEV(CardContent, {\n          className: \"py-4 px-4\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-between\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-xs font-semibold text-slate-600\",\n                children: \"Cr\\xEDticas\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 431,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-2xl font-bold text-orange-600 mt-1\",\n                children: criticalCount\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 432,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 430,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-orange-100 p-2.5 rounded-xl\",\n              children: /*#__PURE__*/_jsxDEV(Shield, {\n                className: \"h-5 w-5 text-orange-600\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 435,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 434,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 429,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 428,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 427,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Card, {\n        className: \"border-0 shadow-sm border-l-4 border-l-emerald-500\",\n        children: /*#__PURE__*/_jsxDEV(CardContent, {\n          className: \"py-4 px-4\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-between\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-xs font-semibold text-slate-600\",\n                children: \"Procesadas\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 445,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-2xl font-bold text-emerald-600 mt-1\",\n                children: readCount\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 446,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 444,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-emerald-100 p-2.5 rounded-xl\",\n              children: /*#__PURE__*/_jsxDEV(CheckCircle, {\n                className: \"h-5 w-5 text-emerald-600\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 449,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 448,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 443,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 442,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 441,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 398,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Tabs, {\n      value: activeTab,\n      onValueChange: v => setActiveTab(v),\n      className: \"w-full\",\n      children: [/*#__PURE__*/_jsxDEV(TabsList, {\n        className: \"grid w-full max-w-md grid-cols-3 h-11\",\n        children: [/*#__PURE__*/_jsxDEV(TabsTrigger, {\n          value: \"all\",\n          className: \"text-sm font-bold\",\n          children: [\"Todas (\", alerts.length, \")\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 458,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(TabsTrigger, {\n          value: \"unread\",\n          className: \"text-sm font-bold\",\n          children: [\"No le\\xEDdas (\", unreadCount, \")\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 461,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(TabsTrigger, {\n          value: \"read\",\n          className: \"text-sm font-bold\",\n          children: [\"Le\\xEDdas (\", readCount, \")\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 464,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 457,\n        columnNumber: 9\n      }, this), [\"all\", \"unread\", \"read\"].map(tab => /*#__PURE__*/_jsxDEV(TabsContent, {\n        value: tab,\n        className: \"mt-5 space-y-4\",\n        children: pageData.length === 0 ? /*#__PURE__*/_jsxDEV(Card, {\n          className: \"border-0 shadow-sm\",\n          children: /*#__PURE__*/_jsxDEV(CardContent, {\n            className: \"py-14 text-center\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex flex-col items-center gap-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bg-slate-100 p-4 rounded-full\",\n                children: tab === \"unread\" ? /*#__PURE__*/_jsxDEV(CheckCircle, {\n                  className: \"h-10 w-10 text-emerald-600\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 477,\n                  columnNumber: 25\n                }, this) : /*#__PURE__*/_jsxDEV(Bell, {\n                  className: \"h-10 w-10 text-slate-400\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 479,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 475,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"font-semibold text-slate-900 mb-1\",\n                  children: tab === \"unread\" ? \"¡Todo al día!\" : \"No hay alertas\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 483,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-sm text-slate-600\",\n                  children: tab === \"unread\" ? \"No tienes alertas sin leer\" : \"El sistema no ha registrado alertas\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 486,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 482,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 474,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 473,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 472,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [pageData.map(a => /*#__PURE__*/_jsxDEV(AlertCard, {\n            alert: a\n          }, a.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 496,\n            columnNumber: 19\n          }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-between border-t pt-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-xs text-slate-600\",\n              children: [\"Mostrando\", \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"font-bold text-slate-900\",\n                children: (page - 1) * pageSize + 1\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 502,\n                columnNumber: 21\n              }, this), \" - \", /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"font-bold text-slate-900\",\n                children: Math.min(page * pageSize, filteredAlerts.length)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 504,\n                columnNumber: 21\n              }, this), \" \", \"de \", /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"font-bold text-slate-900\",\n                children: filteredAlerts.length\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 505,\n                columnNumber: 24\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 500,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center gap-2\",\n              children: [/*#__PURE__*/_jsxDEV(Button, {\n                variant: \"outline\",\n                size: \"sm\",\n                className: \"h-9 text-xs\",\n                onClick: goPrev,\n                disabled: !canPrev,\n                children: [/*#__PURE__*/_jsxDEV(ChevronLeft, {\n                  className: \"h-4 w-4 mr-1\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 510,\n                  columnNumber: 23\n                }, this), \"Anterior\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 509,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-xs font-bold px-2\",\n                children: [page, \" / \", totalPages]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 514,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                variant: \"outline\",\n                size: \"sm\",\n                className: \"h-9 text-xs\",\n                onClick: goNext,\n                disabled: !canNext,\n                children: [\"Siguiente\", /*#__PURE__*/_jsxDEV(ChevronRight, {\n                  className: \"h-4 w-4 ml-1\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 520,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 518,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 508,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 499,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true)\n      }, tab, false, {\n        fileName: _jsxFileName,\n        lineNumber: 470,\n        columnNumber: 11\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 456,\n      columnNumber: 7\n    }, this), openEvidence && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 z-[200] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white w-full max-w-4xl rounded-2xl overflow-hidden shadow-2xl relative\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => {\n            setOpenEvidence(false);\n            setEvidenceUrl(null);\n          },\n          className: \"absolute top-3 right-3 p-2 rounded-full bg-slate-100 hover:bg-slate-200\",\n          \"aria-label\": \"Cerrar\",\n          children: /*#__PURE__*/_jsxDEV(X, {\n            className: \"h-5 w-5\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 542,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 534,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-5 border-b\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-lg font-bold text-slate-900\",\n            children: evidenceTitle\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 546,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-xs text-slate-600 break-all\",\n            children: evidenceUrl !== null && evidenceUrl !== void 0 ? evidenceUrl : \"—\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 547,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 545,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-5 bg-slate-950\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-full aspect-video bg-black rounded-xl overflow-hidden flex items-center justify-center\",\n            children: evidenceUrl ? /*#__PURE__*/_jsxDEV(\"img\", {\n              src: evidenceUrl,\n              alt: \"Evidencia\",\n              className: \"w-full h-full object-contain\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 553,\n              columnNumber: 19\n            }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-white/70 text-sm\",\n              children: \"Sin evidencia\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 559,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 551,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 550,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-5 border-t flex justify-end gap-2\",\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            variant: \"outline\",\n            onClick: () => {\n              setOpenEvidence(false);\n              setEvidenceUrl(null);\n            },\n            children: \"Cerrar\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 565,\n            columnNumber: 15\n          }, this), evidenceUrl && /*#__PURE__*/_jsxDEV(Button, {\n            onClick: () => window.open(evidenceUrl, \"_blank\"),\n            children: \"Abrir en otra pesta\\xF1a\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 575,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 564,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 533,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 532,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 359,\n    columnNumber: 5\n  }, this);\n}\n_s(Alerts, \"A/Y8F8sq1ANv40tyjPQwp/54Uzg=\");\n_c = Alerts;\nvar _c;\n$RefreshReg$(_c, \"Alerts\");","map":{"version":3,"names":["React","useMemo","useState","useEffect","Card","CardContent","Badge","Button","Tabs","TabsList","TabsTrigger","TabsContent","AlertTriangle","CheckCircle","Clock","Camera","Shield","Bell","TrendingUp","ChevronLeft","ChevronRight","Eye","X","jsxDEV","_jsxDEV","Fragment","_Fragment","API_BASE","process","env","REACT_APP_API_BASE","toLocalDateTime","iso","timestamp","date","time","d","Date","toLocaleDateString","toLocaleTimeString","normalizeEvidenceUrl","url","startsWith","Alerts","_s","alerts","setAlerts","activeTab","setActiveTab","openEvidence","setOpenEvidence","evidenceUrl","setEvidenceUrl","evidenceTitle","setEvidenceTitle","pageSize","page","setPage","fetchAlerts","res","fetch","ok","Error","data","json","mapped","map","a","_a$camera_id","_a$weapon_type","_a$severity","_a$evidence_url","dt","id","_id","title","message","camera_id","camera_name","weapon_type","confidence","isRead","read","severity","evidence_url","catch","console","error","markAsRead","method","prev","markAllAsRead","unread","filter","deleteAll","unreadCount","length","readCount","criticalCount","filteredAlerts","totalPages","Math","max","ceil","canPrev","canNext","goPrev","p","goNext","min","pageData","start","slice","getSeverityConfig","badge","cardBorder","cardBg","icon","className","fileName","_jsxFileName","lineNumber","columnNumber","iconBg","label","pulseEffect","AlertCard","alert","config","canViewEvidence","children","style","width","toFixed","size","variant","onClick","_alert$evidence_url","value","onValueChange","v","tab","disabled","src","alt","window","open","_c","$RefreshReg$"],"sources":["D:/PROYECTO DE TESIS AÑO 2026/sistema-armas/frontend/src/components/Alerts.tsx"],"sourcesContent":["import React, { useMemo, useState, useEffect } from \"react\";\r\nimport { Card, CardContent } from \"./ui/card\";\r\nimport { Badge } from \"./ui/badge\";\r\nimport { Button } from \"./ui/button\";\r\nimport { Tabs, TabsList, TabsTrigger, TabsContent } from \"./ui/tabs\";\r\nimport {\r\n  AlertTriangle,\r\n  CheckCircle,\r\n  Clock,\r\n  Camera,\r\n  Shield,\r\n  Bell,\r\n  TrendingUp,\r\n  ChevronLeft,\r\n  ChevronRight,\r\n  Eye,\r\n  X,\r\n} from \"lucide-react\";\r\n\r\ntype Severity = \"critical\" | \"high\" | \"medium\" | \"low\";\r\n\r\ninterface AlertApi {\r\n  _id: string;\r\n  type?: string;\r\n  title: string;\r\n  message: string;\r\n  severity: Severity;\r\n  weapon_type?: string | null;\r\n  confidence?: number | null;\r\n  evidence_url?: string | null;\r\n  camera_id?: string | null;\r\n  timestamp?: string | null;\r\n  read?: boolean;\r\n}\r\n\r\ninterface AlertUI {\r\n  id: string;\r\n  title: string;\r\n  message: string;\r\n  timestamp: string;\r\n  date: string;\r\n  time: string;\r\n  camera_id: string;\r\n  camera_name: string;\r\n  weapon_type: string;\r\n  confidence: number;\r\n  isRead: boolean;\r\n  severity: Severity;\r\n  evidence_url?: string | null;\r\n}\r\n\r\nconst API_BASE =\r\n  process.env.REACT_APP_API_BASE || \"http://localhost:8000/api/v1\";\r\n\r\nfunction toLocalDateTime(iso?: string | null) {\r\n  if (!iso) {\r\n    return { timestamp: \"—\", date: \"—\", time: \"—\" };\r\n  }\r\n  const d = new Date(iso);\r\n  const date = d.toLocaleDateString();\r\n  const time = d.toLocaleTimeString();\r\n  return { timestamp: iso, date, time };\r\n}\r\n\r\nfunction normalizeEvidenceUrl(url?: string | null) {\r\n  if (!url) return null;\r\n  // Si viene como \"/static/...\" lo convertimos en URL completa\r\n  if (url.startsWith(\"/\")) return `http://localhost:8000${url}`;\r\n  return url;\r\n}\r\n\r\nexport function Alerts() {\r\n  const [alerts, setAlerts] = useState<AlertUI[]>([]);\r\n  const [activeTab, setActiveTab] = useState<\"all\" | \"unread\" | \"read\">(\"all\");\r\n\r\n  // modal evidencia\r\n  const [openEvidence, setOpenEvidence] = useState(false);\r\n  const [evidenceUrl, setEvidenceUrl] = useState<string | null>(null);\r\n  const [evidenceTitle, setEvidenceTitle] = useState<string>(\"\");\r\n\r\n  // paginación\r\n  const pageSize = 4;\r\n  const [page, setPage] = useState(1);\r\n\r\n  const fetchAlerts = async () => {\r\n    const res = await fetch(`${API_BASE}/alerts`);\r\n    if (!res.ok) throw new Error(\"No se pudo cargar alertas\");\r\n    const data: AlertApi[] = await res.json();\r\n\r\n    const mapped: AlertUI[] = data.map((a) => {\r\n      const dt = toLocalDateTime(a.timestamp);\r\n      return {\r\n        id: a._id,\r\n        title: a.title,\r\n        message: a.message,\r\n        timestamp: dt.timestamp,\r\n        date: dt.date,\r\n        time: dt.time,\r\n        camera_id: a.camera_id ?? \"—\",\r\n        camera_name: a.camera_id ? a.camera_id : \"—\", // si luego quieres nombre real, lo cruzamos con /cameras\r\n        weapon_type: a.weapon_type ?? \"—\",\r\n        confidence: typeof a.confidence === \"number\" ? a.confidence : 0,\r\n        isRead: !!a.read,\r\n        severity: (a.severity ?? \"medium\") as Severity,\r\n        evidence_url: normalizeEvidenceUrl(a.evidence_url ?? null),\r\n      };\r\n    });\r\n\r\n    setAlerts(mapped);\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchAlerts().catch(console.error);\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  const markAsRead = async (id: string) => {\r\n    // actualiza backend\r\n    await fetch(`${API_BASE}/alerts/${id}/read?read=true`, { method: \"PATCH\" });\r\n    // actualiza UI\r\n    setAlerts((prev) => prev.map((a) => (a.id === id ? { ...a, isRead: true } : a)));\r\n  };\r\n\r\n  const markAllAsRead = async () => {\r\n    // no tienes endpoint \"mark all\", así que lo hacemos 1x1\r\n    const unread = alerts.filter((a) => !a.isRead);\r\n    for (const a of unread) {\r\n      // eslint-disable-next-line no-await-in-loop\r\n      await fetch(`${API_BASE}/alerts/${a.id}/read?read=true`, { method: \"PATCH\" });\r\n    }\r\n    setAlerts((prev) => prev.map((a) => ({ ...a, isRead: true })));\r\n  };\r\n\r\n  const deleteAll = async () => {\r\n    await fetch(`${API_BASE}/alerts`, { method: \"DELETE\" });\r\n    setAlerts([]);\r\n  };\r\n\r\n  const unreadCount = useMemo(() => alerts.filter((a) => !a.isRead).length, [alerts]);\r\n  const readCount = useMemo(() => alerts.filter((a) => a.isRead).length, [alerts]);\r\n  const criticalCount = useMemo(() => alerts.filter((a) => a.severity === \"critical\").length, [alerts]);\r\n\r\n  const filteredAlerts = useMemo(() => {\r\n    return alerts.filter((a) => {\r\n      if (activeTab === \"unread\") return !a.isRead;\r\n      if (activeTab === \"read\") return a.isRead;\r\n      return true;\r\n    });\r\n  }, [alerts, activeTab]);\r\n\r\n  const totalPages = useMemo(\r\n    () => Math.max(1, Math.ceil(filteredAlerts.length / pageSize)),\r\n    [filteredAlerts.length]\r\n  );\r\n\r\n  const canPrev = page > 1;\r\n  const canNext = page < totalPages;\r\n\r\n  const goPrev = () => setPage((p) => Math.max(1, p - 1));\r\n  const goNext = () => setPage((p) => Math.min(totalPages, p + 1));\r\n\r\n  useEffect(() => {\r\n    setPage(1);\r\n  }, [activeTab]);\r\n\r\n  useEffect(() => {\r\n    setPage((p) => Math.min(p, totalPages));\r\n  }, [totalPages]);\r\n\r\n  const pageData = useMemo(() => {\r\n    const start = (page - 1) * pageSize;\r\n    return filteredAlerts.slice(start, start + pageSize);\r\n  }, [filteredAlerts, page]);\r\n\r\n  const getSeverityConfig = (severity: Severity) => {\r\n    switch (severity) {\r\n      case \"critical\":\r\n        return {\r\n          badge: \"bg-rose-600 text-white\",\r\n          cardBorder: \"border-l-4 border-l-rose-500\",\r\n          cardBg: \"bg-gradient-to-r from-rose-50/80 to-white\",\r\n          icon: <AlertTriangle className=\"h-4 w-4 text-rose-600\" />,\r\n          iconBg: \"bg-rose-100\",\r\n          label: \"Crítica\",\r\n          pulseEffect: \"animate-pulse\",\r\n        };\r\n      case \"high\":\r\n        return {\r\n          badge: \"bg-orange-600 text-white\",\r\n          cardBorder: \"border-l-4 border-l-orange-500\",\r\n          cardBg: \"bg-white\",\r\n          icon: <AlertTriangle className=\"h-4 w-4 text-orange-600\" />,\r\n          iconBg: \"bg-orange-100\",\r\n          label: \"Alta\",\r\n          pulseEffect: \"\",\r\n        };\r\n      case \"medium\":\r\n        return {\r\n          badge: \"bg-amber-600 text-white\",\r\n          cardBorder: \"border-l-4 border-l-amber-500\",\r\n          cardBg: \"bg-white\",\r\n          icon: <Shield className=\"h-4 w-4 text-amber-600\" />,\r\n          iconBg: \"bg-amber-100\",\r\n          label: \"Media\",\r\n          pulseEffect: \"\",\r\n        };\r\n      default:\r\n        return {\r\n          badge: \"bg-slate-600 text-white\",\r\n          cardBorder: \"border-l-4 border-l-slate-400\",\r\n          cardBg: \"bg-white\",\r\n          icon: <Shield className=\"h-4 w-4 text-slate-600\" />,\r\n          iconBg: \"bg-slate-100\",\r\n          label: \"Baja\",\r\n          pulseEffect: \"\",\r\n        };\r\n    }\r\n  };\r\n\r\n  const AlertCard = ({ alert }: { alert: AlertUI }) => {\r\n    const config = getSeverityConfig(alert.severity);\r\n\r\n    const canViewEvidence = !!alert.evidence_url;\r\n\r\n    return (\r\n      <Card\r\n        className={`border-0 shadow-sm hover:shadow-md transition-all duration-200 overflow-hidden ${config.cardBorder} ${config.cardBg} ${\r\n          alert.severity === \"critical\" && !alert.isRead ? \"ring-1 ring-rose-300\" : \"\"\r\n        }`}\r\n      >\r\n        <CardContent className=\"p-4\">\r\n          <div className=\"flex gap-3\">\r\n            <div\r\n              className={`${config.iconBg} p-2.5 rounded-xl h-fit ${\r\n                alert.severity === \"critical\" && !alert.isRead ? config.pulseEffect : \"\"\r\n              }`}\r\n            >\r\n              {config.icon}\r\n            </div>\r\n\r\n            <div className=\"flex-1 space-y-3 min-w-0\">\r\n              <div className=\"flex items-start justify-between gap-3\">\r\n                <div className=\"min-w-0\">\r\n                  <div className=\"flex items-center gap-2 flex-wrap\">\r\n                    <h3 className=\"font-bold text-base text-slate-900 truncate\">{alert.title}</h3>\r\n                    {!alert.isRead && (\r\n                      <Badge className=\"bg-blue-600 text-white shadow-sm text-[11px] px-2 py-0.5\">\r\n                        <Bell className=\"h-3 w-3 mr-1\" />\r\n                        Nueva\r\n                      </Badge>\r\n                    )}\r\n                  </div>\r\n                  <p className=\"text-slate-700 text-sm leading-snug mt-1\">{alert.message}</p>\r\n                </div>\r\n\r\n                <Badge className={`${config.badge} font-bold text-xs px-3 py-1 shadow-sm whitespace-nowrap`}>\r\n                  {config.label}\r\n                </Badge>\r\n              </div>\r\n\r\n              <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-2\">\r\n                <div className=\"bg-slate-50 rounded-lg p-2.5 border border-slate-200\">\r\n                  <p className=\"text-[10px] text-slate-600 font-bold mb-1 uppercase\">Detección</p>\r\n                  <div className=\"flex items-center gap-2\">\r\n                    <Shield className=\"h-3.5 w-3.5 text-blue-600\" />\r\n                    <p className=\"font-bold text-slate-900 text-xs truncate\">{alert.weapon_type}</p>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"bg-slate-50 rounded-lg p-2.5 border border-slate-200\">\r\n                  <p className=\"text-[10px] text-slate-600 font-bold mb-1 uppercase\">Cámara</p>\r\n                  <div className=\"flex items-center gap-2\">\r\n                    <Camera className=\"h-3.5 w-3.5 text-blue-600\" />\r\n                    <div className=\"min-w-0\">\r\n                      <p className=\"font-mono text-[11px] font-bold text-slate-900\">{alert.camera_id}</p>\r\n                      <p className=\"text-[11px] text-slate-600 truncate\">{alert.camera_name}</p>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"bg-slate-50 rounded-lg p-2.5 border border-slate-200\">\r\n                  <p className=\"text-[10px] text-slate-600 font-bold mb-1 uppercase\">Confianza</p>\r\n                  <div className=\"flex items-center gap-2\">\r\n                    <TrendingUp className=\"h-3.5 w-3.5 text-emerald-600\" />\r\n                    <div className=\"flex items-center gap-2\">\r\n                      <div className=\"w-14 bg-slate-200 rounded-full h-1.5 overflow-hidden\">\r\n                        <div\r\n                          className={`h-full ${\r\n                            alert.confidence >= 0.9\r\n                              ? \"bg-emerald-500\"\r\n                              : alert.confidence >= 0.7\r\n                              ? \"bg-amber-500\"\r\n                              : \"bg-rose-500\"\r\n                          }`}\r\n                          style={{ width: `${alert.confidence * 100}%` }}\r\n                        />\r\n                      </div>\r\n                      <span className=\"font-bold text-slate-900 text-xs\">\r\n                        {(alert.confidence * 100).toFixed(0)}%\r\n                      </span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"bg-slate-50 rounded-lg p-2.5 border border-slate-200\">\r\n                  <p className=\"text-[10px] text-slate-600 font-bold mb-1 uppercase\">Fecha y Hora</p>\r\n                  <div className=\"flex items-center gap-2\">\r\n                    <Clock className=\"h-3.5 w-3.5 text-blue-600\" />\r\n                    <div>\r\n                      <p className=\"font-mono text-[11px] font-bold text-slate-900\">{alert.time}</p>\r\n                      <p className=\"font-mono text-[11px] text-slate-600\">{alert.date}</p>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"flex flex-wrap items-center gap-2 pt-1\">\r\n                {canViewEvidence && (\r\n                  <Button\r\n                    size=\"sm\"\r\n                    variant=\"outline\"\r\n                    className=\"h-9 text-xs\"\r\n                    onClick={() => {\r\n                      setEvidenceUrl(alert.evidence_url ?? null);\r\n                      setEvidenceTitle(`Evidencia - ${alert.weapon_type}`);\r\n                      setOpenEvidence(true);\r\n                    }}\r\n                  >\r\n                    <Eye className=\"h-4 w-4 mr-2\" />\r\n                    Ver evidencia\r\n                  </Button>\r\n                )}\r\n\r\n                {!alert.isRead && (\r\n                  <Button\r\n                    size=\"sm\"\r\n                    onClick={() => markAsRead(alert.id)}\r\n                    className=\"h-9 text-xs bg-gradient-to-r from-emerald-600 to-emerald-700 hover:from-emerald-700 hover:to-emerald-800 text-white shadow-sm\"\r\n                  >\r\n                    <CheckCircle className=\"h-4 w-4 mr-2\" />\r\n                    Marcar como leída\r\n                  </Button>\r\n                )}\r\n              </div>\r\n\r\n              {!canViewEvidence && (\r\n                <p className=\"text-[11px] text-slate-500\">\r\n                  (Esta alerta no tiene evidencia asociada)\r\n                </p>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-5\">\r\n      <div className=\"flex flex-col lg:flex-row lg:items-center justify-between gap-3\">\r\n        <div>\r\n          <h1 className=\"text-2xl md:text-3xl font-bold text-slate-900\">Centro de Alertas</h1>\r\n          <p className=\"text-slate-600 text-sm mt-1\">Notificaciones en tiempo real del sistema de detección</p>\r\n        </div>\r\n\r\n        <div className=\"flex gap-2\">\r\n          <Button\r\n            onClick={() => fetchAlerts().catch(console.error)}\r\n            variant=\"outline\"\r\n            size=\"sm\"\r\n            className=\"h-10\"\r\n          >\r\n            Refrescar\r\n          </Button>\r\n\r\n          <Button\r\n            onClick={() => deleteAll().catch(console.error)}\r\n            variant=\"outline\"\r\n            size=\"sm\"\r\n            className=\"h-10 text-rose-600 hover:bg-rose-50\"\r\n          >\r\n            Limpiar\r\n          </Button>\r\n\r\n          {unreadCount > 0 && (\r\n            <Button\r\n              onClick={() => markAllAsRead().catch(console.error)}\r\n              variant=\"outline\"\r\n              size=\"sm\"\r\n              className=\"h-10 hover:bg-emerald-50 hover:text-emerald-700 hover:border-emerald-300\"\r\n            >\r\n              Marcar todas\r\n            </Button>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\r\n        <Card className=\"border-0 shadow-sm\">\r\n          <CardContent className=\"py-4 px-4\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <div>\r\n                <p className=\"text-xs font-semibold text-slate-600\">Total Alertas</p>\r\n                <p className=\"text-2xl font-bold text-slate-900 mt-1\">{alerts.length}</p>\r\n              </div>\r\n              <div className=\"bg-blue-100 p-2.5 rounded-xl\">\r\n                <Bell className=\"h-5 w-5 text-blue-600\" />\r\n              </div>\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n\r\n        <Card className=\"border-0 shadow-sm border-l-4 border-l-rose-500\">\r\n          <CardContent className=\"py-4 px-4\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <div>\r\n                <p className=\"text-xs font-semibold text-slate-600\">No Leídas</p>\r\n                <p className=\"text-2xl font-bold text-rose-600 mt-1\">{unreadCount}</p>\r\n              </div>\r\n              <div className=\"bg-rose-100 p-2.5 rounded-xl\">\r\n                <AlertTriangle className=\"h-5 w-5 text-rose-600\" />\r\n              </div>\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n\r\n        <Card className=\"border-0 shadow-sm border-l-4 border-l-orange-500\">\r\n          <CardContent className=\"py-4 px-4\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <div>\r\n                <p className=\"text-xs font-semibold text-slate-600\">Críticas</p>\r\n                <p className=\"text-2xl font-bold text-orange-600 mt-1\">{criticalCount}</p>\r\n              </div>\r\n              <div className=\"bg-orange-100 p-2.5 rounded-xl\">\r\n                <Shield className=\"h-5 w-5 text-orange-600\" />\r\n              </div>\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n\r\n        <Card className=\"border-0 shadow-sm border-l-4 border-l-emerald-500\">\r\n          <CardContent className=\"py-4 px-4\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <div>\r\n                <p className=\"text-xs font-semibold text-slate-600\">Procesadas</p>\r\n                <p className=\"text-2xl font-bold text-emerald-600 mt-1\">{readCount}</p>\r\n              </div>\r\n              <div className=\"bg-emerald-100 p-2.5 rounded-xl\">\r\n                <CheckCircle className=\"h-5 w-5 text-emerald-600\" />\r\n              </div>\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n      </div>\r\n\r\n      <Tabs value={activeTab} onValueChange={(v) => setActiveTab(v as any)} className=\"w-full\">\r\n        <TabsList className=\"grid w-full max-w-md grid-cols-3 h-11\">\r\n          <TabsTrigger value=\"all\" className=\"text-sm font-bold\">\r\n            Todas ({alerts.length})\r\n          </TabsTrigger>\r\n          <TabsTrigger value=\"unread\" className=\"text-sm font-bold\">\r\n            No leídas ({unreadCount})\r\n          </TabsTrigger>\r\n          <TabsTrigger value=\"read\" className=\"text-sm font-bold\">\r\n            Leídas ({readCount})\r\n          </TabsTrigger>\r\n        </TabsList>\r\n\r\n        {([\"all\", \"unread\", \"read\"] as const).map((tab) => (\r\n          <TabsContent key={tab} value={tab} className=\"mt-5 space-y-4\">\r\n            {pageData.length === 0 ? (\r\n              <Card className=\"border-0 shadow-sm\">\r\n                <CardContent className=\"py-14 text-center\">\r\n                  <div className=\"flex flex-col items-center gap-3\">\r\n                    <div className=\"bg-slate-100 p-4 rounded-full\">\r\n                      {tab === \"unread\" ? (\r\n                        <CheckCircle className=\"h-10 w-10 text-emerald-600\" />\r\n                      ) : (\r\n                        <Bell className=\"h-10 w-10 text-slate-400\" />\r\n                      )}\r\n                    </div>\r\n                    <div>\r\n                      <p className=\"font-semibold text-slate-900 mb-1\">\r\n                        {tab === \"unread\" ? \"¡Todo al día!\" : \"No hay alertas\"}\r\n                      </p>\r\n                      <p className=\"text-sm text-slate-600\">\r\n                        {tab === \"unread\" ? \"No tienes alertas sin leer\" : \"El sistema no ha registrado alertas\"}\r\n                      </p>\r\n                    </div>\r\n                  </div>\r\n                </CardContent>\r\n              </Card>\r\n            ) : (\r\n              <>\r\n                {pageData.map((a) => (\r\n                  <AlertCard key={a.id} alert={a} />\r\n                ))}\r\n\r\n                <div className=\"flex items-center justify-between border-t pt-4\">\r\n                  <p className=\"text-xs text-slate-600\">\r\n                    Mostrando{\" \"}\r\n                    <span className=\"font-bold text-slate-900\">{(page - 1) * pageSize + 1}</span>\r\n                    {\" - \"}\r\n                    <span className=\"font-bold text-slate-900\">{Math.min(page * pageSize, filteredAlerts.length)}</span>{\" \"}\r\n                    de <span className=\"font-bold text-slate-900\">{filteredAlerts.length}</span>\r\n                  </p>\r\n\r\n                  <div className=\"flex items-center gap-2\">\r\n                    <Button variant=\"outline\" size=\"sm\" className=\"h-9 text-xs\" onClick={goPrev} disabled={!canPrev}>\r\n                      <ChevronLeft className=\"h-4 w-4 mr-1\" />\r\n                      Anterior\r\n                    </Button>\r\n\r\n                    <div className=\"text-xs font-bold px-2\">\r\n                      {page} / {totalPages}\r\n                    </div>\r\n\r\n                    <Button variant=\"outline\" size=\"sm\" className=\"h-9 text-xs\" onClick={goNext} disabled={!canNext}>\r\n                      Siguiente\r\n                      <ChevronRight className=\"h-4 w-4 ml-1\" />\r\n                    </Button>\r\n                  </div>\r\n                </div>\r\n              </>\r\n            )}\r\n          </TabsContent>\r\n        ))}\r\n      </Tabs>\r\n\r\n      {/* ✅ MODAL EVIDENCIA */}\r\n      {openEvidence && (\r\n        <div className=\"fixed inset-0 z-[200] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm\">\r\n          <div className=\"bg-white w-full max-w-4xl rounded-2xl overflow-hidden shadow-2xl relative\">\r\n            <button\r\n              onClick={() => {\r\n                setOpenEvidence(false);\r\n                setEvidenceUrl(null);\r\n              }}\r\n              className=\"absolute top-3 right-3 p-2 rounded-full bg-slate-100 hover:bg-slate-200\"\r\n              aria-label=\"Cerrar\"\r\n            >\r\n              <X className=\"h-5 w-5\" />\r\n            </button>\r\n\r\n            <div className=\"p-5 border-b\">\r\n              <h3 className=\"text-lg font-bold text-slate-900\">{evidenceTitle}</h3>\r\n              <p className=\"text-xs text-slate-600 break-all\">{evidenceUrl ?? \"—\"}</p>\r\n            </div>\r\n\r\n            <div className=\"p-5 bg-slate-950\">\r\n              <div className=\"w-full aspect-video bg-black rounded-xl overflow-hidden flex items-center justify-center\">\r\n                {evidenceUrl ? (\r\n                  <img\r\n                    src={evidenceUrl}\r\n                    alt=\"Evidencia\"\r\n                    className=\"w-full h-full object-contain\"\r\n                  />\r\n                ) : (\r\n                  <p className=\"text-white/70 text-sm\">Sin evidencia</p>\r\n                )}\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"p-5 border-t flex justify-end gap-2\">\r\n              <Button\r\n                variant=\"outline\"\r\n                onClick={() => {\r\n                  setOpenEvidence(false);\r\n                  setEvidenceUrl(null);\r\n                }}\r\n              >\r\n                Cerrar\r\n              </Button>\r\n              {evidenceUrl && (\r\n                <Button onClick={() => window.open(evidenceUrl, \"_blank\")}>\r\n                  Abrir en otra pestaña\r\n                </Button>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
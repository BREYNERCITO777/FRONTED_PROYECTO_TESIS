{"ast":null,"code":"import React,{useMemo,useState,useEffect}from\"react\";import{Card,CardContent}from\"../../../shared/ui/card\";import{Badge}from\"../../../shared/ui/badge\";import{Button}from\"../../../shared/ui/button\";import{Tabs,TabsList,TabsTrigger,TabsContent}from\"../../../shared/ui/tabs\";import{AlertTriangle,CheckCircle,Clock,Camera,Shield,Bell,TrendingUp,ChevronLeft,ChevronRight,Trash2,RefreshCw}from\"lucide-react\";import{useAlerts}from\"../../../app/providers/alerts-context\";import{useAuth}from\"../../../context/auth-context\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";export function Alerts(){var _user$role;const{user}=useAuth();const isAdmin=(user===null||user===void 0?void 0:user.role)===\"admin\";// ✅ ahora ya viene tipado desde el provider\nconst{alerts,unreadCount,refresh,markAsRead,markAllAsRead,deleteAlert}=useAlerts();const[activeTab,setActiveTab]=useState(\"all\");// paginación\nconst pageSize=4;const[page,setPage]=useState(1);const readCount=useMemo(()=>alerts.filter(a=>a.read).length,[alerts]);const criticalCount=useMemo(()=>alerts.filter(a=>a.severity===\"critical\").length,[alerts]);const filteredAlerts=useMemo(()=>{return alerts.filter(a=>{if(activeTab===\"unread\")return!a.read;if(activeTab===\"read\")return!!a.read;return true;});},[alerts,activeTab]);const totalPages=useMemo(()=>Math.max(1,Math.ceil(filteredAlerts.length/pageSize)),[filteredAlerts.length]);const canPrev=page>1;const canNext=page<totalPages;const goPrev=()=>setPage(p=>Math.max(1,p-1));const goNext=()=>setPage(p=>Math.min(totalPages,p+1));useEffect(()=>setPage(1),[activeTab]);useEffect(()=>setPage(p=>Math.min(p,totalPages)),[totalPages]);const pageData=useMemo(()=>{const start=(page-1)*pageSize;return filteredAlerts.slice(start,start+pageSize);},[filteredAlerts,page]);const formatDateTime=iso=>{if(!iso)return{date:\"-\",time:\"-\"};const d=new Date(iso);const date=d.toLocaleDateString();const time=d.toLocaleTimeString();return{date,time};};const getSeverityConfig=severity=>{switch(severity){case\"critical\":return{badge:\"bg-rose-600 text-white\",cardBorder:\"border-l-4 border-l-rose-500\",cardBg:\"bg-gradient-to-r from-rose-50/80 to-white\",icon:/*#__PURE__*/_jsx(AlertTriangle,{className:\"h-4 w-4 text-rose-600\"}),iconBg:\"bg-rose-100\",label:\"Crítica\",pulseEffect:\"animate-pulse\"};case\"high\":return{badge:\"bg-orange-600 text-white\",cardBorder:\"border-l-4 border-l-orange-500\",cardBg:\"bg-white\",icon:/*#__PURE__*/_jsx(AlertTriangle,{className:\"h-4 w-4 text-orange-600\"}),iconBg:\"bg-orange-100\",label:\"Alta\",pulseEffect:\"\"};case\"medium\":return{badge:\"bg-amber-600 text-white\",cardBorder:\"border-l-4 border-l-amber-500\",cardBg:\"bg-white\",icon:/*#__PURE__*/_jsx(Shield,{className:\"h-4 w-4 text-amber-600\"}),iconBg:\"bg-amber-100\",label:\"Media\",pulseEffect:\"\"};default:return{badge:\"bg-slate-600 text-white\",cardBorder:\"border-l-4 border-l-slate-400\",cardBg:\"bg-white\",icon:/*#__PURE__*/_jsx(Shield,{className:\"h-4 w-4 text-slate-600\"}),iconBg:\"bg-slate-100\",label:\"Baja\",pulseEffect:\"\"};}};const AlertCard=_ref=>{var _alert$weapon_type,_alert$camera_id,_alert$confidence,_alert$confidence2,_alert$confidence3;let{alert}=_ref;const config=getSeverityConfig(alert.severity);const dt=formatDateTime(alert.timestamp);return/*#__PURE__*/_jsx(Card,{className:\"border-0 shadow-sm hover:shadow-md transition-all duration-200 overflow-hidden \".concat(config.cardBorder,\" \").concat(config.cardBg,\" \").concat(alert.severity===\"critical\"&&!alert.read?\"ring-1 ring-rose-300\":\"\"),children:/*#__PURE__*/_jsx(CardContent,{className:\"p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"\".concat(config.iconBg,\" p-2.5 rounded-xl h-fit \").concat(alert.severity===\"critical\"&&!alert.read?config.pulseEffect:\"\"),children:config.icon}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 space-y-3 min-w-0\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start justify-between gap-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"min-w-0\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2 flex-wrap\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-bold text-base text-slate-900 truncate\",children:alert.title}),!alert.read&&/*#__PURE__*/_jsxs(Badge,{className:\"bg-blue-600 text-white shadow-sm text-[11px] px-2 py-0.5\",children:[/*#__PURE__*/_jsx(Bell,{className:\"h-3 w-3 mr-1\"}),\"Nueva\"]})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-slate-700 text-sm leading-snug mt-1\",children:alert.message})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(Badge,{className:\"\".concat(config.badge,\" font-bold text-xs px-3 py-1 shadow-sm whitespace-nowrap\"),children:config.label}),/*#__PURE__*/_jsx(Button,{size:\"icon\",variant:\"outline\",className:\"h-9 w-9 text-rose-600\",title:isAdmin?\"Eliminar alerta\":\"Solo admin puede eliminar\",disabled:!isAdmin,onClick:async()=>{if(!isAdmin)return;try{await deleteAlert(alert._id);// NO necesitas refresh: deleteAlert ya actualiza estado (optimistic)\n}catch(e){// si falla, refrescamos para volver a estado real\nawait refresh();}},children:/*#__PURE__*/_jsx(Trash2,{className:\"h-4 w-4\"})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-slate-50 rounded-lg p-2.5 border border-slate-200\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-[10px] text-slate-600 font-bold mb-1 uppercase\",children:\"Detecci\\xF3n\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(Shield,{className:\"h-3.5 w-3.5 text-blue-600\"}),/*#__PURE__*/_jsx(\"p\",{className:\"font-bold text-slate-900 text-xs truncate\",children:(_alert$weapon_type=alert.weapon_type)!==null&&_alert$weapon_type!==void 0?_alert$weapon_type:\"-\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-slate-50 rounded-lg p-2.5 border border-slate-200\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-[10px] text-slate-600 font-bold mb-1 uppercase\",children:\"C\\xE1mara\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(Camera,{className:\"h-3.5 w-3.5 text-blue-600\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"min-w-0\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-mono text-[11px] font-bold text-slate-900\",children:(_alert$camera_id=alert.camera_id)!==null&&_alert$camera_id!==void 0?_alert$camera_id:\"-\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-[11px] text-slate-600 truncate\",children:\"\\u2014\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-slate-50 rounded-lg p-2.5 border border-slate-200\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-[10px] text-slate-600 font-bold mb-1 uppercase\",children:\"Confianza\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(TrendingUp,{className:\"h-3.5 w-3.5 text-emerald-600\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-14 bg-slate-200 rounded-full h-1.5 overflow-hidden\",children:/*#__PURE__*/_jsx(\"div\",{className:\"h-full \".concat(((_alert$confidence=alert.confidence)!==null&&_alert$confidence!==void 0?_alert$confidence:0)>=0.9?\"bg-emerald-500\":((_alert$confidence2=alert.confidence)!==null&&_alert$confidence2!==void 0?_alert$confidence2:0)>=0.7?\"bg-amber-500\":\"bg-rose-500\"),style:{width:\"\".concat(Math.max(0,Math.min(1,(_alert$confidence3=alert.confidence)!==null&&_alert$confidence3!==void 0?_alert$confidence3:0))*100,\"%\")}})}),/*#__PURE__*/_jsx(\"span\",{className:\"font-bold text-slate-900 text-xs\",children:alert.confidence!=null?\"\".concat((alert.confidence*100).toFixed(0),\"%\"):\"-\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-slate-50 rounded-lg p-2.5 border border-slate-200\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-[10px] text-slate-600 font-bold mb-1 uppercase\",children:\"Fecha y Hora\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(Clock,{className:\"h-3.5 w-3.5 text-blue-600\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-mono text-[11px] font-bold text-slate-900\",children:dt.time}),/*#__PURE__*/_jsx(\"p\",{className:\"font-mono text-[11px] text-slate-600\",children:dt.date})]})]})]})]}),!alert.read&&/*#__PURE__*/_jsx(\"div\",{className:\"pt-1\",children:/*#__PURE__*/_jsxs(Button,{size:\"sm\",onClick:()=>markAsRead(alert._id),className:\"h-9 text-xs bg-gradient-to-r from-emerald-600 to-emerald-700 hover:from-emerald-700 hover:to-emerald-800 text-white shadow-sm\",children:[/*#__PURE__*/_jsx(CheckCircle,{className:\"h-4 w-4 mr-2\"}),\"Marcar como le\\xEDda\"]})})]})]})})});};return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-5\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col lg:flex-row lg:items-center justify-between gap-3\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl md:text-3xl font-bold text-slate-900\",children:\"Centro de Alertas\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-slate-600 text-sm mt-1\",children:\"Notificaciones en tiempo real del sistema de detecci\\xF3n\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-slate-500 mt-1\",children:[\"Rol: \",/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold\",children:(_user$role=user===null||user===void 0?void 0:user.role)!==null&&_user$role!==void 0?_user$role:\"—\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsxs(Button,{variant:\"outline\",size:\"sm\",className:\"h-10\",onClick:()=>refresh(),children:[/*#__PURE__*/_jsx(RefreshCw,{className:\"h-4 w-4 mr-2\"}),\"Refrescar\"]}),unreadCount>0&&/*#__PURE__*/_jsxs(Button,{onClick:()=>markAllAsRead(),variant:\"outline\",size:\"sm\",className:\"h-10 hover:bg-emerald-50 hover:text-emerald-700 hover:border-emerald-300\",children:[/*#__PURE__*/_jsx(CheckCircle,{className:\"h-4 w-4 mr-2\"}),\"Marcar todas\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-4 gap-4\",children:[/*#__PURE__*/_jsx(Card,{className:\"border-0 shadow-sm\",children:/*#__PURE__*/_jsx(CardContent,{className:\"py-4 px-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-xs font-semibold text-slate-600\",children:\"Total Alertas\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-slate-900 mt-1\",children:alerts.length})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-blue-100 p-2.5 rounded-xl\",children:/*#__PURE__*/_jsx(Bell,{className:\"h-5 w-5 text-blue-600\"})})]})})}),/*#__PURE__*/_jsx(Card,{className:\"border-0 shadow-sm border-l-4 border-l-rose-500\",children:/*#__PURE__*/_jsx(CardContent,{className:\"py-4 px-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-xs font-semibold text-slate-600\",children:\"No Le\\xEDdas\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-rose-600 mt-1\",children:unreadCount})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-rose-100 p-2.5 rounded-xl\",children:/*#__PURE__*/_jsx(AlertTriangle,{className:\"h-5 w-5 text-rose-600\"})})]})})}),/*#__PURE__*/_jsx(Card,{className:\"border-0 shadow-sm border-l-4 border-l-orange-500\",children:/*#__PURE__*/_jsx(CardContent,{className:\"py-4 px-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-xs font-semibold text-slate-600\",children:\"Cr\\xEDticas\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-orange-600 mt-1\",children:criticalCount})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-orange-100 p-2.5 rounded-xl\",children:/*#__PURE__*/_jsx(Shield,{className:\"h-5 w-5 text-orange-600\"})})]})})}),/*#__PURE__*/_jsx(Card,{className:\"border-0 shadow-sm border-l-4 border-l-emerald-500\",children:/*#__PURE__*/_jsx(CardContent,{className:\"py-4 px-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-xs font-semibold text-slate-600\",children:\"Procesadas\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-emerald-600 mt-1\",children:readCount})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-emerald-100 p-2.5 rounded-xl\",children:/*#__PURE__*/_jsx(CheckCircle,{className:\"h-5 w-5 text-emerald-600\"})})]})})})]}),/*#__PURE__*/_jsxs(Tabs,{value:activeTab,onValueChange:v=>setActiveTab(v),className:\"w-full\",children:[/*#__PURE__*/_jsxs(TabsList,{className:\"grid w-full max-w-md grid-cols-3 h-11\",children:[/*#__PURE__*/_jsxs(TabsTrigger,{value:\"all\",className:\"text-sm font-bold\",children:[\"Todas (\",alerts.length,\")\"]}),/*#__PURE__*/_jsxs(TabsTrigger,{value:\"unread\",className:\"text-sm font-bold\",children:[\"No le\\xEDdas (\",unreadCount,\")\"]}),/*#__PURE__*/_jsxs(TabsTrigger,{value:\"read\",className:\"text-sm font-bold\",children:[\"Le\\xEDdas (\",readCount,\")\"]})]}),[\"all\",\"unread\",\"read\"].map(tab=>/*#__PURE__*/_jsx(TabsContent,{value:tab,className:\"mt-5 space-y-4\",children:pageData.length===0?/*#__PURE__*/_jsx(Card,{className:\"border-0 shadow-sm\",children:/*#__PURE__*/_jsx(CardContent,{className:\"py-14 text-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col items-center gap-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-slate-100 p-4 rounded-full\",children:tab===\"unread\"?/*#__PURE__*/_jsx(CheckCircle,{className:\"h-10 w-10 text-emerald-600\"}):/*#__PURE__*/_jsx(Bell,{className:\"h-10 w-10 text-slate-400\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-semibold text-slate-900 mb-1\",children:tab===\"unread\"?\"¡Todo al día!\":\"No hay alertas\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-slate-600\",children:tab===\"unread\"?\"No tienes alertas sin leer\":\"El sistema no ha registrado alertas\"})]})]})})}):/*#__PURE__*/_jsxs(_Fragment,{children:[pageData.map(a=>/*#__PURE__*/_jsx(AlertCard,{alert:a},a._id)),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between border-t pt-4\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-slate-600\",children:[\"Mostrando\",\" \",/*#__PURE__*/_jsx(\"span\",{className:\"font-bold text-slate-900\",children:(page-1)*pageSize+1}),\" - \",/*#__PURE__*/_jsx(\"span\",{className:\"font-bold text-slate-900\",children:Math.min(page*pageSize,filteredAlerts.length)}),\" \",\"de \",/*#__PURE__*/_jsx(\"span\",{className:\"font-bold text-slate-900\",children:filteredAlerts.length})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsxs(Button,{variant:\"outline\",size:\"sm\",className:\"h-9 text-xs\",onClick:goPrev,disabled:!canPrev,children:[/*#__PURE__*/_jsx(ChevronLeft,{className:\"h-4 w-4 mr-1\"}),\"Anterior\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs font-bold px-2\",children:[page,\" / \",totalPages]}),/*#__PURE__*/_jsxs(Button,{variant:\"outline\",size:\"sm\",className:\"h-9 text-xs\",onClick:goNext,disabled:!canNext,children:[\"Siguiente\",/*#__PURE__*/_jsx(ChevronRight,{className:\"h-4 w-4 ml-1\"})]})]})]})]})},tab))]})]});}","map":{"version":3,"names":["React","useMemo","useState","useEffect","Card","CardContent","Badge","Button","Tabs","TabsList","TabsTrigger","TabsContent","AlertTriangle","CheckCircle","Clock","Camera","Shield","Bell","TrendingUp","ChevronLeft","ChevronRight","Trash2","RefreshCw","useAlerts","useAuth","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Alerts","_user$role","user","isAdmin","role","alerts","unreadCount","refresh","markAsRead","markAllAsRead","deleteAlert","activeTab","setActiveTab","pageSize","page","setPage","readCount","filter","a","read","length","criticalCount","severity","filteredAlerts","totalPages","Math","max","ceil","canPrev","canNext","goPrev","p","goNext","min","pageData","start","slice","formatDateTime","iso","date","time","d","Date","toLocaleDateString","toLocaleTimeString","getSeverityConfig","badge","cardBorder","cardBg","icon","className","iconBg","label","pulseEffect","AlertCard","_ref","_alert$weapon_type","_alert$camera_id","_alert$confidence","_alert$confidence2","_alert$confidence3","alert","config","dt","timestamp","concat","children","title","message","size","variant","disabled","onClick","_id","e","weapon_type","camera_id","confidence","style","width","toFixed","value","onValueChange","v","map","tab"],"sources":["D:/PROYECTO DE TESIS AÑO 2026/sistema-armas/frontend/src/modules/alerts/ui/Alerts.tsx"],"sourcesContent":["import React, { useMemo, useState, useEffect } from \"react\";\r\nimport { Card, CardContent } from \"../../../shared/ui/card\";\r\nimport { Badge } from \"../../../shared/ui/badge\";\r\nimport { Button } from \"../../../shared/ui/button\";\r\nimport { Tabs, TabsList, TabsTrigger, TabsContent } from \"../../../shared/ui/tabs\";\r\nimport {\r\n  AlertTriangle,\r\n  CheckCircle,\r\n  Clock,\r\n  Camera,\r\n  Shield,\r\n  Bell,\r\n  TrendingUp,\r\n  ChevronLeft,\r\n  ChevronRight,\r\n  Trash2,\r\n  RefreshCw,\r\n} from \"lucide-react\";\r\n\r\nimport { useAlerts } from \"../../../app/providers/alerts-context\";\r\nimport { useAuth } from \"../../../context/auth-context\";\r\n\r\ntype Tab = \"all\" | \"unread\" | \"read\";\r\n\r\nexport function Alerts() {\r\n  const { user } = useAuth();\r\n  const isAdmin = user?.role === \"admin\";\r\n\r\n  // ✅ ahora ya viene tipado desde el provider\r\n  const { alerts, unreadCount, refresh, markAsRead, markAllAsRead, deleteAlert } = useAlerts();\r\n\r\n  const [activeTab, setActiveTab] = useState<Tab>(\"all\");\r\n\r\n  // paginación\r\n  const pageSize = 4;\r\n  const [page, setPage] = useState(1);\r\n\r\n  const readCount = useMemo(() => alerts.filter((a) => a.read).length, [alerts]);\r\n  const criticalCount = useMemo(() => alerts.filter((a) => a.severity === \"critical\").length, [alerts]);\r\n\r\n  const filteredAlerts = useMemo(() => {\r\n    return alerts.filter((a) => {\r\n      if (activeTab === \"unread\") return !a.read;\r\n      if (activeTab === \"read\") return !!a.read;\r\n      return true;\r\n    });\r\n  }, [alerts, activeTab]);\r\n\r\n  const totalPages = useMemo(\r\n    () => Math.max(1, Math.ceil(filteredAlerts.length / pageSize)),\r\n    [filteredAlerts.length]\r\n  );\r\n\r\n  const canPrev = page > 1;\r\n  const canNext = page < totalPages;\r\n\r\n  const goPrev = () => setPage((p) => Math.max(1, p - 1));\r\n  const goNext = () => setPage((p) => Math.min(totalPages, p + 1));\r\n\r\n  useEffect(() => setPage(1), [activeTab]);\r\n  useEffect(() => setPage((p) => Math.min(p, totalPages)), [totalPages]);\r\n\r\n  const pageData = useMemo(() => {\r\n    const start = (page - 1) * pageSize;\r\n    return filteredAlerts.slice(start, start + pageSize);\r\n  }, [filteredAlerts, page]);\r\n\r\n  const formatDateTime = (iso?: string | null) => {\r\n    if (!iso) return { date: \"-\", time: \"-\" };\r\n    const d = new Date(iso);\r\n    const date = d.toLocaleDateString();\r\n    const time = d.toLocaleTimeString();\r\n    return { date, time };\r\n  };\r\n\r\n  const getSeverityConfig = (severity: string) => {\r\n    switch (severity) {\r\n      case \"critical\":\r\n        return {\r\n          badge: \"bg-rose-600 text-white\",\r\n          cardBorder: \"border-l-4 border-l-rose-500\",\r\n          cardBg: \"bg-gradient-to-r from-rose-50/80 to-white\",\r\n          icon: <AlertTriangle className=\"h-4 w-4 text-rose-600\" />,\r\n          iconBg: \"bg-rose-100\",\r\n          label: \"Crítica\",\r\n          pulseEffect: \"animate-pulse\",\r\n        };\r\n      case \"high\":\r\n        return {\r\n          badge: \"bg-orange-600 text-white\",\r\n          cardBorder: \"border-l-4 border-l-orange-500\",\r\n          cardBg: \"bg-white\",\r\n          icon: <AlertTriangle className=\"h-4 w-4 text-orange-600\" />,\r\n          iconBg: \"bg-orange-100\",\r\n          label: \"Alta\",\r\n          pulseEffect: \"\",\r\n        };\r\n      case \"medium\":\r\n        return {\r\n          badge: \"bg-amber-600 text-white\",\r\n          cardBorder: \"border-l-4 border-l-amber-500\",\r\n          cardBg: \"bg-white\",\r\n          icon: <Shield className=\"h-4 w-4 text-amber-600\" />,\r\n          iconBg: \"bg-amber-100\",\r\n          label: \"Media\",\r\n          pulseEffect: \"\",\r\n        };\r\n      default:\r\n        return {\r\n          badge: \"bg-slate-600 text-white\",\r\n          cardBorder: \"border-l-4 border-l-slate-400\",\r\n          cardBg: \"bg-white\",\r\n          icon: <Shield className=\"h-4 w-4 text-slate-600\" />,\r\n          iconBg: \"bg-slate-100\",\r\n          label: \"Baja\",\r\n          pulseEffect: \"\",\r\n        };\r\n    }\r\n  };\r\n\r\n  const AlertCard = ({ alert }: { alert: any }) => {\r\n    const config = getSeverityConfig(alert.severity);\r\n    const dt = formatDateTime(alert.timestamp);\r\n\r\n    return (\r\n      <Card\r\n        className={`border-0 shadow-sm hover:shadow-md transition-all duration-200 overflow-hidden ${config.cardBorder} ${config.cardBg} ${\r\n          alert.severity === \"critical\" && !alert.read ? \"ring-1 ring-rose-300\" : \"\"\r\n        }`}\r\n      >\r\n        <CardContent className=\"p-4\">\r\n          <div className=\"flex gap-3\">\r\n            <div\r\n              className={`${config.iconBg} p-2.5 rounded-xl h-fit ${\r\n                alert.severity === \"critical\" && !alert.read ? config.pulseEffect : \"\"\r\n              }`}\r\n            >\r\n              {config.icon}\r\n            </div>\r\n\r\n            <div className=\"flex-1 space-y-3 min-w-0\">\r\n              <div className=\"flex items-start justify-between gap-3\">\r\n                <div className=\"min-w-0\">\r\n                  <div className=\"flex items-center gap-2 flex-wrap\">\r\n                    <h3 className=\"font-bold text-base text-slate-900 truncate\">{alert.title}</h3>\r\n                    {!alert.read && (\r\n                      <Badge className=\"bg-blue-600 text-white shadow-sm text-[11px] px-2 py-0.5\">\r\n                        <Bell className=\"h-3 w-3 mr-1\" />\r\n                        Nueva\r\n                      </Badge>\r\n                    )}\r\n                  </div>\r\n                  <p className=\"text-slate-700 text-sm leading-snug mt-1\">{alert.message}</p>\r\n                </div>\r\n\r\n                <div className=\"flex items-center gap-2\">\r\n                  <Badge className={`${config.badge} font-bold text-xs px-3 py-1 shadow-sm whitespace-nowrap`}>\r\n                    {config.label}\r\n                  </Badge>\r\n\r\n                  {/* ✅ borrar por ID: SOLO admin */}\r\n                  <Button\r\n                    size=\"icon\"\r\n                    variant=\"outline\"\r\n                    className=\"h-9 w-9 text-rose-600\"\r\n                    title={isAdmin ? \"Eliminar alerta\" : \"Solo admin puede eliminar\"}\r\n                    disabled={!isAdmin}\r\n                    onClick={async () => {\r\n                      if (!isAdmin) return;\r\n                      try {\r\n                        await deleteAlert(alert._id);\r\n                        // NO necesitas refresh: deleteAlert ya actualiza estado (optimistic)\r\n                      } catch (e) {\r\n                        // si falla, refrescamos para volver a estado real\r\n                        await refresh();\r\n                      }\r\n                    }}\r\n                  >\r\n                    <Trash2 className=\"h-4 w-4\" />\r\n                  </Button>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-2\">\r\n                <div className=\"bg-slate-50 rounded-lg p-2.5 border border-slate-200\">\r\n                  <p className=\"text-[10px] text-slate-600 font-bold mb-1 uppercase\">Detección</p>\r\n                  <div className=\"flex items-center gap-2\">\r\n                    <Shield className=\"h-3.5 w-3.5 text-blue-600\" />\r\n                    <p className=\"font-bold text-slate-900 text-xs truncate\">{alert.weapon_type ?? \"-\"}</p>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"bg-slate-50 rounded-lg p-2.5 border border-slate-200\">\r\n                  <p className=\"text-[10px] text-slate-600 font-bold mb-1 uppercase\">Cámara</p>\r\n                  <div className=\"flex items-center gap-2\">\r\n                    <Camera className=\"h-3.5 w-3.5 text-blue-600\" />\r\n                    <div className=\"min-w-0\">\r\n                      <p className=\"font-mono text-[11px] font-bold text-slate-900\">{alert.camera_id ?? \"-\"}</p>\r\n                      <p className=\"text-[11px] text-slate-600 truncate\">—</p>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"bg-slate-50 rounded-lg p-2.5 border border-slate-200\">\r\n                  <p className=\"text-[10px] text-slate-600 font-bold mb-1 uppercase\">Confianza</p>\r\n                  <div className=\"flex items-center gap-2\">\r\n                    <TrendingUp className=\"h-3.5 w-3.5 text-emerald-600\" />\r\n                    <div className=\"flex items-center gap-2\">\r\n                      <div className=\"w-14 bg-slate-200 rounded-full h-1.5 overflow-hidden\">\r\n                        <div\r\n                          className={`h-full ${\r\n                            (alert.confidence ?? 0) >= 0.9\r\n                              ? \"bg-emerald-500\"\r\n                              : (alert.confidence ?? 0) >= 0.7\r\n                              ? \"bg-amber-500\"\r\n                              : \"bg-rose-500\"\r\n                          }`}\r\n                          style={{\r\n                            width: `${Math.max(0, Math.min(1, alert.confidence ?? 0)) * 100}%`,\r\n                          }}\r\n                        />\r\n                      </div>\r\n                      <span className=\"font-bold text-slate-900 text-xs\">\r\n                        {alert.confidence != null ? `${(alert.confidence * 100).toFixed(0)}%` : \"-\"}\r\n                      </span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"bg-slate-50 rounded-lg p-2.5 border border-slate-200\">\r\n                  <p className=\"text-[10px] text-slate-600 font-bold mb-1 uppercase\">Fecha y Hora</p>\r\n                  <div className=\"flex items-center gap-2\">\r\n                    <Clock className=\"h-3.5 w-3.5 text-blue-600\" />\r\n                    <div>\r\n                      <p className=\"font-mono text-[11px] font-bold text-slate-900\">{dt.time}</p>\r\n                      <p className=\"font-mono text-[11px] text-slate-600\">{dt.date}</p>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              {/* ✅ marcar leída: admin/operator */}\r\n              {!alert.read && (\r\n                <div className=\"pt-1\">\r\n                  <Button\r\n                    size=\"sm\"\r\n                    onClick={() => markAsRead(alert._id)}\r\n                    className=\"h-9 text-xs bg-gradient-to-r from-emerald-600 to-emerald-700 hover:from-emerald-700 hover:to-emerald-800 text-white shadow-sm\"\r\n                  >\r\n                    <CheckCircle className=\"h-4 w-4 mr-2\" />\r\n                    Marcar como leída\r\n                  </Button>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-5\">\r\n      <div className=\"flex flex-col lg:flex-row lg:items-center justify-between gap-3\">\r\n        <div>\r\n          <h1 className=\"text-2xl md:text-3xl font-bold text-slate-900\">Centro de Alertas</h1>\r\n          <p className=\"text-slate-600 text-sm mt-1\">Notificaciones en tiempo real del sistema de detección</p>\r\n          <p className=\"text-xs text-slate-500 mt-1\">\r\n            Rol: <span className=\"font-semibold\">{user?.role ?? \"—\"}</span>\r\n          </p>\r\n        </div>\r\n\r\n        <div className=\"flex items-center gap-2\">\r\n          <Button variant=\"outline\" size=\"sm\" className=\"h-10\" onClick={() => refresh()}>\r\n            <RefreshCw className=\"h-4 w-4 mr-2\" />\r\n            Refrescar\r\n          </Button>\r\n\r\n          {/* ❌ Ya NO existe borrar todo por requisito */}\r\n\r\n          {unreadCount > 0 && (\r\n            <Button\r\n              onClick={() => markAllAsRead()}\r\n              variant=\"outline\"\r\n              size=\"sm\"\r\n              className=\"h-10 hover:bg-emerald-50 hover:text-emerald-700 hover:border-emerald-300\"\r\n            >\r\n              <CheckCircle className=\"h-4 w-4 mr-2\" />\r\n              Marcar todas\r\n            </Button>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\r\n        <Card className=\"border-0 shadow-sm\">\r\n          <CardContent className=\"py-4 px-4\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <div>\r\n                <p className=\"text-xs font-semibold text-slate-600\">Total Alertas</p>\r\n                <p className=\"text-2xl font-bold text-slate-900 mt-1\">{alerts.length}</p>\r\n              </div>\r\n              <div className=\"bg-blue-100 p-2.5 rounded-xl\">\r\n                <Bell className=\"h-5 w-5 text-blue-600\" />\r\n              </div>\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n\r\n        <Card className=\"border-0 shadow-sm border-l-4 border-l-rose-500\">\r\n          <CardContent className=\"py-4 px-4\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <div>\r\n                <p className=\"text-xs font-semibold text-slate-600\">No Leídas</p>\r\n                <p className=\"text-2xl font-bold text-rose-600 mt-1\">{unreadCount}</p>\r\n              </div>\r\n              <div className=\"bg-rose-100 p-2.5 rounded-xl\">\r\n                <AlertTriangle className=\"h-5 w-5 text-rose-600\" />\r\n              </div>\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n\r\n        <Card className=\"border-0 shadow-sm border-l-4 border-l-orange-500\">\r\n          <CardContent className=\"py-4 px-4\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <div>\r\n                <p className=\"text-xs font-semibold text-slate-600\">Críticas</p>\r\n                <p className=\"text-2xl font-bold text-orange-600 mt-1\">{criticalCount}</p>\r\n              </div>\r\n              <div className=\"bg-orange-100 p-2.5 rounded-xl\">\r\n                <Shield className=\"h-5 w-5 text-orange-600\" />\r\n              </div>\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n\r\n        <Card className=\"border-0 shadow-sm border-l-4 border-l-emerald-500\">\r\n          <CardContent className=\"py-4 px-4\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <div>\r\n                <p className=\"text-xs font-semibold text-slate-600\">Procesadas</p>\r\n                <p className=\"text-2xl font-bold text-emerald-600 mt-1\">{readCount}</p>\r\n              </div>\r\n              <div className=\"bg-emerald-100 p-2.5 rounded-xl\">\r\n                <CheckCircle className=\"h-5 w-5 text-emerald-600\" />\r\n              </div>\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n      </div>\r\n\r\n      <Tabs value={activeTab} onValueChange={(v) => setActiveTab(v as Tab)} className=\"w-full\">\r\n        <TabsList className=\"grid w-full max-w-md grid-cols-3 h-11\">\r\n          <TabsTrigger value=\"all\" className=\"text-sm font-bold\">\r\n            Todas ({alerts.length})\r\n          </TabsTrigger>\r\n          <TabsTrigger value=\"unread\" className=\"text-sm font-bold\">\r\n            No leídas ({unreadCount})\r\n          </TabsTrigger>\r\n          <TabsTrigger value=\"read\" className=\"text-sm font-bold\">\r\n            Leídas ({readCount})\r\n          </TabsTrigger>\r\n        </TabsList>\r\n\r\n        {([\"all\", \"unread\", \"read\"] as const).map((tab) => (\r\n          <TabsContent key={tab} value={tab} className=\"mt-5 space-y-4\">\r\n            {pageData.length === 0 ? (\r\n              <Card className=\"border-0 shadow-sm\">\r\n                <CardContent className=\"py-14 text-center\">\r\n                  <div className=\"flex flex-col items-center gap-3\">\r\n                    <div className=\"bg-slate-100 p-4 rounded-full\">\r\n                      {tab === \"unread\" ? (\r\n                        <CheckCircle className=\"h-10 w-10 text-emerald-600\" />\r\n                      ) : (\r\n                        <Bell className=\"h-10 w-10 text-slate-400\" />\r\n                      )}\r\n                    </div>\r\n                    <div>\r\n                      <p className=\"font-semibold text-slate-900 mb-1\">{tab === \"unread\" ? \"¡Todo al día!\" : \"No hay alertas\"}</p>\r\n                      <p className=\"text-sm text-slate-600\">{tab === \"unread\" ? \"No tienes alertas sin leer\" : \"El sistema no ha registrado alertas\"}</p>\r\n                    </div>\r\n                  </div>\r\n                </CardContent>\r\n              </Card>\r\n            ) : (\r\n              <>\r\n                {pageData.map((a: any) => (\r\n                  <AlertCard key={a._id} alert={a} />\r\n                ))}\r\n\r\n                <div className=\"flex items-center justify-between border-t pt-4\">\r\n                  <p className=\"text-xs text-slate-600\">\r\n                    Mostrando{\" \"}\r\n                    <span className=\"font-bold text-slate-900\">{(page - 1) * pageSize + 1}</span>\r\n                    {\" - \"}\r\n                    <span className=\"font-bold text-slate-900\">{Math.min(page * pageSize, filteredAlerts.length)}</span>{\" \"}\r\n                    de <span className=\"font-bold text-slate-900\">{filteredAlerts.length}</span>\r\n                  </p>\r\n\r\n                  <div className=\"flex items-center gap-2\">\r\n                    <Button variant=\"outline\" size=\"sm\" className=\"h-9 text-xs\" onClick={goPrev} disabled={!canPrev}>\r\n                      <ChevronLeft className=\"h-4 w-4 mr-1\" />\r\n                      Anterior\r\n                    </Button>\r\n\r\n                    <div className=\"text-xs font-bold px-2\">\r\n                      {page} / {totalPages}\r\n                    </div>\r\n\r\n                    <Button variant=\"outline\" size=\"sm\" className=\"h-9 text-xs\" onClick={goNext} disabled={!canNext}>\r\n                      Siguiente\r\n                      <ChevronRight className=\"h-4 w-4 ml-1\" />\r\n                    </Button>\r\n                  </div>\r\n                </div>\r\n              </>\r\n            )}\r\n          </TabsContent>\r\n        ))}\r\n      </Tabs>\r\n    </div>\r\n  );\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
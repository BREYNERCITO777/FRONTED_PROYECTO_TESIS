{"ast":null,"code":"var _jsxFileName = \"D:\\\\PROYECTO DE TESIS A\\xD1O 2026\\\\sistema-armas\\\\frontend\\\\src\\\\modules\\\\alerts\\\\ui\\\\Alerts.tsx\",\n  _s = $RefreshSig$();\nimport React, { useMemo, useState, useEffect } from \"react\";\nimport { Card, CardContent } from \"../../../shared/ui/card\";\nimport { Badge } from \"../../../shared/ui/badge\";\nimport { Button } from \"../../../shared/ui/button\";\nimport { Tabs, TabsList, TabsTrigger, TabsContent } from \"../../../shared/ui/tabs\";\nimport { AlertTriangle, CheckCircle, Clock, Camera, Shield, Bell, TrendingUp, ChevronLeft, ChevronRight, Trash2, RefreshCw } from \"lucide-react\";\nimport { useAlerts } from \"../../../app/providers/alerts-context\";\nimport { useAuth } from \"../../../context/auth-context\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport function Alerts() {\n  _s();\n  var _user$role;\n  const {\n    user\n  } = useAuth();\n  const isAdmin = (user === null || user === void 0 ? void 0 : user.role) === \"admin\";\n\n  // ✅ ahora ya viene tipado desde el provider\n  const {\n    alerts,\n    unreadCount,\n    refresh,\n    markAsRead,\n    markAllAsRead,\n    deleteAlert\n  } = useAlerts();\n  const [activeTab, setActiveTab] = useState(\"all\");\n\n  // paginación\n  const pageSize = 4;\n  const [page, setPage] = useState(1);\n  const readCount = useMemo(() => alerts.filter(a => a.read).length, [alerts]);\n  const criticalCount = useMemo(() => alerts.filter(a => a.severity === \"critical\").length, [alerts]);\n  const filteredAlerts = useMemo(() => {\n    return alerts.filter(a => {\n      if (activeTab === \"unread\") return !a.read;\n      if (activeTab === \"read\") return !!a.read;\n      return true;\n    });\n  }, [alerts, activeTab]);\n  const totalPages = useMemo(() => Math.max(1, Math.ceil(filteredAlerts.length / pageSize)), [filteredAlerts.length]);\n  const canPrev = page > 1;\n  const canNext = page < totalPages;\n  const goPrev = () => setPage(p => Math.max(1, p - 1));\n  const goNext = () => setPage(p => Math.min(totalPages, p + 1));\n  useEffect(() => setPage(1), [activeTab]);\n  useEffect(() => setPage(p => Math.min(p, totalPages)), [totalPages]);\n  const pageData = useMemo(() => {\n    const start = (page - 1) * pageSize;\n    return filteredAlerts.slice(start, start + pageSize);\n  }, [filteredAlerts, page]);\n  const formatDateTime = iso => {\n    if (!iso) return {\n      date: \"-\",\n      time: \"-\"\n    };\n    const d = new Date(iso);\n    const date = d.toLocaleDateString();\n    const time = d.toLocaleTimeString();\n    return {\n      date,\n      time\n    };\n  };\n  const getSeverityConfig = severity => {\n    switch (severity) {\n      case \"critical\":\n        return {\n          badge: \"bg-rose-600 text-white\",\n          cardBorder: \"border-l-4 border-l-rose-500\",\n          cardBg: \"bg-gradient-to-r from-rose-50/80 to-white\",\n          icon: /*#__PURE__*/_jsxDEV(AlertTriangle, {\n            className: \"h-4 w-4 text-rose-600\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 17\n          }, this),\n          iconBg: \"bg-rose-100\",\n          label: \"Crítica\",\n          pulseEffect: \"animate-pulse\"\n        };\n      case \"high\":\n        return {\n          badge: \"bg-orange-600 text-white\",\n          cardBorder: \"border-l-4 border-l-orange-500\",\n          cardBg: \"bg-white\",\n          icon: /*#__PURE__*/_jsxDEV(AlertTriangle, {\n            className: \"h-4 w-4 text-orange-600\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 17\n          }, this),\n          iconBg: \"bg-orange-100\",\n          label: \"Alta\",\n          pulseEffect: \"\"\n        };\n      case \"medium\":\n        return {\n          badge: \"bg-amber-600 text-white\",\n          cardBorder: \"border-l-4 border-l-amber-500\",\n          cardBg: \"bg-white\",\n          icon: /*#__PURE__*/_jsxDEV(Shield, {\n            className: \"h-4 w-4 text-amber-600\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 17\n          }, this),\n          iconBg: \"bg-amber-100\",\n          label: \"Media\",\n          pulseEffect: \"\"\n        };\n      default:\n        return {\n          badge: \"bg-slate-600 text-white\",\n          cardBorder: \"border-l-4 border-l-slate-400\",\n          cardBg: \"bg-white\",\n          icon: /*#__PURE__*/_jsxDEV(Shield, {\n            className: \"h-4 w-4 text-slate-600\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 17\n          }, this),\n          iconBg: \"bg-slate-100\",\n          label: \"Baja\",\n          pulseEffect: \"\"\n        };\n    }\n  };\n  const AlertCard = ({\n    alert\n  }) => {\n    var _alert$weapon_type, _alert$camera_id, _alert$confidence, _alert$confidence2, _alert$confidence3;\n    const config = getSeverityConfig(alert.severity);\n    const dt = formatDateTime(alert.timestamp);\n    return /*#__PURE__*/_jsxDEV(Card, {\n      className: `border-0 shadow-sm hover:shadow-md transition-all duration-200 overflow-hidden ${config.cardBorder} ${config.cardBg} ${alert.severity === \"critical\" && !alert.read ? \"ring-1 ring-rose-300\" : \"\"}`,\n      children: /*#__PURE__*/_jsxDEV(CardContent, {\n        className: \"p-4\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex gap-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: `${config.iconBg} p-2.5 rounded-xl h-fit ${alert.severity === \"critical\" && !alert.read ? config.pulseEffect : \"\"}`,\n            children: config.icon\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex-1 space-y-3 min-w-0\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-start justify-between gap-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"min-w-0\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center gap-2 flex-wrap\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                    className: \"font-bold text-base text-slate-900 truncate\",\n                    children: alert.title\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 145,\n                    columnNumber: 21\n                  }, this), !alert.read && /*#__PURE__*/_jsxDEV(Badge, {\n                    className: \"bg-blue-600 text-white shadow-sm text-[11px] px-2 py-0.5\",\n                    children: [/*#__PURE__*/_jsxDEV(Bell, {\n                      className: \"h-3 w-3 mr-1\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 148,\n                      columnNumber: 25\n                    }, this), \"Nueva\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 147,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 144,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-slate-700 text-sm leading-snug mt-1\",\n                  children: alert.message\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 153,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 143,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center gap-2\",\n                children: [/*#__PURE__*/_jsxDEV(Badge, {\n                  className: `${config.badge} font-bold text-xs px-3 py-1 shadow-sm whitespace-nowrap`,\n                  children: config.label\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 157,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Button, {\n                  size: \"icon\",\n                  variant: \"outline\",\n                  className: \"h-9 w-9 text-rose-600\",\n                  title: isAdmin ? \"Eliminar alerta\" : \"Solo admin puede eliminar\",\n                  disabled: !isAdmin,\n                  onClick: async () => {\n                    if (!isAdmin) return;\n                    try {\n                      await deleteAlert(alert._id);\n                      // NO necesitas refresh: deleteAlert ya actualiza estado (optimistic)\n                    } catch (e) {\n                      // si falla, refrescamos para volver a estado real\n                      await refresh();\n                    }\n                  },\n                  children: /*#__PURE__*/_jsxDEV(Trash2, {\n                    className: \"h-4 w-4\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 179,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 162,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 156,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 142,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bg-slate-50 rounded-lg p-2.5 border border-slate-200\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-[10px] text-slate-600 font-bold mb-1 uppercase\",\n                  children: \"Detecci\\xF3n\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 186,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center gap-2\",\n                  children: [/*#__PURE__*/_jsxDEV(Shield, {\n                    className: \"h-3.5 w-3.5 text-blue-600\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 188,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"font-bold text-slate-900 text-xs truncate\",\n                    children: (_alert$weapon_type = alert.weapon_type) !== null && _alert$weapon_type !== void 0 ? _alert$weapon_type : \"-\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 189,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 187,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 185,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bg-slate-50 rounded-lg p-2.5 border border-slate-200\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-[10px] text-slate-600 font-bold mb-1 uppercase\",\n                  children: \"C\\xE1mara\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 194,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center gap-2\",\n                  children: [/*#__PURE__*/_jsxDEV(Camera, {\n                    className: \"h-3.5 w-3.5 text-blue-600\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 196,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"min-w-0\",\n                    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"font-mono text-[11px] font-bold text-slate-900\",\n                      children: (_alert$camera_id = alert.camera_id) !== null && _alert$camera_id !== void 0 ? _alert$camera_id : \"-\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 198,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-[11px] text-slate-600 truncate\",\n                      children: \"\\u2014\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 199,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 197,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 195,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 193,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bg-slate-50 rounded-lg p-2.5 border border-slate-200\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-[10px] text-slate-600 font-bold mb-1 uppercase\",\n                  children: \"Confianza\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 205,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center gap-2\",\n                  children: [/*#__PURE__*/_jsxDEV(TrendingUp, {\n                    className: \"h-3.5 w-3.5 text-emerald-600\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 207,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex items-center gap-2\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"w-14 bg-slate-200 rounded-full h-1.5 overflow-hidden\",\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: `h-full ${((_alert$confidence = alert.confidence) !== null && _alert$confidence !== void 0 ? _alert$confidence : 0) >= 0.9 ? \"bg-emerald-500\" : ((_alert$confidence2 = alert.confidence) !== null && _alert$confidence2 !== void 0 ? _alert$confidence2 : 0) >= 0.7 ? \"bg-amber-500\" : \"bg-rose-500\"}`,\n                        style: {\n                          width: `${Math.max(0, Math.min(1, (_alert$confidence3 = alert.confidence) !== null && _alert$confidence3 !== void 0 ? _alert$confidence3 : 0)) * 100}%`\n                        }\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 210,\n                        columnNumber: 25\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 209,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"font-bold text-slate-900 text-xs\",\n                      children: alert.confidence != null ? `${(alert.confidence * 100).toFixed(0)}%` : \"-\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 223,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 208,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 206,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 204,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bg-slate-50 rounded-lg p-2.5 border border-slate-200\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-[10px] text-slate-600 font-bold mb-1 uppercase\",\n                  children: \"Fecha y Hora\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 231,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center gap-2\",\n                  children: [/*#__PURE__*/_jsxDEV(Clock, {\n                    className: \"h-3.5 w-3.5 text-blue-600\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 233,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"font-mono text-[11px] font-bold text-slate-900\",\n                      children: dt.time\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 235,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"font-mono text-[11px] text-slate-600\",\n                      children: dt.date\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 236,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 234,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 232,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 230,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 184,\n              columnNumber: 15\n            }, this), !alert.read && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"pt-1\",\n              children: /*#__PURE__*/_jsxDEV(Button, {\n                size: \"sm\",\n                onClick: () => markAsRead(alert._id),\n                className: \"h-9 text-xs bg-gradient-to-r from-emerald-600 to-emerald-700 hover:from-emerald-700 hover:to-emerald-800 text-white shadow-sm\",\n                children: [/*#__PURE__*/_jsxDEV(CheckCircle, {\n                  className: \"h-4 w-4 mr-2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 250,\n                  columnNumber: 21\n                }, this), \"Marcar como le\\xEDda\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 245,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 244,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 141,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 7\n    }, this);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"space-y-5\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-col lg:flex-row lg:items-center justify-between gap-3\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-2xl md:text-3xl font-bold text-slate-900\",\n          children: \"Centro de Alertas\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 266,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-slate-600 text-sm mt-1\",\n          children: \"Notificaciones en tiempo real del sistema de detecci\\xF3n\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 267,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-xs text-slate-500 mt-1\",\n          children: [\"Rol: \", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"font-semibold\",\n            children: (_user$role = user === null || user === void 0 ? void 0 : user.role) !== null && _user$role !== void 0 ? _user$role : \"—\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 269,\n            columnNumber: 18\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 268,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 265,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center gap-2\",\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          variant: \"outline\",\n          size: \"sm\",\n          className: \"h-10\",\n          onClick: () => refresh(),\n          children: [/*#__PURE__*/_jsxDEV(RefreshCw, {\n            className: \"h-4 w-4 mr-2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 275,\n            columnNumber: 13\n          }, this), \"Refrescar\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 274,\n          columnNumber: 11\n        }, this), unreadCount > 0 && /*#__PURE__*/_jsxDEV(Button, {\n          onClick: () => markAllAsRead(),\n          variant: \"outline\",\n          size: \"sm\",\n          className: \"h-10 hover:bg-emerald-50 hover:text-emerald-700 hover:border-emerald-300\",\n          children: [/*#__PURE__*/_jsxDEV(CheckCircle, {\n            className: \"h-4 w-4 mr-2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 288,\n            columnNumber: 15\n          }, this), \"Marcar todas\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 282,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 273,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 264,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 md:grid-cols-4 gap-4\",\n      children: [/*#__PURE__*/_jsxDEV(Card, {\n        className: \"border-0 shadow-sm\",\n        children: /*#__PURE__*/_jsxDEV(CardContent, {\n          className: \"py-4 px-4\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-between\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-xs font-semibold text-slate-600\",\n                children: \"Total Alertas\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 300,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-2xl font-bold text-slate-900 mt-1\",\n                children: alerts.length\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 301,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 299,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-blue-100 p-2.5 rounded-xl\",\n              children: /*#__PURE__*/_jsxDEV(Bell, {\n                className: \"h-5 w-5 text-blue-600\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 304,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 303,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 298,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 297,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 296,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Card, {\n        className: \"border-0 shadow-sm border-l-4 border-l-rose-500\",\n        children: /*#__PURE__*/_jsxDEV(CardContent, {\n          className: \"py-4 px-4\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-between\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-xs font-semibold text-slate-600\",\n                children: \"No Le\\xEDdas\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 314,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-2xl font-bold text-rose-600 mt-1\",\n                children: unreadCount\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 315,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 313,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-rose-100 p-2.5 rounded-xl\",\n              children: /*#__PURE__*/_jsxDEV(AlertTriangle, {\n                className: \"h-5 w-5 text-rose-600\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 318,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 317,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 312,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 311,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 310,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Card, {\n        className: \"border-0 shadow-sm border-l-4 border-l-orange-500\",\n        children: /*#__PURE__*/_jsxDEV(CardContent, {\n          className: \"py-4 px-4\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-between\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-xs font-semibold text-slate-600\",\n                children: \"Cr\\xEDticas\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 328,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-2xl font-bold text-orange-600 mt-1\",\n                children: criticalCount\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 329,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 327,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-orange-100 p-2.5 rounded-xl\",\n              children: /*#__PURE__*/_jsxDEV(Shield, {\n                className: \"h-5 w-5 text-orange-600\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 332,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 331,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 326,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 325,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 324,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Card, {\n        className: \"border-0 shadow-sm border-l-4 border-l-emerald-500\",\n        children: /*#__PURE__*/_jsxDEV(CardContent, {\n          className: \"py-4 px-4\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-between\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-xs font-semibold text-slate-600\",\n                children: \"Procesadas\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 342,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-2xl font-bold text-emerald-600 mt-1\",\n                children: readCount\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 343,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 341,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-emerald-100 p-2.5 rounded-xl\",\n              children: /*#__PURE__*/_jsxDEV(CheckCircle, {\n                className: \"h-5 w-5 text-emerald-600\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 346,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 345,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 340,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 339,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 338,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 295,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Tabs, {\n      value: activeTab,\n      onValueChange: v => setActiveTab(v),\n      className: \"w-full\",\n      children: [/*#__PURE__*/_jsxDEV(TabsList, {\n        className: \"grid w-full max-w-md grid-cols-3 h-11\",\n        children: [/*#__PURE__*/_jsxDEV(TabsTrigger, {\n          value: \"all\",\n          className: \"text-sm font-bold\",\n          children: [\"Todas (\", alerts.length, \")\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 355,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(TabsTrigger, {\n          value: \"unread\",\n          className: \"text-sm font-bold\",\n          children: [\"No le\\xEDdas (\", unreadCount, \")\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 358,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(TabsTrigger, {\n          value: \"read\",\n          className: \"text-sm font-bold\",\n          children: [\"Le\\xEDdas (\", readCount, \")\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 361,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 354,\n        columnNumber: 9\n      }, this), [\"all\", \"unread\", \"read\"].map(tab => /*#__PURE__*/_jsxDEV(TabsContent, {\n        value: tab,\n        className: \"mt-5 space-y-4\",\n        children: pageData.length === 0 ? /*#__PURE__*/_jsxDEV(Card, {\n          className: \"border-0 shadow-sm\",\n          children: /*#__PURE__*/_jsxDEV(CardContent, {\n            className: \"py-14 text-center\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex flex-col items-center gap-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bg-slate-100 p-4 rounded-full\",\n                children: tab === \"unread\" ? /*#__PURE__*/_jsxDEV(CheckCircle, {\n                  className: \"h-10 w-10 text-emerald-600\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 374,\n                  columnNumber: 25\n                }, this) : /*#__PURE__*/_jsxDEV(Bell, {\n                  className: \"h-10 w-10 text-slate-400\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 376,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 372,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"font-semibold text-slate-900 mb-1\",\n                  children: tab === \"unread\" ? \"¡Todo al día!\" : \"No hay alertas\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 380,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-sm text-slate-600\",\n                  children: tab === \"unread\" ? \"No tienes alertas sin leer\" : \"El sistema no ha registrado alertas\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 381,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 379,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 371,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 370,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 369,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [pageData.map(a => /*#__PURE__*/_jsxDEV(AlertCard, {\n            alert: a\n          }, a._id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 389,\n            columnNumber: 19\n          }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-between border-t pt-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-xs text-slate-600\",\n              children: [\"Mostrando\", \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"font-bold text-slate-900\",\n                children: (page - 1) * pageSize + 1\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 395,\n                columnNumber: 21\n              }, this), \" - \", /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"font-bold text-slate-900\",\n                children: Math.min(page * pageSize, filteredAlerts.length)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 397,\n                columnNumber: 21\n              }, this), \" \", \"de \", /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"font-bold text-slate-900\",\n                children: filteredAlerts.length\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 398,\n                columnNumber: 24\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 393,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center gap-2\",\n              children: [/*#__PURE__*/_jsxDEV(Button, {\n                variant: \"outline\",\n                size: \"sm\",\n                className: \"h-9 text-xs\",\n                onClick: goPrev,\n                disabled: !canPrev,\n                children: [/*#__PURE__*/_jsxDEV(ChevronLeft, {\n                  className: \"h-4 w-4 mr-1\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 403,\n                  columnNumber: 23\n                }, this), \"Anterior\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 402,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-xs font-bold px-2\",\n                children: [page, \" / \", totalPages]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 407,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                variant: \"outline\",\n                size: \"sm\",\n                className: \"h-9 text-xs\",\n                onClick: goNext,\n                disabled: !canNext,\n                children: [\"Siguiente\", /*#__PURE__*/_jsxDEV(ChevronRight, {\n                  className: \"h-4 w-4 ml-1\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 413,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 411,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 401,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 392,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true)\n      }, tab, false, {\n        fileName: _jsxFileName,\n        lineNumber: 367,\n        columnNumber: 11\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 353,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 263,\n    columnNumber: 5\n  }, this);\n}\n_s(Alerts, \"UMBDI3KdiNFBI6v6R88wyqW0EmU=\", false, function () {\n  return [useAuth, useAlerts];\n});\n_c = Alerts;\nvar _c;\n$RefreshReg$(_c, \"Alerts\");","map":{"version":3,"names":["React","useMemo","useState","useEffect","Card","CardContent","Badge","Button","Tabs","TabsList","TabsTrigger","TabsContent","AlertTriangle","CheckCircle","Clock","Camera","Shield","Bell","TrendingUp","ChevronLeft","ChevronRight","Trash2","RefreshCw","useAlerts","useAuth","jsxDEV","_jsxDEV","Fragment","_Fragment","Alerts","_s","_user$role","user","isAdmin","role","alerts","unreadCount","refresh","markAsRead","markAllAsRead","deleteAlert","activeTab","setActiveTab","pageSize","page","setPage","readCount","filter","a","read","length","criticalCount","severity","filteredAlerts","totalPages","Math","max","ceil","canPrev","canNext","goPrev","p","goNext","min","pageData","start","slice","formatDateTime","iso","date","time","d","Date","toLocaleDateString","toLocaleTimeString","getSeverityConfig","badge","cardBorder","cardBg","icon","className","fileName","_jsxFileName","lineNumber","columnNumber","iconBg","label","pulseEffect","AlertCard","alert","_alert$weapon_type","_alert$camera_id","_alert$confidence","_alert$confidence2","_alert$confidence3","config","dt","timestamp","children","title","message","size","variant","disabled","onClick","_id","e","weapon_type","camera_id","confidence","style","width","toFixed","value","onValueChange","v","map","tab","_c","$RefreshReg$"],"sources":["D:/PROYECTO DE TESIS AÑO 2026/sistema-armas/frontend/src/modules/alerts/ui/Alerts.tsx"],"sourcesContent":["import React, { useMemo, useState, useEffect } from \"react\";\r\nimport { Card, CardContent } from \"../../../shared/ui/card\";\r\nimport { Badge } from \"../../../shared/ui/badge\";\r\nimport { Button } from \"../../../shared/ui/button\";\r\nimport { Tabs, TabsList, TabsTrigger, TabsContent } from \"../../../shared/ui/tabs\";\r\nimport {\r\n  AlertTriangle,\r\n  CheckCircle,\r\n  Clock,\r\n  Camera,\r\n  Shield,\r\n  Bell,\r\n  TrendingUp,\r\n  ChevronLeft,\r\n  ChevronRight,\r\n  Trash2,\r\n  RefreshCw,\r\n} from \"lucide-react\";\r\n\r\nimport { useAlerts } from \"../../../app/providers/alerts-context\";\r\nimport { useAuth } from \"../../../context/auth-context\";\r\n\r\ntype Tab = \"all\" | \"unread\" | \"read\";\r\n\r\nexport function Alerts() {\r\n  const { user } = useAuth();\r\n  const isAdmin = user?.role === \"admin\";\r\n\r\n  // ✅ ahora ya viene tipado desde el provider\r\n  const { alerts, unreadCount, refresh, markAsRead, markAllAsRead, deleteAlert } = useAlerts();\r\n\r\n  const [activeTab, setActiveTab] = useState<Tab>(\"all\");\r\n\r\n  // paginación\r\n  const pageSize = 4;\r\n  const [page, setPage] = useState(1);\r\n\r\n  const readCount = useMemo(() => alerts.filter((a) => a.read).length, [alerts]);\r\n  const criticalCount = useMemo(() => alerts.filter((a) => a.severity === \"critical\").length, [alerts]);\r\n\r\n  const filteredAlerts = useMemo(() => {\r\n    return alerts.filter((a) => {\r\n      if (activeTab === \"unread\") return !a.read;\r\n      if (activeTab === \"read\") return !!a.read;\r\n      return true;\r\n    });\r\n  }, [alerts, activeTab]);\r\n\r\n  const totalPages = useMemo(\r\n    () => Math.max(1, Math.ceil(filteredAlerts.length / pageSize)),\r\n    [filteredAlerts.length]\r\n  );\r\n\r\n  const canPrev = page > 1;\r\n  const canNext = page < totalPages;\r\n\r\n  const goPrev = () => setPage((p) => Math.max(1, p - 1));\r\n  const goNext = () => setPage((p) => Math.min(totalPages, p + 1));\r\n\r\n  useEffect(() => setPage(1), [activeTab]);\r\n  useEffect(() => setPage((p) => Math.min(p, totalPages)), [totalPages]);\r\n\r\n  const pageData = useMemo(() => {\r\n    const start = (page - 1) * pageSize;\r\n    return filteredAlerts.slice(start, start + pageSize);\r\n  }, [filteredAlerts, page]);\r\n\r\n  const formatDateTime = (iso?: string | null) => {\r\n    if (!iso) return { date: \"-\", time: \"-\" };\r\n    const d = new Date(iso);\r\n    const date = d.toLocaleDateString();\r\n    const time = d.toLocaleTimeString();\r\n    return { date, time };\r\n  };\r\n\r\n  const getSeverityConfig = (severity: string) => {\r\n    switch (severity) {\r\n      case \"critical\":\r\n        return {\r\n          badge: \"bg-rose-600 text-white\",\r\n          cardBorder: \"border-l-4 border-l-rose-500\",\r\n          cardBg: \"bg-gradient-to-r from-rose-50/80 to-white\",\r\n          icon: <AlertTriangle className=\"h-4 w-4 text-rose-600\" />,\r\n          iconBg: \"bg-rose-100\",\r\n          label: \"Crítica\",\r\n          pulseEffect: \"animate-pulse\",\r\n        };\r\n      case \"high\":\r\n        return {\r\n          badge: \"bg-orange-600 text-white\",\r\n          cardBorder: \"border-l-4 border-l-orange-500\",\r\n          cardBg: \"bg-white\",\r\n          icon: <AlertTriangle className=\"h-4 w-4 text-orange-600\" />,\r\n          iconBg: \"bg-orange-100\",\r\n          label: \"Alta\",\r\n          pulseEffect: \"\",\r\n        };\r\n      case \"medium\":\r\n        return {\r\n          badge: \"bg-amber-600 text-white\",\r\n          cardBorder: \"border-l-4 border-l-amber-500\",\r\n          cardBg: \"bg-white\",\r\n          icon: <Shield className=\"h-4 w-4 text-amber-600\" />,\r\n          iconBg: \"bg-amber-100\",\r\n          label: \"Media\",\r\n          pulseEffect: \"\",\r\n        };\r\n      default:\r\n        return {\r\n          badge: \"bg-slate-600 text-white\",\r\n          cardBorder: \"border-l-4 border-l-slate-400\",\r\n          cardBg: \"bg-white\",\r\n          icon: <Shield className=\"h-4 w-4 text-slate-600\" />,\r\n          iconBg: \"bg-slate-100\",\r\n          label: \"Baja\",\r\n          pulseEffect: \"\",\r\n        };\r\n    }\r\n  };\r\n\r\n  const AlertCard = ({ alert }: { alert: any }) => {\r\n    const config = getSeverityConfig(alert.severity);\r\n    const dt = formatDateTime(alert.timestamp);\r\n\r\n    return (\r\n      <Card\r\n        className={`border-0 shadow-sm hover:shadow-md transition-all duration-200 overflow-hidden ${config.cardBorder} ${config.cardBg} ${\r\n          alert.severity === \"critical\" && !alert.read ? \"ring-1 ring-rose-300\" : \"\"\r\n        }`}\r\n      >\r\n        <CardContent className=\"p-4\">\r\n          <div className=\"flex gap-3\">\r\n            <div\r\n              className={`${config.iconBg} p-2.5 rounded-xl h-fit ${\r\n                alert.severity === \"critical\" && !alert.read ? config.pulseEffect : \"\"\r\n              }`}\r\n            >\r\n              {config.icon}\r\n            </div>\r\n\r\n            <div className=\"flex-1 space-y-3 min-w-0\">\r\n              <div className=\"flex items-start justify-between gap-3\">\r\n                <div className=\"min-w-0\">\r\n                  <div className=\"flex items-center gap-2 flex-wrap\">\r\n                    <h3 className=\"font-bold text-base text-slate-900 truncate\">{alert.title}</h3>\r\n                    {!alert.read && (\r\n                      <Badge className=\"bg-blue-600 text-white shadow-sm text-[11px] px-2 py-0.5\">\r\n                        <Bell className=\"h-3 w-3 mr-1\" />\r\n                        Nueva\r\n                      </Badge>\r\n                    )}\r\n                  </div>\r\n                  <p className=\"text-slate-700 text-sm leading-snug mt-1\">{alert.message}</p>\r\n                </div>\r\n\r\n                <div className=\"flex items-center gap-2\">\r\n                  <Badge className={`${config.badge} font-bold text-xs px-3 py-1 shadow-sm whitespace-nowrap`}>\r\n                    {config.label}\r\n                  </Badge>\r\n\r\n                  {/* ✅ borrar por ID: SOLO admin */}\r\n                  <Button\r\n                    size=\"icon\"\r\n                    variant=\"outline\"\r\n                    className=\"h-9 w-9 text-rose-600\"\r\n                    title={isAdmin ? \"Eliminar alerta\" : \"Solo admin puede eliminar\"}\r\n                    disabled={!isAdmin}\r\n                    onClick={async () => {\r\n                      if (!isAdmin) return;\r\n                      try {\r\n                        await deleteAlert(alert._id);\r\n                        // NO necesitas refresh: deleteAlert ya actualiza estado (optimistic)\r\n                      } catch (e) {\r\n                        // si falla, refrescamos para volver a estado real\r\n                        await refresh();\r\n                      }\r\n                    }}\r\n                  >\r\n                    <Trash2 className=\"h-4 w-4\" />\r\n                  </Button>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-2\">\r\n                <div className=\"bg-slate-50 rounded-lg p-2.5 border border-slate-200\">\r\n                  <p className=\"text-[10px] text-slate-600 font-bold mb-1 uppercase\">Detección</p>\r\n                  <div className=\"flex items-center gap-2\">\r\n                    <Shield className=\"h-3.5 w-3.5 text-blue-600\" />\r\n                    <p className=\"font-bold text-slate-900 text-xs truncate\">{alert.weapon_type ?? \"-\"}</p>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"bg-slate-50 rounded-lg p-2.5 border border-slate-200\">\r\n                  <p className=\"text-[10px] text-slate-600 font-bold mb-1 uppercase\">Cámara</p>\r\n                  <div className=\"flex items-center gap-2\">\r\n                    <Camera className=\"h-3.5 w-3.5 text-blue-600\" />\r\n                    <div className=\"min-w-0\">\r\n                      <p className=\"font-mono text-[11px] font-bold text-slate-900\">{alert.camera_id ?? \"-\"}</p>\r\n                      <p className=\"text-[11px] text-slate-600 truncate\">—</p>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"bg-slate-50 rounded-lg p-2.5 border border-slate-200\">\r\n                  <p className=\"text-[10px] text-slate-600 font-bold mb-1 uppercase\">Confianza</p>\r\n                  <div className=\"flex items-center gap-2\">\r\n                    <TrendingUp className=\"h-3.5 w-3.5 text-emerald-600\" />\r\n                    <div className=\"flex items-center gap-2\">\r\n                      <div className=\"w-14 bg-slate-200 rounded-full h-1.5 overflow-hidden\">\r\n                        <div\r\n                          className={`h-full ${\r\n                            (alert.confidence ?? 0) >= 0.9\r\n                              ? \"bg-emerald-500\"\r\n                              : (alert.confidence ?? 0) >= 0.7\r\n                              ? \"bg-amber-500\"\r\n                              : \"bg-rose-500\"\r\n                          }`}\r\n                          style={{\r\n                            width: `${Math.max(0, Math.min(1, alert.confidence ?? 0)) * 100}%`,\r\n                          }}\r\n                        />\r\n                      </div>\r\n                      <span className=\"font-bold text-slate-900 text-xs\">\r\n                        {alert.confidence != null ? `${(alert.confidence * 100).toFixed(0)}%` : \"-\"}\r\n                      </span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"bg-slate-50 rounded-lg p-2.5 border border-slate-200\">\r\n                  <p className=\"text-[10px] text-slate-600 font-bold mb-1 uppercase\">Fecha y Hora</p>\r\n                  <div className=\"flex items-center gap-2\">\r\n                    <Clock className=\"h-3.5 w-3.5 text-blue-600\" />\r\n                    <div>\r\n                      <p className=\"font-mono text-[11px] font-bold text-slate-900\">{dt.time}</p>\r\n                      <p className=\"font-mono text-[11px] text-slate-600\">{dt.date}</p>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              {/* ✅ marcar leída: admin/operator */}\r\n              {!alert.read && (\r\n                <div className=\"pt-1\">\r\n                  <Button\r\n                    size=\"sm\"\r\n                    onClick={() => markAsRead(alert._id)}\r\n                    className=\"h-9 text-xs bg-gradient-to-r from-emerald-600 to-emerald-700 hover:from-emerald-700 hover:to-emerald-800 text-white shadow-sm\"\r\n                  >\r\n                    <CheckCircle className=\"h-4 w-4 mr-2\" />\r\n                    Marcar como leída\r\n                  </Button>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-5\">\r\n      <div className=\"flex flex-col lg:flex-row lg:items-center justify-between gap-3\">\r\n        <div>\r\n          <h1 className=\"text-2xl md:text-3xl font-bold text-slate-900\">Centro de Alertas</h1>\r\n          <p className=\"text-slate-600 text-sm mt-1\">Notificaciones en tiempo real del sistema de detección</p>\r\n          <p className=\"text-xs text-slate-500 mt-1\">\r\n            Rol: <span className=\"font-semibold\">{user?.role ?? \"—\"}</span>\r\n          </p>\r\n        </div>\r\n\r\n        <div className=\"flex items-center gap-2\">\r\n          <Button variant=\"outline\" size=\"sm\" className=\"h-10\" onClick={() => refresh()}>\r\n            <RefreshCw className=\"h-4 w-4 mr-2\" />\r\n            Refrescar\r\n          </Button>\r\n\r\n          {/* ❌ Ya NO existe borrar todo por requisito */}\r\n\r\n          {unreadCount > 0 && (\r\n            <Button\r\n              onClick={() => markAllAsRead()}\r\n              variant=\"outline\"\r\n              size=\"sm\"\r\n              className=\"h-10 hover:bg-emerald-50 hover:text-emerald-700 hover:border-emerald-300\"\r\n            >\r\n              <CheckCircle className=\"h-4 w-4 mr-2\" />\r\n              Marcar todas\r\n            </Button>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\r\n        <Card className=\"border-0 shadow-sm\">\r\n          <CardContent className=\"py-4 px-4\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <div>\r\n                <p className=\"text-xs font-semibold text-slate-600\">Total Alertas</p>\r\n                <p className=\"text-2xl font-bold text-slate-900 mt-1\">{alerts.length}</p>\r\n              </div>\r\n              <div className=\"bg-blue-100 p-2.5 rounded-xl\">\r\n                <Bell className=\"h-5 w-5 text-blue-600\" />\r\n              </div>\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n\r\n        <Card className=\"border-0 shadow-sm border-l-4 border-l-rose-500\">\r\n          <CardContent className=\"py-4 px-4\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <div>\r\n                <p className=\"text-xs font-semibold text-slate-600\">No Leídas</p>\r\n                <p className=\"text-2xl font-bold text-rose-600 mt-1\">{unreadCount}</p>\r\n              </div>\r\n              <div className=\"bg-rose-100 p-2.5 rounded-xl\">\r\n                <AlertTriangle className=\"h-5 w-5 text-rose-600\" />\r\n              </div>\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n\r\n        <Card className=\"border-0 shadow-sm border-l-4 border-l-orange-500\">\r\n          <CardContent className=\"py-4 px-4\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <div>\r\n                <p className=\"text-xs font-semibold text-slate-600\">Críticas</p>\r\n                <p className=\"text-2xl font-bold text-orange-600 mt-1\">{criticalCount}</p>\r\n              </div>\r\n              <div className=\"bg-orange-100 p-2.5 rounded-xl\">\r\n                <Shield className=\"h-5 w-5 text-orange-600\" />\r\n              </div>\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n\r\n        <Card className=\"border-0 shadow-sm border-l-4 border-l-emerald-500\">\r\n          <CardContent className=\"py-4 px-4\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <div>\r\n                <p className=\"text-xs font-semibold text-slate-600\">Procesadas</p>\r\n                <p className=\"text-2xl font-bold text-emerald-600 mt-1\">{readCount}</p>\r\n              </div>\r\n              <div className=\"bg-emerald-100 p-2.5 rounded-xl\">\r\n                <CheckCircle className=\"h-5 w-5 text-emerald-600\" />\r\n              </div>\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n      </div>\r\n\r\n      <Tabs value={activeTab} onValueChange={(v) => setActiveTab(v as Tab)} className=\"w-full\">\r\n        <TabsList className=\"grid w-full max-w-md grid-cols-3 h-11\">\r\n          <TabsTrigger value=\"all\" className=\"text-sm font-bold\">\r\n            Todas ({alerts.length})\r\n          </TabsTrigger>\r\n          <TabsTrigger value=\"unread\" className=\"text-sm font-bold\">\r\n            No leídas ({unreadCount})\r\n          </TabsTrigger>\r\n          <TabsTrigger value=\"read\" className=\"text-sm font-bold\">\r\n            Leídas ({readCount})\r\n          </TabsTrigger>\r\n        </TabsList>\r\n\r\n        {([\"all\", \"unread\", \"read\"] as const).map((tab) => (\r\n          <TabsContent key={tab} value={tab} className=\"mt-5 space-y-4\">\r\n            {pageData.length === 0 ? (\r\n              <Card className=\"border-0 shadow-sm\">\r\n                <CardContent className=\"py-14 text-center\">\r\n                  <div className=\"flex flex-col items-center gap-3\">\r\n                    <div className=\"bg-slate-100 p-4 rounded-full\">\r\n                      {tab === \"unread\" ? (\r\n                        <CheckCircle className=\"h-10 w-10 text-emerald-600\" />\r\n                      ) : (\r\n                        <Bell className=\"h-10 w-10 text-slate-400\" />\r\n                      )}\r\n                    </div>\r\n                    <div>\r\n                      <p className=\"font-semibold text-slate-900 mb-1\">{tab === \"unread\" ? \"¡Todo al día!\" : \"No hay alertas\"}</p>\r\n                      <p className=\"text-sm text-slate-600\">{tab === \"unread\" ? \"No tienes alertas sin leer\" : \"El sistema no ha registrado alertas\"}</p>\r\n                    </div>\r\n                  </div>\r\n                </CardContent>\r\n              </Card>\r\n            ) : (\r\n              <>\r\n                {pageData.map((a: any) => (\r\n                  <AlertCard key={a._id} alert={a} />\r\n                ))}\r\n\r\n                <div className=\"flex items-center justify-between border-t pt-4\">\r\n                  <p className=\"text-xs text-slate-600\">\r\n                    Mostrando{\" \"}\r\n                    <span className=\"font-bold text-slate-900\">{(page - 1) * pageSize + 1}</span>\r\n                    {\" - \"}\r\n                    <span className=\"font-bold text-slate-900\">{Math.min(page * pageSize, filteredAlerts.length)}</span>{\" \"}\r\n                    de <span className=\"font-bold text-slate-900\">{filteredAlerts.length}</span>\r\n                  </p>\r\n\r\n                  <div className=\"flex items-center gap-2\">\r\n                    <Button variant=\"outline\" size=\"sm\" className=\"h-9 text-xs\" onClick={goPrev} disabled={!canPrev}>\r\n                      <ChevronLeft className=\"h-4 w-4 mr-1\" />\r\n                      Anterior\r\n                    </Button>\r\n\r\n                    <div className=\"text-xs font-bold px-2\">\r\n                      {page} / {totalPages}\r\n                    </div>\r\n\r\n                    <Button variant=\"outline\" size=\"sm\" className=\"h-9 text-xs\" onClick={goNext} disabled={!canNext}>\r\n                      Siguiente\r\n                      <ChevronRight className=\"h-4 w-4 ml-1\" />\r\n                    </Button>\r\n                  </div>\r\n                </div>\r\n              </>\r\n            )}\r\n          </TabsContent>\r\n        ))}\r\n      </Tabs>\r\n    </div>\r\n  );\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
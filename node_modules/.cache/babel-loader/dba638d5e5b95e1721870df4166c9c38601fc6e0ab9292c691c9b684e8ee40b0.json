{"ast":null,"code":"var _jsxFileName = \"D:\\\\PROYECTO DE TESIS A\\xD1O 2026\\\\sistema-armas\\\\frontend\\\\src\\\\components\\\\Alerts.tsx\",\n  _s = $RefreshSig$();\nimport React, { useMemo, useState, useEffect } from \"react\";\nimport { Card, CardContent } from \"./ui/card\";\nimport { Badge } from \"./ui/badge\";\nimport { Button } from \"./ui/button\";\nimport { Tabs, TabsList, TabsTrigger, TabsContent } from \"./ui/tabs\";\nimport { AlertTriangle, CheckCircle, Clock, Camera, Shield, Bell, TrendingUp, ChevronLeft, ChevronRight, RefreshCw, Trash2 } from \"lucide-react\";\nimport { toast } from \"sonner\";\n\n// ✅ Estructura “tolerante” a tu backend (por si cambia el nombre del campo)\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst API_BASE = process.env.REACT_APP_API_BASE || \"http://localhost:8000/api/v1\";\nfunction toDateParts(ts) {\n  let d;\n  if (!ts) d = new Date();else if (typeof ts === \"number\") d = new Date(ts * 1000);else {\n    // string ISO o \"2026-02-22T..\"\n    d = new Date(ts);\n    if (Number.isNaN(d.getTime())) d = new Date();\n  }\n  const pad = n => String(n).padStart(2, \"0\");\n  const date = `${pad(d.getDate())}/${pad(d.getMonth() + 1)}/${d.getFullYear()}`;\n  const time = `${pad(d.getHours())}:${pad(d.getMinutes())}:${pad(d.getSeconds())}`;\n  return {\n    date,\n    time,\n    timestamp: d.toISOString()\n  };\n}\nfunction severityFromConfidence(conf) {\n  if (conf >= 0.9) return \"critical\";\n  if (conf >= 0.8) return \"high\";\n  if (conf >= 0.7) return \"medium\";\n  return \"low\";\n}\nfunction mapAlert(api) {\n  var _ref, _api$_id, _api$weapon_type, _ref2, _api$timestamp, _api$camera_id, _ref3, _api$read, _api$severity, _api$title, _api$message;\n  const id = String((_ref = (_api$_id = api._id) !== null && _api$_id !== void 0 ? _api$_id : api.id) !== null && _ref !== void 0 ? _ref : \"\");\n  const weapon = String((_api$weapon_type = api.weapon_type) !== null && _api$weapon_type !== void 0 ? _api$weapon_type : \"Detección\");\n  const conf = typeof api.confidence === \"number\" ? api.confidence : 0;\n  const ts = (_ref2 = (_api$timestamp = api.timestamp) !== null && _api$timestamp !== void 0 ? _api$timestamp : api.created_at) !== null && _ref2 !== void 0 ? _ref2 : undefined;\n  const {\n    date,\n    time,\n    timestamp\n  } = toDateParts(ts);\n  const camera_id = String((_api$camera_id = api.camera_id) !== null && _api$camera_id !== void 0 ? _api$camera_id : \"—\");\n  const camera_name = camera_id === \"—\" ? \"—\" : camera_id;\n  const isRead = Boolean((_ref3 = (_api$read = api.read) !== null && _api$read !== void 0 ? _api$read : api.isRead) !== null && _ref3 !== void 0 ? _ref3 : false);\n  const severity = (_api$severity = api.severity) !== null && _api$severity !== void 0 ? _api$severity : severityFromConfidence(conf);\n  const title = (_api$title = api.title) !== null && _api$title !== void 0 ? _api$title : `Detección: ${weapon}`;\n  const message = (_api$message = api.message) !== null && _api$message !== void 0 ? _api$message : `Se detectó \"${weapon}\" con ${(conf * 100).toFixed(0)}% de confianza.`;\n  return {\n    id,\n    title,\n    message,\n    timestamp,\n    date,\n    time,\n    camera_id,\n    camera_name,\n    weapon_type: weapon,\n    confidence: conf,\n    isRead,\n    severity\n  };\n}\nasync function apiGetAlerts() {\n  const res = await fetch(`${API_BASE}/alerts`);\n  if (!res.ok) throw new Error(`Error cargando alertas (${res.status})`);\n  const data = await res.json();\n  return data.map(mapAlert);\n}\nasync function apiMarkRead(alertId) {\n  const res = await fetch(`${API_BASE}/alerts/${alertId}/read`, {\n    method: \"PATCH\"\n  });\n  if (!res.ok) throw new Error(`No se pudo marcar como leída (${res.status})`);\n}\nasync function apiDeleteAllAlerts() {\n  const res = await fetch(`${API_BASE}/alerts`, {\n    method: \"DELETE\"\n  });\n  if (!res.ok) throw new Error(`No se pudieron borrar las alertas (${res.status})`);\n}\nexport function Alerts() {\n  _s();\n  const [alerts, setAlerts] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [activeTab, setActiveTab] = useState(\"all\");\n\n  // paginación\n  const pageSize = 4;\n  const [page, setPage] = useState(1);\n  const loadAlerts = async () => {\n    setLoading(true);\n    try {\n      const items = await apiGetAlerts();\n      // ✅ orden: más recientes primero\n      items.sort((a, b) => a.timestamp < b.timestamp ? 1 : -1);\n      setAlerts(items);\n    } catch (e) {\n      var _e$message;\n      toast.error((_e$message = e === null || e === void 0 ? void 0 : e.message) !== null && _e$message !== void 0 ? _e$message : \"Error cargando alertas\");\n    } finally {\n      setLoading(false);\n    }\n  };\n  useEffect(() => {\n    loadAlerts();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  const markAsRead = async id => {\n    try {\n      await apiMarkRead(id);\n      setAlerts(prev => prev.map(a => a.id === id ? {\n        ...a,\n        isRead: true\n      } : a));\n      toast.success(\"Marcada como leída\");\n    } catch (e) {\n      var _e$message2;\n      toast.error((_e$message2 = e === null || e === void 0 ? void 0 : e.message) !== null && _e$message2 !== void 0 ? _e$message2 : \"No se pudo marcar como leída\");\n    }\n  };\n  const markAllAsRead = async () => {\n    const unread = alerts.filter(a => !a.isRead);\n    if (unread.length === 0) return;\n    try {\n      // backend no tiene “mark all”, así que lo hacemos en paralelo\n      await Promise.all(unread.map(a => apiMarkRead(a.id)));\n      setAlerts(prev => prev.map(a => ({\n        ...a,\n        isRead: true\n      })));\n      toast.success(\"Todas marcadas como leídas\");\n    } catch (e) {\n      var _e$message3;\n      toast.error((_e$message3 = e === null || e === void 0 ? void 0 : e.message) !== null && _e$message3 !== void 0 ? _e$message3 : \"No se pudieron marcar todas\");\n    }\n  };\n  const clearAll = async () => {\n    try {\n      await apiDeleteAllAlerts();\n      setAlerts([]);\n      toast.success(\"Alertas eliminadas\");\n    } catch (e) {\n      var _e$message4;\n      toast.error((_e$message4 = e === null || e === void 0 ? void 0 : e.message) !== null && _e$message4 !== void 0 ? _e$message4 : \"No se pudieron borrar\");\n    }\n  };\n  const unreadCount = useMemo(() => alerts.filter(a => !a.isRead).length, [alerts]);\n  const readCount = useMemo(() => alerts.filter(a => a.isRead).length, [alerts]);\n  const criticalCount = useMemo(() => alerts.filter(a => a.severity === \"critical\").length, [alerts]);\n  const filteredAlerts = useMemo(() => {\n    return alerts.filter(a => {\n      if (activeTab === \"unread\") return !a.isRead;\n      if (activeTab === \"read\") return a.isRead;\n      return true;\n    });\n  }, [alerts, activeTab]);\n  const totalPages = useMemo(() => Math.max(1, Math.ceil(filteredAlerts.length / pageSize)), [filteredAlerts.length]);\n  useEffect(() => {\n    setPage(1);\n  }, [activeTab]);\n  useEffect(() => {\n    setPage(p => Math.min(p, totalPages));\n  }, [totalPages]);\n  const canPrev = page > 1;\n  const canNext = page < totalPages;\n  const goPrev = () => setPage(p => Math.max(1, p - 1));\n  const goNext = () => setPage(p => Math.min(totalPages, p + 1));\n  const pageData = useMemo(() => {\n    const start = (page - 1) * pageSize;\n    return filteredAlerts.slice(start, start + pageSize);\n  }, [filteredAlerts, page]);\n  const getSeverityConfig = severity => {\n    switch (severity) {\n      case \"critical\":\n        return {\n          badge: \"bg-rose-600 text-white\",\n          cardBorder: \"border-l-4 border-l-rose-500\",\n          cardBg: \"bg-gradient-to-r from-rose-50/80 to-white\",\n          icon: /*#__PURE__*/_jsxDEV(AlertTriangle, {\n            className: \"h-4 w-4 text-rose-600\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 245,\n            columnNumber: 17\n          }, this),\n          iconBg: \"bg-rose-100\",\n          label: \"Crítica\",\n          pulseEffect: \"animate-pulse\"\n        };\n      case \"high\":\n        return {\n          badge: \"bg-orange-600 text-white\",\n          cardBorder: \"border-l-4 border-l-orange-500\",\n          cardBg: \"bg-white\",\n          icon: /*#__PURE__*/_jsxDEV(AlertTriangle, {\n            className: \"h-4 w-4 text-orange-600\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 255,\n            columnNumber: 17\n          }, this),\n          iconBg: \"bg-orange-100\",\n          label: \"Alta\",\n          pulseEffect: \"\"\n        };\n      case \"medium\":\n        return {\n          badge: \"bg-amber-600 text-white\",\n          cardBorder: \"border-l-4 border-l-amber-500\",\n          cardBg: \"bg-white\",\n          icon: /*#__PURE__*/_jsxDEV(Shield, {\n            className: \"h-4 w-4 text-amber-600\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 265,\n            columnNumber: 17\n          }, this),\n          iconBg: \"bg-amber-100\",\n          label: \"Media\",\n          pulseEffect: \"\"\n        };\n      default:\n        return {\n          badge: \"bg-slate-600 text-white\",\n          cardBorder: \"border-l-4 border-l-slate-400\",\n          cardBg: \"bg-white\",\n          icon: /*#__PURE__*/_jsxDEV(Shield, {\n            className: \"h-4 w-4 text-slate-600\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 275,\n            columnNumber: 17\n          }, this),\n          iconBg: \"bg-slate-100\",\n          label: \"Baja\",\n          pulseEffect: \"\"\n        };\n    }\n  };\n  const AlertCard = ({\n    alert\n  }) => {\n    const config = getSeverityConfig(alert.severity);\n    return /*#__PURE__*/_jsxDEV(Card, {\n      className: `border-0 shadow-sm hover:shadow-md transition-all duration-200 overflow-hidden ${config.cardBorder} ${config.cardBg} ${alert.severity === \"critical\" && !alert.isRead ? \"ring-1 ring-rose-300\" : \"\"}`,\n      children: /*#__PURE__*/_jsxDEV(CardContent, {\n        className: \"p-4\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex gap-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: `${config.iconBg} p-2.5 rounded-xl h-fit ${alert.severity === \"critical\" && !alert.isRead ? config.pulseEffect : \"\"}`,\n            children: config.icon\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 294,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex-1 space-y-3 min-w-0\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-start justify-between gap-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"min-w-0\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center gap-2 flex-wrap\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                    className: \"font-bold text-base text-slate-900 truncate\",\n                    children: alert.title\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 306,\n                    columnNumber: 21\n                  }, this), !alert.isRead && /*#__PURE__*/_jsxDEV(Badge, {\n                    className: \"bg-blue-600 text-white shadow-sm text-[11px] px-2 py-0.5\",\n                    children: [/*#__PURE__*/_jsxDEV(Bell, {\n                      className: \"h-3 w-3 mr-1\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 309,\n                      columnNumber: 25\n                    }, this), \"Nueva\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 308,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 305,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-slate-700 text-sm leading-snug mt-1\",\n                  children: alert.message\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 314,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 304,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Badge, {\n                className: `${config.badge} font-bold text-xs px-3 py-1 shadow-sm whitespace-nowrap`,\n                children: config.label\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 317,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 303,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bg-slate-50 rounded-lg p-2.5 border border-slate-200\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-[10px] text-slate-600 font-bold mb-1 uppercase\",\n                  children: \"Detecci\\xF3n\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 324,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center gap-2\",\n                  children: [/*#__PURE__*/_jsxDEV(Shield, {\n                    className: \"h-3.5 w-3.5 text-blue-600\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 326,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"font-bold text-slate-900 text-xs truncate\",\n                    children: alert.weapon_type\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 327,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 325,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 323,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bg-slate-50 rounded-lg p-2.5 border border-slate-200\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-[10px] text-slate-600 font-bold mb-1 uppercase\",\n                  children: \"C\\xE1mara\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 332,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center gap-2\",\n                  children: [/*#__PURE__*/_jsxDEV(Camera, {\n                    className: \"h-3.5 w-3.5 text-blue-600\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 334,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"min-w-0\",\n                    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"font-mono text-[11px] font-bold text-slate-900\",\n                      children: alert.camera_id\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 336,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-[11px] text-slate-600 truncate\",\n                      children: alert.camera_name\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 337,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 335,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 333,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 331,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bg-slate-50 rounded-lg p-2.5 border border-slate-200\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-[10px] text-slate-600 font-bold mb-1 uppercase\",\n                  children: \"Confianza\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 343,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center gap-2\",\n                  children: [/*#__PURE__*/_jsxDEV(TrendingUp, {\n                    className: \"h-3.5 w-3.5 text-emerald-600\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 345,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex items-center gap-2\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"w-14 bg-slate-200 rounded-full h-1.5 overflow-hidden\",\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: `h-full ${alert.confidence >= 0.9 ? \"bg-emerald-500\" : alert.confidence >= 0.7 ? \"bg-amber-500\" : \"bg-rose-500\"}`,\n                        style: {\n                          width: `${alert.confidence * 100}%`\n                        }\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 348,\n                        columnNumber: 25\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 347,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"font-bold text-slate-900 text-xs\",\n                      children: [(alert.confidence * 100).toFixed(0), \"%\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 359,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 346,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 344,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 342,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bg-slate-50 rounded-lg p-2.5 border border-slate-200\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-[10px] text-slate-600 font-bold mb-1 uppercase\",\n                  children: \"Fecha y Hora\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 365,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center gap-2\",\n                  children: [/*#__PURE__*/_jsxDEV(Clock, {\n                    className: \"h-3.5 w-3.5 text-blue-600\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 367,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"font-mono text-[11px] font-bold text-slate-900\",\n                      children: alert.time\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 369,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"font-mono text-[11px] text-slate-600\",\n                      children: alert.date\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 370,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 368,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 366,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 364,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 322,\n              columnNumber: 15\n            }, this), !alert.isRead && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"pt-1\",\n              children: /*#__PURE__*/_jsxDEV(Button, {\n                size: \"sm\",\n                onClick: () => markAsRead(alert.id),\n                className: \"h-9 text-xs bg-gradient-to-r from-emerald-600 to-emerald-700 hover:from-emerald-700 hover:to-emerald-800 text-white shadow-sm\",\n                children: [/*#__PURE__*/_jsxDEV(CheckCircle, {\n                  className: \"h-4 w-4 mr-2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 383,\n                  columnNumber: 21\n                }, this), \"Marcar como le\\xEDda\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 378,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 377,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 302,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 293,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 292,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 287,\n      columnNumber: 7\n    }, this);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"space-y-5\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-col lg:flex-row lg:items-center justify-between gap-3\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-2xl md:text-3xl font-bold text-slate-900\",\n          children: \"Centro de Alertas\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 399,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-slate-600 text-sm mt-1\",\n          children: \"Notificaciones en tiempo real del sistema de detecci\\xF3n\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 400,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 398,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex gap-2\",\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          onClick: loadAlerts,\n          variant: \"outline\",\n          size: \"sm\",\n          className: \"h-10\",\n          disabled: loading,\n          children: [/*#__PURE__*/_jsxDEV(RefreshCw, {\n            className: `h-4 w-4 mr-2 ${loading ? \"animate-spin\" : \"\"}`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 405,\n            columnNumber: 13\n          }, this), loading ? \"Cargando...\" : \"Refrescar\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 404,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: clearAll,\n          variant: \"outline\",\n          size: \"sm\",\n          className: \"h-10 text-rose-600 hover:bg-rose-50\",\n          children: [/*#__PURE__*/_jsxDEV(Trash2, {\n            className: \"h-4 w-4 mr-2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 410,\n            columnNumber: 13\n          }, this), \"Limpiar\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 409,\n          columnNumber: 11\n        }, this), unreadCount > 0 && /*#__PURE__*/_jsxDEV(Button, {\n          onClick: markAllAsRead,\n          variant: \"outline\",\n          size: \"sm\",\n          className: \"h-10 hover:bg-emerald-50\",\n          children: [/*#__PURE__*/_jsxDEV(CheckCircle, {\n            className: \"h-4 w-4 mr-2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 416,\n            columnNumber: 15\n          }, this), \"Marcar todas\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 415,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 403,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 397,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 md:grid-cols-4 gap-4\",\n      children: [/*#__PURE__*/_jsxDEV(Card, {\n        className: \"border-0 shadow-sm\",\n        children: /*#__PURE__*/_jsxDEV(CardContent, {\n          className: \"py-4 px-4\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-between\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-xs font-semibold text-slate-600\",\n                children: \"Total Alertas\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 428,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-2xl font-bold text-slate-900 mt-1\",\n                children: alerts.length\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 429,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 427,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-blue-100 p-2.5 rounded-xl\",\n              children: /*#__PURE__*/_jsxDEV(Bell, {\n                className: \"h-5 w-5 text-blue-600\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 432,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 431,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 426,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 425,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 424,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Card, {\n        className: \"border-0 shadow-sm border-l-4 border-l-rose-500\",\n        children: /*#__PURE__*/_jsxDEV(CardContent, {\n          className: \"py-4 px-4\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-between\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-xs font-semibold text-slate-600\",\n                children: \"No Le\\xEDdas\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 442,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-2xl font-bold text-rose-600 mt-1\",\n                children: unreadCount\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 443,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 441,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-rose-100 p-2.5 rounded-xl\",\n              children: /*#__PURE__*/_jsxDEV(AlertTriangle, {\n                className: \"h-5 w-5 text-rose-600\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 446,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 445,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 440,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 439,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 438,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Card, {\n        className: \"border-0 shadow-sm border-l-4 border-l-orange-500\",\n        children: /*#__PURE__*/_jsxDEV(CardContent, {\n          className: \"py-4 px-4\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-between\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-xs font-semibold text-slate-600\",\n                children: \"Cr\\xEDticas\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 456,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-2xl font-bold text-orange-600 mt-1\",\n                children: criticalCount\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 457,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 455,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-orange-100 p-2.5 rounded-xl\",\n              children: /*#__PURE__*/_jsxDEV(Shield, {\n                className: \"h-5 w-5 text-orange-600\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 460,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 459,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 454,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 453,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 452,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Card, {\n        className: \"border-0 shadow-sm border-l-4 border-l-emerald-500\",\n        children: /*#__PURE__*/_jsxDEV(CardContent, {\n          className: \"py-4 px-4\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-between\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-xs font-semibold text-slate-600\",\n                children: \"Procesadas\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 470,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-2xl font-bold text-emerald-600 mt-1\",\n                children: readCount\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 471,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 469,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-emerald-100 p-2.5 rounded-xl\",\n              children: /*#__PURE__*/_jsxDEV(CheckCircle, {\n                className: \"h-5 w-5 text-emerald-600\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 474,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 473,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 468,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 467,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 466,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 423,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Tabs, {\n      value: activeTab,\n      onValueChange: v => setActiveTab(v),\n      className: \"w-full\",\n      children: [/*#__PURE__*/_jsxDEV(TabsList, {\n        className: \"grid w-full max-w-md grid-cols-3 h-11\",\n        children: [/*#__PURE__*/_jsxDEV(TabsTrigger, {\n          value: \"all\",\n          className: \"text-sm font-bold\",\n          children: [\"Todas (\", alerts.length, \")\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 483,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(TabsTrigger, {\n          value: \"unread\",\n          className: \"text-sm font-bold\",\n          children: [\"No le\\xEDdas (\", unreadCount, \")\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 486,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(TabsTrigger, {\n          value: \"read\",\n          className: \"text-sm font-bold\",\n          children: [\"Le\\xEDdas (\", readCount, \")\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 489,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 482,\n        columnNumber: 9\n      }, this), [\"all\", \"unread\", \"read\"].map(tab => /*#__PURE__*/_jsxDEV(TabsContent, {\n        value: tab,\n        className: \"mt-5 space-y-4\",\n        children: pageData.length === 0 ? /*#__PURE__*/_jsxDEV(Card, {\n          className: \"border-0 shadow-sm\",\n          children: /*#__PURE__*/_jsxDEV(CardContent, {\n            className: \"py-14 text-center\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex flex-col items-center gap-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bg-slate-100 p-4 rounded-full\",\n                children: tab === \"unread\" ? /*#__PURE__*/_jsxDEV(CheckCircle, {\n                  className: \"h-10 w-10 text-emerald-600\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 502,\n                  columnNumber: 25\n                }, this) : /*#__PURE__*/_jsxDEV(Bell, {\n                  className: \"h-10 w-10 text-slate-400\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 504,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 500,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"font-semibold text-slate-900 mb-1\",\n                  children: tab === \"unread\" ? \"¡Todo al día!\" : \"No hay alertas\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 508,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-sm text-slate-600\",\n                  children: tab === \"unread\" ? \"No tienes alertas sin leer\" : \"El sistema no ha registrado alertas\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 511,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 507,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 499,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 498,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 497,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [pageData.map(a => /*#__PURE__*/_jsxDEV(AlertCard, {\n            alert: a\n          }, a.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 521,\n            columnNumber: 19\n          }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-between border-t pt-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-xs text-slate-600\",\n              children: [\"Mostrando\", \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"font-bold text-slate-900\",\n                children: (page - 1) * pageSize + 1\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 527,\n                columnNumber: 21\n              }, this), \" - \", /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"font-bold text-slate-900\",\n                children: Math.min(page * pageSize, filteredAlerts.length)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 529,\n                columnNumber: 21\n              }, this), \" \", \"de \", /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"font-bold text-slate-900\",\n                children: filteredAlerts.length\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 532,\n                columnNumber: 24\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 525,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center gap-2\",\n              children: [/*#__PURE__*/_jsxDEV(Button, {\n                variant: \"outline\",\n                size: \"sm\",\n                className: \"h-9 text-xs\",\n                onClick: goPrev,\n                disabled: !canPrev,\n                children: [/*#__PURE__*/_jsxDEV(ChevronLeft, {\n                  className: \"h-4 w-4 mr-1\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 537,\n                  columnNumber: 23\n                }, this), \"Anterior\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 536,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-xs font-bold px-2\",\n                children: [page, \" / \", totalPages]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 541,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                variant: \"outline\",\n                size: \"sm\",\n                className: \"h-9 text-xs\",\n                onClick: goNext,\n                disabled: !canNext,\n                children: [\"Siguiente\", /*#__PURE__*/_jsxDEV(ChevronRight, {\n                  className: \"h-4 w-4 ml-1\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 547,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 545,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 535,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 524,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true)\n      }, tab, false, {\n        fileName: _jsxFileName,\n        lineNumber: 495,\n        columnNumber: 11\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 481,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 396,\n    columnNumber: 5\n  }, this);\n}\n_s(Alerts, \"hmkp/d9JATIV0bUUjwKLRkXiO9M=\");\n_c = Alerts;\nvar _c;\n$RefreshReg$(_c, \"Alerts\");","map":{"version":3,"names":["React","useMemo","useState","useEffect","Card","CardContent","Badge","Button","Tabs","TabsList","TabsTrigger","TabsContent","AlertTriangle","CheckCircle","Clock","Camera","Shield","Bell","TrendingUp","ChevronLeft","ChevronRight","RefreshCw","Trash2","toast","jsxDEV","_jsxDEV","Fragment","_Fragment","API_BASE","process","env","REACT_APP_API_BASE","toDateParts","ts","d","Date","Number","isNaN","getTime","pad","n","String","padStart","date","getDate","getMonth","getFullYear","time","getHours","getMinutes","getSeconds","timestamp","toISOString","severityFromConfidence","conf","mapAlert","api","_ref","_api$_id","_api$weapon_type","_ref2","_api$timestamp","_api$camera_id","_ref3","_api$read","_api$severity","_api$title","_api$message","id","_id","weapon","weapon_type","confidence","created_at","undefined","camera_id","camera_name","isRead","Boolean","read","severity","title","message","toFixed","apiGetAlerts","res","fetch","ok","Error","status","data","json","map","apiMarkRead","alertId","method","apiDeleteAllAlerts","Alerts","_s","alerts","setAlerts","loading","setLoading","activeTab","setActiveTab","pageSize","page","setPage","loadAlerts","items","sort","a","b","e","_e$message","error","markAsRead","prev","success","_e$message2","markAllAsRead","unread","filter","length","Promise","all","_e$message3","clearAll","_e$message4","unreadCount","readCount","criticalCount","filteredAlerts","totalPages","Math","max","ceil","p","min","canPrev","canNext","goPrev","goNext","pageData","start","slice","getSeverityConfig","badge","cardBorder","cardBg","icon","className","fileName","_jsxFileName","lineNumber","columnNumber","iconBg","label","pulseEffect","AlertCard","alert","config","children","style","width","size","onClick","variant","disabled","value","onValueChange","v","tab","_c","$RefreshReg$"],"sources":["D:/PROYECTO DE TESIS AÑO 2026/sistema-armas/frontend/src/components/Alerts.tsx"],"sourcesContent":["import React, { useMemo, useState, useEffect } from \"react\";\r\nimport { Card, CardContent } from \"./ui/card\";\r\nimport { Badge } from \"./ui/badge\";\r\nimport { Button } from \"./ui/button\";\r\nimport { Tabs, TabsList, TabsTrigger, TabsContent } from \"./ui/tabs\";\r\nimport {\r\n  AlertTriangle,\r\n  CheckCircle,\r\n  Clock,\r\n  Camera,\r\n  Shield,\r\n  Bell,\r\n  TrendingUp,\r\n  ChevronLeft,\r\n  ChevronRight,\r\n  RefreshCw,\r\n  Trash2,\r\n} from \"lucide-react\";\r\nimport { toast } from \"sonner\";\r\n\r\ntype Severity = \"critical\" | \"high\" | \"medium\" | \"low\";\r\n\r\n// ✅ Estructura “tolerante” a tu backend (por si cambia el nombre del campo)\r\ntype AlertApi = {\r\n  _id?: string;\r\n  id?: string;\r\n  weapon_type?: string;\r\n  confidence?: number;\r\n  evidence_url?: string | null;\r\n  camera_id?: string | null;\r\n  timestamp?: string | number; // puede venir string ISO o epoch\r\n  created_at?: string;         // a veces llega created_at\r\n  read?: boolean;              // backend común\r\n  isRead?: boolean;            // tu frontend\r\n  severity?: Severity;         // si backend ya lo manda\r\n  title?: string;\r\n  message?: string;\r\n};\r\n\r\ninterface AlertUI {\r\n  id: string;\r\n  title: string;\r\n  message: string;\r\n  timestamp: string;\r\n  date: string;\r\n  time: string;\r\n  camera_id: string;\r\n  camera_name: string;\r\n  weapon_type: string;\r\n  confidence: number;\r\n  isRead: boolean;\r\n  severity: Severity;\r\n}\r\n\r\nconst API_BASE =\r\n  (process.env.REACT_APP_API_BASE as string) || \"http://localhost:8000/api/v1\";\r\n\r\nfunction toDateParts(ts: string | number | undefined) {\r\n  let d: Date;\r\n\r\n  if (!ts) d = new Date();\r\n  else if (typeof ts === \"number\") d = new Date(ts * 1000);\r\n  else {\r\n    // string ISO o \"2026-02-22T..\"\r\n    d = new Date(ts);\r\n    if (Number.isNaN(d.getTime())) d = new Date();\r\n  }\r\n\r\n  const pad = (n: number) => String(n).padStart(2, \"0\");\r\n  const date = `${pad(d.getDate())}/${pad(d.getMonth() + 1)}/${d.getFullYear()}`;\r\n  const time = `${pad(d.getHours())}:${pad(d.getMinutes())}:${pad(d.getSeconds())}`;\r\n\r\n  return { date, time, timestamp: d.toISOString() };\r\n}\r\n\r\nfunction severityFromConfidence(conf: number): Severity {\r\n  if (conf >= 0.9) return \"critical\";\r\n  if (conf >= 0.8) return \"high\";\r\n  if (conf >= 0.7) return \"medium\";\r\n  return \"low\";\r\n}\r\n\r\nfunction mapAlert(api: AlertApi): AlertUI {\r\n  const id = String(api._id ?? api.id ?? \"\");\r\n  const weapon = String(api.weapon_type ?? \"Detección\");\r\n  const conf = typeof api.confidence === \"number\" ? api.confidence : 0;\r\n\r\n  const ts = api.timestamp ?? api.created_at ?? undefined;\r\n  const { date, time, timestamp } = toDateParts(ts as any);\r\n\r\n  const camera_id = String(api.camera_id ?? \"—\");\r\n  const camera_name = camera_id === \"—\" ? \"—\" : camera_id;\r\n\r\n  const isRead = Boolean(api.read ?? api.isRead ?? false);\r\n  const severity = (api.severity ?? severityFromConfidence(conf)) as Severity;\r\n\r\n  const title = api.title ?? `Detección: ${weapon}`;\r\n  const message =\r\n    api.message ??\r\n    `Se detectó \"${weapon}\" con ${(conf * 100).toFixed(0)}% de confianza.`;\r\n\r\n  return {\r\n    id,\r\n    title,\r\n    message,\r\n    timestamp,\r\n    date,\r\n    time,\r\n    camera_id,\r\n    camera_name,\r\n    weapon_type: weapon,\r\n    confidence: conf,\r\n    isRead,\r\n    severity,\r\n  };\r\n}\r\n\r\nasync function apiGetAlerts(): Promise<AlertUI[]> {\r\n  const res = await fetch(`${API_BASE}/alerts`);\r\n  if (!res.ok) throw new Error(`Error cargando alertas (${res.status})`);\r\n  const data = (await res.json()) as AlertApi[];\r\n  return data.map(mapAlert);\r\n}\r\n\r\nasync function apiMarkRead(alertId: string): Promise<void> {\r\n  const res = await fetch(`${API_BASE}/alerts/${alertId}/read`, {\r\n    method: \"PATCH\",\r\n  });\r\n  if (!res.ok) throw new Error(`No se pudo marcar como leída (${res.status})`);\r\n}\r\n\r\nasync function apiDeleteAllAlerts(): Promise<void> {\r\n  const res = await fetch(`${API_BASE}/alerts`, { method: \"DELETE\" });\r\n  if (!res.ok) throw new Error(`No se pudieron borrar las alertas (${res.status})`);\r\n}\r\n\r\nexport function Alerts() {\r\n  const [alerts, setAlerts] = useState<AlertUI[]>([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [activeTab, setActiveTab] = useState<\"all\" | \"unread\" | \"read\">(\"all\");\r\n\r\n  // paginación\r\n  const pageSize = 4;\r\n  const [page, setPage] = useState(1);\r\n\r\n  const loadAlerts = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const items = await apiGetAlerts();\r\n      // ✅ orden: más recientes primero\r\n      items.sort((a, b) => (a.timestamp < b.timestamp ? 1 : -1));\r\n      setAlerts(items);\r\n    } catch (e: any) {\r\n      toast.error(e?.message ?? \"Error cargando alertas\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    loadAlerts();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  const markAsRead = async (id: string) => {\r\n    try {\r\n      await apiMarkRead(id);\r\n      setAlerts((prev) => prev.map((a) => (a.id === id ? { ...a, isRead: true } : a)));\r\n      toast.success(\"Marcada como leída\");\r\n    } catch (e: any) {\r\n      toast.error(e?.message ?? \"No se pudo marcar como leída\");\r\n    }\r\n  };\r\n\r\n  const markAllAsRead = async () => {\r\n    const unread = alerts.filter((a) => !a.isRead);\r\n    if (unread.length === 0) return;\r\n\r\n    try {\r\n      // backend no tiene “mark all”, así que lo hacemos en paralelo\r\n      await Promise.all(unread.map((a) => apiMarkRead(a.id)));\r\n      setAlerts((prev) => prev.map((a) => ({ ...a, isRead: true })));\r\n      toast.success(\"Todas marcadas como leídas\");\r\n    } catch (e: any) {\r\n      toast.error(e?.message ?? \"No se pudieron marcar todas\");\r\n    }\r\n  };\r\n\r\n  const clearAll = async () => {\r\n    try {\r\n      await apiDeleteAllAlerts();\r\n      setAlerts([]);\r\n      toast.success(\"Alertas eliminadas\");\r\n    } catch (e: any) {\r\n      toast.error(e?.message ?? \"No se pudieron borrar\");\r\n    }\r\n  };\r\n\r\n  const unreadCount = useMemo(() => alerts.filter((a) => !a.isRead).length, [alerts]);\r\n  const readCount = useMemo(() => alerts.filter((a) => a.isRead).length, [alerts]);\r\n  const criticalCount = useMemo(\r\n    () => alerts.filter((a) => a.severity === \"critical\").length,\r\n    [alerts]\r\n  );\r\n\r\n  const filteredAlerts = useMemo(() => {\r\n    return alerts.filter((a) => {\r\n      if (activeTab === \"unread\") return !a.isRead;\r\n      if (activeTab === \"read\") return a.isRead;\r\n      return true;\r\n    });\r\n  }, [alerts, activeTab]);\r\n\r\n  const totalPages = useMemo(\r\n    () => Math.max(1, Math.ceil(filteredAlerts.length / pageSize)),\r\n    [filteredAlerts.length]\r\n  );\r\n\r\n  useEffect(() => {\r\n    setPage(1);\r\n  }, [activeTab]);\r\n\r\n  useEffect(() => {\r\n    setPage((p) => Math.min(p, totalPages));\r\n  }, [totalPages]);\r\n\r\n  const canPrev = page > 1;\r\n  const canNext = page < totalPages;\r\n\r\n  const goPrev = () => setPage((p) => Math.max(1, p - 1));\r\n  const goNext = () => setPage((p) => Math.min(totalPages, p + 1));\r\n\r\n  const pageData = useMemo(() => {\r\n    const start = (page - 1) * pageSize;\r\n    return filteredAlerts.slice(start, start + pageSize);\r\n  }, [filteredAlerts, page]);\r\n\r\n  const getSeverityConfig = (severity: Severity) => {\r\n    switch (severity) {\r\n      case \"critical\":\r\n        return {\r\n          badge: \"bg-rose-600 text-white\",\r\n          cardBorder: \"border-l-4 border-l-rose-500\",\r\n          cardBg: \"bg-gradient-to-r from-rose-50/80 to-white\",\r\n          icon: <AlertTriangle className=\"h-4 w-4 text-rose-600\" />,\r\n          iconBg: \"bg-rose-100\",\r\n          label: \"Crítica\",\r\n          pulseEffect: \"animate-pulse\",\r\n        };\r\n      case \"high\":\r\n        return {\r\n          badge: \"bg-orange-600 text-white\",\r\n          cardBorder: \"border-l-4 border-l-orange-500\",\r\n          cardBg: \"bg-white\",\r\n          icon: <AlertTriangle className=\"h-4 w-4 text-orange-600\" />,\r\n          iconBg: \"bg-orange-100\",\r\n          label: \"Alta\",\r\n          pulseEffect: \"\",\r\n        };\r\n      case \"medium\":\r\n        return {\r\n          badge: \"bg-amber-600 text-white\",\r\n          cardBorder: \"border-l-4 border-l-amber-500\",\r\n          cardBg: \"bg-white\",\r\n          icon: <Shield className=\"h-4 w-4 text-amber-600\" />,\r\n          iconBg: \"bg-amber-100\",\r\n          label: \"Media\",\r\n          pulseEffect: \"\",\r\n        };\r\n      default:\r\n        return {\r\n          badge: \"bg-slate-600 text-white\",\r\n          cardBorder: \"border-l-4 border-l-slate-400\",\r\n          cardBg: \"bg-white\",\r\n          icon: <Shield className=\"h-4 w-4 text-slate-600\" />,\r\n          iconBg: \"bg-slate-100\",\r\n          label: \"Baja\",\r\n          pulseEffect: \"\",\r\n        };\r\n    }\r\n  };\r\n\r\n  const AlertCard = ({ alert }: { alert: AlertUI }) => {\r\n    const config = getSeverityConfig(alert.severity);\r\n\r\n    return (\r\n      <Card\r\n        className={`border-0 shadow-sm hover:shadow-md transition-all duration-200 overflow-hidden ${config.cardBorder} ${config.cardBg} ${\r\n          alert.severity === \"critical\" && !alert.isRead ? \"ring-1 ring-rose-300\" : \"\"\r\n        }`}\r\n      >\r\n        <CardContent className=\"p-4\">\r\n          <div className=\"flex gap-3\">\r\n            <div\r\n              className={`${config.iconBg} p-2.5 rounded-xl h-fit ${\r\n                alert.severity === \"critical\" && !alert.isRead ? config.pulseEffect : \"\"\r\n              }`}\r\n            >\r\n              {config.icon}\r\n            </div>\r\n\r\n            <div className=\"flex-1 space-y-3 min-w-0\">\r\n              <div className=\"flex items-start justify-between gap-3\">\r\n                <div className=\"min-w-0\">\r\n                  <div className=\"flex items-center gap-2 flex-wrap\">\r\n                    <h3 className=\"font-bold text-base text-slate-900 truncate\">{alert.title}</h3>\r\n                    {!alert.isRead && (\r\n                      <Badge className=\"bg-blue-600 text-white shadow-sm text-[11px] px-2 py-0.5\">\r\n                        <Bell className=\"h-3 w-3 mr-1\" />\r\n                        Nueva\r\n                      </Badge>\r\n                    )}\r\n                  </div>\r\n                  <p className=\"text-slate-700 text-sm leading-snug mt-1\">{alert.message}</p>\r\n                </div>\r\n\r\n                <Badge className={`${config.badge} font-bold text-xs px-3 py-1 shadow-sm whitespace-nowrap`}>\r\n                  {config.label}\r\n                </Badge>\r\n              </div>\r\n\r\n              <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-2\">\r\n                <div className=\"bg-slate-50 rounded-lg p-2.5 border border-slate-200\">\r\n                  <p className=\"text-[10px] text-slate-600 font-bold mb-1 uppercase\">Detección</p>\r\n                  <div className=\"flex items-center gap-2\">\r\n                    <Shield className=\"h-3.5 w-3.5 text-blue-600\" />\r\n                    <p className=\"font-bold text-slate-900 text-xs truncate\">{alert.weapon_type}</p>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"bg-slate-50 rounded-lg p-2.5 border border-slate-200\">\r\n                  <p className=\"text-[10px] text-slate-600 font-bold mb-1 uppercase\">Cámara</p>\r\n                  <div className=\"flex items-center gap-2\">\r\n                    <Camera className=\"h-3.5 w-3.5 text-blue-600\" />\r\n                    <div className=\"min-w-0\">\r\n                      <p className=\"font-mono text-[11px] font-bold text-slate-900\">{alert.camera_id}</p>\r\n                      <p className=\"text-[11px] text-slate-600 truncate\">{alert.camera_name}</p>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"bg-slate-50 rounded-lg p-2.5 border border-slate-200\">\r\n                  <p className=\"text-[10px] text-slate-600 font-bold mb-1 uppercase\">Confianza</p>\r\n                  <div className=\"flex items-center gap-2\">\r\n                    <TrendingUp className=\"h-3.5 w-3.5 text-emerald-600\" />\r\n                    <div className=\"flex items-center gap-2\">\r\n                      <div className=\"w-14 bg-slate-200 rounded-full h-1.5 overflow-hidden\">\r\n                        <div\r\n                          className={`h-full ${\r\n                            alert.confidence >= 0.9\r\n                              ? \"bg-emerald-500\"\r\n                              : alert.confidence >= 0.7\r\n                              ? \"bg-amber-500\"\r\n                              : \"bg-rose-500\"\r\n                          }`}\r\n                          style={{ width: `${alert.confidence * 100}%` }}\r\n                        />\r\n                      </div>\r\n                      <span className=\"font-bold text-slate-900 text-xs\">{(alert.confidence * 100).toFixed(0)}%</span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"bg-slate-50 rounded-lg p-2.5 border border-slate-200\">\r\n                  <p className=\"text-[10px] text-slate-600 font-bold mb-1 uppercase\">Fecha y Hora</p>\r\n                  <div className=\"flex items-center gap-2\">\r\n                    <Clock className=\"h-3.5 w-3.5 text-blue-600\" />\r\n                    <div>\r\n                      <p className=\"font-mono text-[11px] font-bold text-slate-900\">{alert.time}</p>\r\n                      <p className=\"font-mono text-[11px] text-slate-600\">{alert.date}</p>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              {!alert.isRead && (\r\n                <div className=\"pt-1\">\r\n                  <Button\r\n                    size=\"sm\"\r\n                    onClick={() => markAsRead(alert.id)}\r\n                    className=\"h-9 text-xs bg-gradient-to-r from-emerald-600 to-emerald-700 hover:from-emerald-700 hover:to-emerald-800 text-white shadow-sm\"\r\n                  >\r\n                    <CheckCircle className=\"h-4 w-4 mr-2\" />\r\n                    Marcar como leída\r\n                  </Button>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-5\">\r\n      <div className=\"flex flex-col lg:flex-row lg:items-center justify-between gap-3\">\r\n        <div>\r\n          <h1 className=\"text-2xl md:text-3xl font-bold text-slate-900\">Centro de Alertas</h1>\r\n          <p className=\"text-slate-600 text-sm mt-1\">Notificaciones en tiempo real del sistema de detección</p>\r\n        </div>\r\n\r\n        <div className=\"flex gap-2\">\r\n          <Button onClick={loadAlerts} variant=\"outline\" size=\"sm\" className=\"h-10\" disabled={loading}>\r\n            <RefreshCw className={`h-4 w-4 mr-2 ${loading ? \"animate-spin\" : \"\"}`} />\r\n            {loading ? \"Cargando...\" : \"Refrescar\"}\r\n          </Button>\r\n\r\n          <Button onClick={clearAll} variant=\"outline\" size=\"sm\" className=\"h-10 text-rose-600 hover:bg-rose-50\">\r\n            <Trash2 className=\"h-4 w-4 mr-2\" />\r\n            Limpiar\r\n          </Button>\r\n\r\n          {unreadCount > 0 && (\r\n            <Button onClick={markAllAsRead} variant=\"outline\" size=\"sm\" className=\"h-10 hover:bg-emerald-50\">\r\n              <CheckCircle className=\"h-4 w-4 mr-2\" />\r\n              Marcar todas\r\n            </Button>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\r\n        <Card className=\"border-0 shadow-sm\">\r\n          <CardContent className=\"py-4 px-4\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <div>\r\n                <p className=\"text-xs font-semibold text-slate-600\">Total Alertas</p>\r\n                <p className=\"text-2xl font-bold text-slate-900 mt-1\">{alerts.length}</p>\r\n              </div>\r\n              <div className=\"bg-blue-100 p-2.5 rounded-xl\">\r\n                <Bell className=\"h-5 w-5 text-blue-600\" />\r\n              </div>\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n\r\n        <Card className=\"border-0 shadow-sm border-l-4 border-l-rose-500\">\r\n          <CardContent className=\"py-4 px-4\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <div>\r\n                <p className=\"text-xs font-semibold text-slate-600\">No Leídas</p>\r\n                <p className=\"text-2xl font-bold text-rose-600 mt-1\">{unreadCount}</p>\r\n              </div>\r\n              <div className=\"bg-rose-100 p-2.5 rounded-xl\">\r\n                <AlertTriangle className=\"h-5 w-5 text-rose-600\" />\r\n              </div>\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n\r\n        <Card className=\"border-0 shadow-sm border-l-4 border-l-orange-500\">\r\n          <CardContent className=\"py-4 px-4\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <div>\r\n                <p className=\"text-xs font-semibold text-slate-600\">Críticas</p>\r\n                <p className=\"text-2xl font-bold text-orange-600 mt-1\">{criticalCount}</p>\r\n              </div>\r\n              <div className=\"bg-orange-100 p-2.5 rounded-xl\">\r\n                <Shield className=\"h-5 w-5 text-orange-600\" />\r\n              </div>\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n\r\n        <Card className=\"border-0 shadow-sm border-l-4 border-l-emerald-500\">\r\n          <CardContent className=\"py-4 px-4\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <div>\r\n                <p className=\"text-xs font-semibold text-slate-600\">Procesadas</p>\r\n                <p className=\"text-2xl font-bold text-emerald-600 mt-1\">{readCount}</p>\r\n              </div>\r\n              <div className=\"bg-emerald-100 p-2.5 rounded-xl\">\r\n                <CheckCircle className=\"h-5 w-5 text-emerald-600\" />\r\n              </div>\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n      </div>\r\n\r\n      <Tabs value={activeTab} onValueChange={(v) => setActiveTab(v as any)} className=\"w-full\">\r\n        <TabsList className=\"grid w-full max-w-md grid-cols-3 h-11\">\r\n          <TabsTrigger value=\"all\" className=\"text-sm font-bold\">\r\n            Todas ({alerts.length})\r\n          </TabsTrigger>\r\n          <TabsTrigger value=\"unread\" className=\"text-sm font-bold\">\r\n            No leídas ({unreadCount})\r\n          </TabsTrigger>\r\n          <TabsTrigger value=\"read\" className=\"text-sm font-bold\">\r\n            Leídas ({readCount})\r\n          </TabsTrigger>\r\n        </TabsList>\r\n\r\n        {([\"all\", \"unread\", \"read\"] as const).map((tab) => (\r\n          <TabsContent key={tab} value={tab} className=\"mt-5 space-y-4\">\r\n            {pageData.length === 0 ? (\r\n              <Card className=\"border-0 shadow-sm\">\r\n                <CardContent className=\"py-14 text-center\">\r\n                  <div className=\"flex flex-col items-center gap-3\">\r\n                    <div className=\"bg-slate-100 p-4 rounded-full\">\r\n                      {tab === \"unread\" ? (\r\n                        <CheckCircle className=\"h-10 w-10 text-emerald-600\" />\r\n                      ) : (\r\n                        <Bell className=\"h-10 w-10 text-slate-400\" />\r\n                      )}\r\n                    </div>\r\n                    <div>\r\n                      <p className=\"font-semibold text-slate-900 mb-1\">\r\n                        {tab === \"unread\" ? \"¡Todo al día!\" : \"No hay alertas\"}\r\n                      </p>\r\n                      <p className=\"text-sm text-slate-600\">\r\n                        {tab === \"unread\" ? \"No tienes alertas sin leer\" : \"El sistema no ha registrado alertas\"}\r\n                      </p>\r\n                    </div>\r\n                  </div>\r\n                </CardContent>\r\n              </Card>\r\n            ) : (\r\n              <>\r\n                {pageData.map((a) => (\r\n                  <AlertCard key={a.id} alert={a} />\r\n                ))}\r\n\r\n                <div className=\"flex items-center justify-between border-t pt-4\">\r\n                  <p className=\"text-xs text-slate-600\">\r\n                    Mostrando{\" \"}\r\n                    <span className=\"font-bold text-slate-900\">{(page - 1) * pageSize + 1}</span>\r\n                    {\" - \"}\r\n                    <span className=\"font-bold text-slate-900\">\r\n                      {Math.min(page * pageSize, filteredAlerts.length)}\r\n                    </span>{\" \"}\r\n                    de <span className=\"font-bold text-slate-900\">{filteredAlerts.length}</span>\r\n                  </p>\r\n\r\n                  <div className=\"flex items-center gap-2\">\r\n                    <Button variant=\"outline\" size=\"sm\" className=\"h-9 text-xs\" onClick={goPrev} disabled={!canPrev}>\r\n                      <ChevronLeft className=\"h-4 w-4 mr-1\" />\r\n                      Anterior\r\n                    </Button>\r\n\r\n                    <div className=\"text-xs font-bold px-2\">\r\n                      {page} / {totalPages}\r\n                    </div>\r\n\r\n                    <Button variant=\"outline\" size=\"sm\" className=\"h-9 text-xs\" onClick={goNext} disabled={!canNext}>\r\n                      Siguiente\r\n                      <ChevronRight className=\"h-4 w-4 ml-1\" />\r\n                    </Button>\r\n                  </div>\r\n                </div>\r\n              </>\r\n            )}\r\n          </TabsContent>\r\n        ))}\r\n      </Tabs>\r\n    </div>\r\n  );\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
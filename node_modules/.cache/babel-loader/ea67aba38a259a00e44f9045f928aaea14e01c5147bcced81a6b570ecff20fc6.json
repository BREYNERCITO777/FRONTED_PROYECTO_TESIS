{"ast":null,"code":"import { http } from \"./http\";\nexport async function listUsers(limit = 500) {\n  // tu backend NO usa limit, pero no hace daño si lo quitas.\n  // Si quieres evitar confusiones: usa \"/users\" a secas.\n  const {\n    data\n  } = await http.get(`/users`);\n  return data;\n}\nexport async function createUser(payload) {\n  var _payload$estado;\n  const {\n    data\n  } = await http.post(`/users`, {\n    ...payload,\n    estado: (_payload$estado = payload.estado) !== null && _payload$estado !== void 0 ? _payload$estado : 1\n  });\n  return data;\n}\nexport async function updateUser(userId, payload) {\n  const {\n    data\n  } = await http.patch(`/users/${userId}`, payload);\n  return data;\n}\n\n// ✅ Backend: PATCH /users/{id}/role?role=...\nexport async function setUserRole(userId, role) {\n  const {\n    data\n  } = await http.patch(`/users/${userId}/role`, null, {\n    params: {\n      role\n    }\n  });\n  return data;\n}\n\n// ✅ Backend: PATCH /users/{id}/estado  body: { estado: 0|1 }\nexport async function setUserEstado(userId, estado) {\n  const {\n    data\n  } = await http.patch(`/users/${userId}/estado`, {\n    estado\n  });\n  return data;\n}\nexport async function deleteUser(userId) {\n  const {\n    data\n  } = await http.delete(`/users/${userId}`);\n  return data;\n}","map":{"version":3,"names":["http","listUsers","limit","data","get","createUser","payload","_payload$estado","post","estado","updateUser","userId","patch","setUserRole","role","params","setUserEstado","deleteUser","delete"],"sources":["D:/PROYECTO DE TESIS AÑO 2026/sistema-armas/frontend/src/api/users.ts"],"sourcesContent":["import { http } from \"./http\";\r\n\r\nexport type UserOut = {\r\n  _id: string;\r\n  name: string;\r\n  email: string;\r\n  role: \"admin\" | \"operator\";\r\n  estado?: 0 | 1;\r\n  created_at?: string | null;\r\n};\r\n\r\nexport type UserCreate = {\r\n  name: string;\r\n  email: string;\r\n  password: string;\r\n  role: \"admin\" | \"operator\";\r\n  estado?: 0 | 1; // opcional, backend default 1\r\n};\r\n\r\nexport type UserUpdate = {\r\n  name?: string;\r\n  email?: string;\r\n  password?: string;\r\n  role?: \"admin\" | \"operator\";\r\n  estado?: 0 | 1;\r\n};\r\n\r\nexport async function listUsers(limit = 500) {\r\n  // tu backend NO usa limit, pero no hace daño si lo quitas.\r\n  // Si quieres evitar confusiones: usa \"/users\" a secas.\r\n  const { data } = await http.get<UserOut[]>(`/users`);\r\n  return data;\r\n}\r\n\r\nexport async function createUser(payload: UserCreate) {\r\n  const { data } = await http.post<UserOut>(`/users`, {\r\n    ...payload,\r\n    estado: payload.estado ?? 1,\r\n  });\r\n  return data;\r\n}\r\n\r\nexport async function updateUser(userId: string, payload: UserUpdate) {\r\n  const { data } = await http.patch<UserOut>(`/users/${userId}`, payload);\r\n  return data;\r\n}\r\n\r\n// ✅ Backend: PATCH /users/{id}/role?role=...\r\nexport async function setUserRole(userId: string, role: \"admin\" | \"operator\") {\r\n  const { data } = await http.patch<UserOut>(`/users/${userId}/role`, null, {\r\n    params: { role },\r\n  });\r\n  return data;\r\n}\r\n\r\n// ✅ Backend: PATCH /users/{id}/estado  body: { estado: 0|1 }\r\nexport async function setUserEstado(userId: string, estado: 0 | 1) {\r\n  const { data } = await http.patch<UserOut>(`/users/${userId}/estado`, {\r\n    estado,\r\n  });\r\n  return data;\r\n}\r\n\r\nexport async function deleteUser(userId: string) {\r\n  const { data } = await http.delete(`/users/${userId}`);\r\n  return data;\r\n}"],"mappings":"AAAA,SAASA,IAAI,QAAQ,QAAQ;AA2B7B,OAAO,eAAeC,SAASA,CAACC,KAAK,GAAG,GAAG,EAAE;EAC3C;EACA;EACA,MAAM;IAAEC;EAAK,CAAC,GAAG,MAAMH,IAAI,CAACI,GAAG,CAAY,QAAQ,CAAC;EACpD,OAAOD,IAAI;AACb;AAEA,OAAO,eAAeE,UAAUA,CAACC,OAAmB,EAAE;EAAA,IAAAC,eAAA;EACpD,MAAM;IAAEJ;EAAK,CAAC,GAAG,MAAMH,IAAI,CAACQ,IAAI,CAAU,QAAQ,EAAE;IAClD,GAAGF,OAAO;IACVG,MAAM,GAAAF,eAAA,GAAED,OAAO,CAACG,MAAM,cAAAF,eAAA,cAAAA,eAAA,GAAI;EAC5B,CAAC,CAAC;EACF,OAAOJ,IAAI;AACb;AAEA,OAAO,eAAeO,UAAUA,CAACC,MAAc,EAAEL,OAAmB,EAAE;EACpE,MAAM;IAAEH;EAAK,CAAC,GAAG,MAAMH,IAAI,CAACY,KAAK,CAAU,UAAUD,MAAM,EAAE,EAAEL,OAAO,CAAC;EACvE,OAAOH,IAAI;AACb;;AAEA;AACA,OAAO,eAAeU,WAAWA,CAACF,MAAc,EAAEG,IAA0B,EAAE;EAC5E,MAAM;IAAEX;EAAK,CAAC,GAAG,MAAMH,IAAI,CAACY,KAAK,CAAU,UAAUD,MAAM,OAAO,EAAE,IAAI,EAAE;IACxEI,MAAM,EAAE;MAAED;IAAK;EACjB,CAAC,CAAC;EACF,OAAOX,IAAI;AACb;;AAEA;AACA,OAAO,eAAea,aAAaA,CAACL,MAAc,EAAEF,MAAa,EAAE;EACjE,MAAM;IAAEN;EAAK,CAAC,GAAG,MAAMH,IAAI,CAACY,KAAK,CAAU,UAAUD,MAAM,SAAS,EAAE;IACpEF;EACF,CAAC,CAAC;EACF,OAAON,IAAI;AACb;AAEA,OAAO,eAAec,UAAUA,CAACN,MAAc,EAAE;EAC/C,MAAM;IAAER;EAAK,CAAC,GAAG,MAAMH,IAAI,CAACkB,MAAM,CAAC,UAAUP,MAAM,EAAE,CAAC;EACtD,OAAOR,IAAI;AACb","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
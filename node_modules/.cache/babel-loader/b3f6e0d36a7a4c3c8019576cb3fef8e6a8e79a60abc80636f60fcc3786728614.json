{"ast":null,"code":"var _jsxFileName = \"D:\\\\PROYECTO DE TESIS A\\xD1O 2026\\\\sistema-armas\\\\frontend\\\\src\\\\layouts\\\\Topbar.tsx\",\n  _s = $RefreshSig$();\nimport { Search, Bell, User, ChevronDown, AlertTriangle, LogOut } from \"lucide-react\";\nimport { Avatar, AvatarFallback, AvatarImage } from \"../shared/ui/avatar\";\nimport { SidebarTrigger } from \"../shared/ui/sidebar\";\nimport { DropdownMenu, DropdownMenuContent, DropdownMenuItem, DropdownMenuLabel, DropdownMenuSeparator, DropdownMenuTrigger } from \"../shared/ui/dropdown-menu\";\nimport { useAlerts } from \"../app/providers/alerts-context\";\nimport { useAuth } from \"../context/auth-context\";\nimport { toast } from \"sonner\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction timeAgo(iso) {\n  if (!iso) return \"—\";\n  const t = new Date(iso).getTime();\n  const diff = Date.now() - t;\n  const s = Math.max(0, Math.floor(diff / 1000));\n  if (s < 60) return `Hace ${s}s`;\n  const m = Math.floor(s / 60);\n  if (m < 60) return `Hace ${m}m`;\n  const h = Math.floor(m / 60);\n  if (h < 24) return `Hace ${h}h`;\n  const d = Math.floor(h / 24);\n  return `Hace ${d}d`;\n}\nfunction initials(name) {\n  var _parts$0$, _parts$, _parts$2, _parts;\n  const n = (name || \"\").trim();\n  if (!n) return \"U\";\n  const parts = n.split(/\\s+/).filter(Boolean);\n  const first = (_parts$0$ = (_parts$ = parts[0]) === null || _parts$ === void 0 ? void 0 : _parts$[0]) !== null && _parts$0$ !== void 0 ? _parts$0$ : \"U\";\n  const last = parts.length > 1 ? (_parts$2 = (_parts = parts[parts.length - 1]) === null || _parts === void 0 ? void 0 : _parts[0]) !== null && _parts$2 !== void 0 ? _parts$2 : \"\" : \"\";\n  return (first + last).toUpperCase();\n}\nexport function Topbar() {\n  _s();\n  const {\n    alerts,\n    unreadCount,\n    markAsRead,\n    refresh\n  } = useAlerts();\n  const {\n    user,\n    logout\n  } = useAuth();\n  const recent = alerts.slice(0, 6);\n  const displayName = (user === null || user === void 0 ? void 0 : user.name) || (user === null || user === void 0 ? void 0 : user.full_name) || (user === null || user === void 0 ? void 0 : user.username) || \"Usuario\";\n  const email = (user === null || user === void 0 ? void 0 : user.email) || (user === null || user === void 0 ? void 0 : user.mail) || \"\";\n  const role = (user === null || user === void 0 ? void 0 : user.role) || (user === null || user === void 0 ? void 0 : user.type) || \"Usuario\";\n  const avatarUrl = (user === null || user === void 0 ? void 0 : user.avatar_url) || (user === null || user === void 0 ? void 0 : user.avatar) || \"\";\n  const handleLogout = async () => {\n    try {\n      await logout();\n      toast.success(\"Sesión cerrada\");\n    } catch (e) {\n      var _e$message;\n      console.error(e);\n      toast.error(\"No se pudo cerrar sesión\", {\n        description: String((_e$message = e === null || e === void 0 ? void 0 : e.message) !== null && _e$message !== void 0 ? _e$message : e)\n      });\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"style\", {\n      children: `\n        @import url('https://fonts.googleapis.com/css2?family=Share+Tech+Mono&family=Rajdhani:wght@400;500;600;700&display=swap');\n\n        .topbar-root {\n          position: sticky;\n          top: 0;\n          z-index: 50;\n          background: rgba(3, 12, 26, 0.97);\n          border-bottom: 1px solid rgba(0, 100, 220, 0.2);\n          backdrop-filter: blur(12px);\n          box-shadow: 0 1px 0 rgba(0,100,255,0.1), 0 4px 20px rgba(0,0,0,0.4);\n          font-family: 'Rajdhani', sans-serif;\n        }\n\n        /* Scanning top line */\n        .topbar-root::before {\n          content: '';\n          position: absolute;\n          top: 0; left: 0; right: 0;\n          height: 1px;\n          background: linear-gradient(90deg, transparent, rgba(0,140,255,0.6), transparent);\n        }\n\n        .topbar-inner {\n          max-width: 1600px;\n          margin: 0 auto;\n          width: 100%;\n          padding: 10px 28px;\n          display: flex;\n          align-items: center;\n          justify-content: space-between;\n          gap: 20px;\n        }\n\n        /* ---- SEARCH ---- */\n        .topbar-search-wrap {\n          flex: 1;\n          display: flex;\n          align-items: center;\n          gap: 12px;\n        }\n\n        .topbar-search-inner {\n          position: relative;\n          flex: 1;\n          max-width: 520px;\n        }\n\n        .topbar-search-icon {\n          position: absolute;\n          left: 12px;\n          top: 50%;\n          transform: translateY(-50%);\n          color: rgba(0,120,255,0.5);\n          width: 15px; height: 15px;\n          pointer-events: none;\n        }\n\n        .topbar-input {\n          width: 100%;\n          background: rgba(0,30,70,0.5) !important;\n          border: 1px solid rgba(0,80,180,0.25) !important;\n          color: #a0c0e8 !important;\n          font-family: 'Share Tech Mono', monospace !important;\n          font-size: 12px !important;\n          padding: 9px 14px 9px 36px !important;\n          height: 38px !important;\n          border-radius: 0 !important;\n          outline: none !important;\n          box-shadow: none !important;\n          transition: all 0.2s !important;\n          clip-path: polygon(0 0, calc(100% - 8px) 0, 100% 8px, 100% 100%, 8px 100%, 0 calc(100% - 8px));\n        }\n\n        .topbar-input::placeholder {\n          color: rgba(60,100,160,0.5) !important;\n        }\n\n        .topbar-input:focus {\n          border-color: rgba(0,120,255,0.5) !important;\n          background: rgba(0,40,90,0.6) !important;\n          box-shadow: 0 0 0 3px rgba(0,80,255,0.08) !important;\n          color: #c8deff !important;\n        }\n\n        /* ---- RIGHT ACTIONS ---- */\n        .topbar-actions {\n          display: flex;\n          align-items: center;\n          gap: 8px;\n        }\n\n        /* Bell button */\n        .topbar-icon-btn {\n          position: relative;\n          width: 38px; height: 38px;\n          background: rgba(0,30,70,0.5);\n          border: 1px solid rgba(0,80,180,0.2);\n          display: flex; align-items: center; justify-content: center;\n          cursor: pointer;\n          transition: all 0.2s;\n          clip-path: polygon(0 0, calc(100% - 7px) 0, 100% 7px, 100% 100%, 7px 100%, 0 calc(100% - 7px));\n          color: rgba(100,160,255,0.7);\n        }\n\n        .topbar-icon-btn:hover {\n          background: rgba(0,60,140,0.5);\n          border-color: rgba(0,120,255,0.4);\n          color: #4da6ff;\n          box-shadow: 0 0 12px rgba(0,80,255,0.15);\n        }\n\n        .topbar-icon-btn svg {\n          width: 17px; height: 17px;\n        }\n\n        .topbar-badge {\n          position: absolute;\n          top: -4px; right: -4px;\n          height: 18px;\n          min-width: 18px;\n          padding: 0 4px;\n          display: flex; align-items: center; justify-content: center;\n          font-family: 'Share Tech Mono', monospace !important;\n          font-size: 9px !important;\n          font-weight: 700 !important;\n          background: rgba(255,40,70,0.9) !important;\n          color: #fff !important;\n          border: 1px solid rgba(255,80,100,0.5) !important;\n          border-radius: 0 !important;\n          letter-spacing: 0.5px;\n          clip-path: polygon(0 0, calc(100% - 4px) 0, 100% 4px, 100% 100%, 4px 100%, 0 calc(100% - 4px));\n        }\n\n        /* Divider */\n        .topbar-sep {\n          width: 1px;\n          height: 24px;\n          background: rgba(0,80,160,0.3);\n        }\n\n        /* User button */\n        .topbar-user-btn {\n          display: flex;\n          align-items: center;\n          gap: 10px;\n          padding: 5px 10px;\n          background: rgba(0,30,70,0.5);\n          border: 1px solid rgba(0,80,180,0.2);\n          cursor: pointer;\n          transition: all 0.2s;\n          clip-path: polygon(0 0, calc(100% - 8px) 0, 100% 8px, 100% 100%, 8px 100%, 0 calc(100% - 8px));\n          height: 38px;\n        }\n\n        .topbar-user-btn:hover {\n          background: rgba(0,50,120,0.5);\n          border-color: rgba(0,120,255,0.35);\n          box-shadow: 0 0 12px rgba(0,80,255,0.1);\n        }\n\n        .topbar-user-text {\n          text-align: right;\n        }\n\n        .topbar-user-name {\n          font-size: 13px;\n          font-weight: 700;\n          color: #c0d8f8;\n          letter-spacing: 0.3px;\n          line-height: 1;\n          margin-bottom: 2px;\n        }\n\n        .topbar-user-role {\n          font-family: 'Share Tech Mono', monospace;\n          font-size: 9px;\n          color: rgba(0,120,255,0.6);\n          letter-spacing: 1px;\n        }\n\n        .topbar-avatar {\n          width: 28px; height: 28px;\n          border: 1px solid rgba(0,120,255,0.3) !important;\n          border-radius: 0 !important;\n          clip-path: polygon(0 0, calc(100% - 5px) 0, 100% 5px, 100% 100%, 5px 100%, 0 calc(100% - 5px));\n          flex-shrink: 0;\n          overflow: hidden;\n        }\n\n        .topbar-chevron {\n          color: rgba(0,100,200,0.5);\n          width: 14px; height: 14px;\n          flex-shrink: 0;\n        }\n\n        /* ---- DROPDOWNS ---- */\n        .topbar-dropdown {\n          background: #030c1a !important;\n          border: 1px solid rgba(0,100,200,0.25) !important;\n          border-radius: 0 !important;\n          box-shadow: 0 8px 32px rgba(0,0,0,0.6), 0 0 0 1px rgba(0,80,200,0.1) !important;\n          clip-path: polygon(0 0, calc(100% - 10px) 0, 100% 10px, 100% 100%, 10px 100%, 0 calc(100% - 10px));\n        }\n\n        .topbar-dropdown-label {\n          font-family: 'Rajdhani', sans-serif !important;\n          font-size: 13px !important;\n          font-weight: 700 !important;\n          color: #c0d8ff !important;\n          letter-spacing: 1px;\n          padding: 10px 14px 6px !important;\n        }\n\n        .topbar-dropdown-sep {\n          background: rgba(0,80,180,0.2) !important;\n          margin: 0 !important;\n        }\n\n        .topbar-notif-item {\n          padding: 10px 14px !important;\n          cursor: pointer;\n          border-bottom: 1px solid rgba(0,60,140,0.15) !important;\n          transition: background 0.15s !important;\n          border-radius: 0 !important;\n        }\n\n        .topbar-notif-item:hover {\n          background: rgba(0,60,140,0.2) !important;\n        }\n\n        .topbar-notif-title {\n          display: flex;\n          align-items: center;\n          gap: 6px;\n          margin-bottom: 3px;\n        }\n\n        .topbar-notif-name {\n          font-size: 12px;\n          font-weight: 700;\n          color: #a8c8f0;\n          flex: 1;\n          overflow: hidden;\n          text-overflow: ellipsis;\n          white-space: nowrap;\n        }\n\n        .topbar-notif-new {\n          font-family: 'Share Tech Mono', monospace;\n          font-size: 9px;\n          font-weight: 700;\n          color: #ff6680;\n          letter-spacing: 1px;\n          flex-shrink: 0;\n        }\n\n        .topbar-notif-sub {\n          font-family: 'Share Tech Mono', monospace;\n          font-size: 10px;\n          color: rgba(80,130,200,0.6);\n          margin-left: 14px;\n          overflow: hidden;\n          display: -webkit-box;\n          -webkit-line-clamp: 2;\n          -webkit-box-orient: vertical;\n        }\n\n        .topbar-notif-time {\n          font-family: 'Share Tech Mono', monospace;\n          font-size: 9px;\n          color: rgba(60,100,160,0.5);\n          margin-left: 14px;\n          margin-top: 4px;\n        }\n\n        .topbar-notif-empty {\n          padding: 16px 14px;\n          font-family: 'Share Tech Mono', monospace;\n          font-size: 11px;\n          color: rgba(60,100,160,0.6);\n          letter-spacing: 0.5px;\n        }\n\n        .topbar-notif-footer {\n          display: flex;\n          align-items: center;\n          gap: 6px;\n          padding: 8px 14px;\n          font-family: 'Share Tech Mono', monospace;\n          font-size: 9px;\n          color: rgba(0,80,160,0.5);\n          letter-spacing: 0.5px;\n        }\n\n        .topbar-notif-footer svg {\n          width: 12px; height: 12px;\n          color: rgba(0,100,200,0.4);\n          flex-shrink: 0;\n        }\n\n        .topbar-refresh-btn {\n          font-family: 'Share Tech Mono', monospace !important;\n          font-size: 10px !important;\n          color: rgba(0,120,255,0.6) !important;\n          background: transparent !important;\n          border: none !important;\n          padding: 4px 10px !important;\n          cursor: pointer;\n          letter-spacing: 1px;\n          transition: color 0.2s !important;\n          height: auto !important;\n        }\n\n        .topbar-refresh-btn:hover {\n          color: #4da6ff !important;\n          background: rgba(0,80,200,0.1) !important;\n        }\n\n        .topbar-menu-item {\n          font-family: 'Rajdhani', sans-serif !important;\n          font-size: 13px !important;\n          font-weight: 600 !important;\n          color: rgba(140,190,255,0.7) !important;\n          padding: 8px 14px !important;\n          cursor: pointer;\n          letter-spacing: 0.5px;\n          border-radius: 0 !important;\n          transition: all 0.15s !important;\n        }\n\n        .topbar-menu-item:hover {\n          background: rgba(0,60,140,0.3) !important;\n          color: #c0d8ff !important;\n        }\n\n        .topbar-menu-item-danger {\n          color: rgba(255,80,100,0.7) !important;\n        }\n\n        .topbar-menu-item-danger:hover {\n          background: rgba(255,40,60,0.1) !important;\n          color: #ff6680 !important;\n        }\n\n        /* dot severity colors */\n        .dot-critical { background: #ff4060; box-shadow: 0 0 6px #ff4060; }\n        .dot-high     { background: #ff8040; box-shadow: 0 0 6px #ff8040; }\n        .dot-medium   { background: #ffb020; box-shadow: 0 0 6px #ffb020; }\n        .dot-default  { background: rgba(80,120,180,0.6); }\n      `\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"topbar-root\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"topbar-inner\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"topbar-search-wrap\",\n          children: [/*#__PURE__*/_jsxDEV(SidebarTrigger, {\n            className: \"lg:hidden\",\n            style: {\n              color: \"rgba(0,120,255,0.6)\",\n              background: \"transparent\",\n              border: \"none\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 439,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"topbar-search-inner\",\n            children: [/*#__PURE__*/_jsxDEV(Search, {\n              className: \"topbar-search-icon\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 445,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              className: \"topbar-input\",\n              placeholder: \"Buscar c\\xE1maras, incidentes, evidencias...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 446,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 444,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 438,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"topbar-actions\",\n          children: [/*#__PURE__*/_jsxDEV(DropdownMenu, {\n            children: [/*#__PURE__*/_jsxDEV(DropdownMenuTrigger, {\n              asChild: true,\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"topbar-icon-btn\",\n                onClick: () => refresh().catch(console.error),\n                children: [/*#__PURE__*/_jsxDEV(Bell, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 463,\n                  columnNumber: 19\n                }, this), unreadCount > 0 && /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"topbar-badge\",\n                  children: unreadCount > 99 ? \"99+\" : unreadCount\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 465,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 459,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 458,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(DropdownMenuContent, {\n              align: \"end\",\n              className: \"topbar-dropdown w-80 p-0\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  display: \"flex\",\n                  alignItems: \"center\",\n                  justifyContent: \"space-between\"\n                },\n                children: [/*#__PURE__*/_jsxDEV(DropdownMenuLabel, {\n                  className: \"topbar-dropdown-label\",\n                  children: \"NOTIFICACIONES\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 474,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"topbar-refresh-btn\",\n                  onClick: () => refresh().catch(console.error),\n                  children: \"REFRESCAR\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 477,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 473,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(DropdownMenuSeparator, {\n                className: \"topbar-dropdown-sep\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 485,\n                columnNumber: 17\n              }, this), recent.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"topbar-notif-empty\",\n                children: \"Sin notificaciones.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 488,\n                columnNumber: 19\n              }, this) : recent.map(a => {\n                const isUnread = !a.read;\n                const dotClass = a.severity === \"critical\" ? \"dot-critical\" : a.severity === \"high\" ? \"dot-high\" : a.severity === \"medium\" ? \"dot-medium\" : \"dot-default\";\n                const subtitle = a.weapon_type && a.camera_id ? `${a.weapon_type} detectada en ${a.camera_id}` : a.weapon_type ? `${a.weapon_type} detectada` : a.message;\n                return /*#__PURE__*/_jsxDEV(DropdownMenuItem, {\n                  className: \"topbar-notif-item\",\n                  onClick: () => {\n                    if (isUnread) markAsRead(a._id).catch(console.error);\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"topbar-notif-title\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      style: {\n                        width: 7,\n                        height: 7,\n                        borderRadius: \"50%\",\n                        flexShrink: 0\n                      },\n                      className: dotClass\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 516,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"topbar-notif-name\",\n                      children: a.title || \"Alerta\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 520,\n                      columnNumber: 27\n                    }, this), isUnread && /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"topbar-notif-new\",\n                      children: \"NUEVA\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 521,\n                      columnNumber: 40\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 515,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"topbar-notif-sub\",\n                    children: subtitle\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 523,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"topbar-notif-time\",\n                    children: timeAgo(a.timestamp)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 524,\n                    columnNumber: 25\n                  }, this)]\n                }, a._id, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 508,\n                  columnNumber: 23\n                }, this);\n              }), /*#__PURE__*/_jsxDEV(DropdownMenuSeparator, {\n                className: \"topbar-dropdown-sep\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 530,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"topbar-notif-footer\",\n                children: [/*#__PURE__*/_jsxDEV(AlertTriangle, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 533,\n                  columnNumber: 19\n                }, this), \"ALERTAS EN TIEMPO REAL\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 532,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 472,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 457,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"topbar-sep\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 539,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(DropdownMenu, {\n            children: [/*#__PURE__*/_jsxDEV(DropdownMenuTrigger, {\n              asChild: true,\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"topbar-user-btn\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"topbar-user-text\",\n                  style: {\n                    display: \"none\"\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"topbar-user-name\",\n                    children: displayName\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 546,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"topbar-user-role\",\n                    children: role.toUpperCase()\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 547,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 545,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"topbar-user-text\",\n                  style: {\n                    textAlign: \"right\"\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"topbar-user-name\",\n                    children: displayName\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 550,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"topbar-user-role\",\n                    children: role.toUpperCase()\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 551,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 549,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Avatar, {\n                  className: \"topbar-avatar\",\n                  style: {\n                    width: 28,\n                    height: 28\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(AvatarImage, {\n                    src: avatarUrl\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 555,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(AvatarFallback, {\n                    style: {\n                      background: \"linear-gradient(135deg, #003399, #0055ff)\",\n                      color: \"#fff\",\n                      fontFamily: \"'Rajdhani', sans-serif\",\n                      fontWeight: 700,\n                      fontSize: 11,\n                      letterSpacing: 1\n                    },\n                    children: initials(displayName)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 556,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 554,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(ChevronDown, {\n                  className: \"topbar-chevron\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 570,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 544,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 543,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(DropdownMenuContent, {\n              align: \"end\",\n              className: \"topbar-dropdown w-56 p-0\",\n              children: [/*#__PURE__*/_jsxDEV(DropdownMenuLabel, {\n                className: \"topbar-dropdown-label\",\n                style: {\n                  paddingBottom: 10\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  style: {\n                    fontSize: 13,\n                    fontWeight: 700,\n                    color: \"#c0d8ff\",\n                    marginBottom: 2\n                  },\n                  children: displayName\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 576,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  style: {\n                    fontFamily: \"'Share Tech Mono', monospace\",\n                    fontSize: 10,\n                    color: \"rgba(0,100,200,0.5)\",\n                    letterSpacing: 0.5\n                  },\n                  children: email || \"—\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 579,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 575,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(DropdownMenuSeparator, {\n                className: \"topbar-dropdown-sep\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 584,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(DropdownMenuItem, {\n                className: \"topbar-menu-item\",\n                children: [/*#__PURE__*/_jsxDEV(User, {\n                  style: {\n                    width: 14,\n                    height: 14,\n                    marginRight: 8,\n                    color: \"rgba(0,120,255,0.5)\"\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 587,\n                  columnNumber: 19\n                }, this), \"Mi Perfil\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 586,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(DropdownMenuSeparator, {\n                className: \"topbar-dropdown-sep\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 591,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(DropdownMenuItem, {\n                className: \"topbar-menu-item topbar-menu-item-danger\",\n                onClick: handleLogout,\n                children: [/*#__PURE__*/_jsxDEV(LogOut, {\n                  style: {\n                    width: 14,\n                    height: 14,\n                    marginRight: 8\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 597,\n                  columnNumber: 19\n                }, this), \"Cerrar sesi\\xF3n\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 593,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 574,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 542,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 454,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 435,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 434,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n_s(Topbar, \"m7UdCLPtfPTs3KN9/5kg9Wuaj1w=\", false, function () {\n  return [useAlerts, useAuth];\n});\n_c = Topbar;\nvar _c;\n$RefreshReg$(_c, \"Topbar\");","map":{"version":3,"names":["Search","Bell","User","ChevronDown","AlertTriangle","LogOut","Avatar","AvatarFallback","AvatarImage","SidebarTrigger","DropdownMenu","DropdownMenuContent","DropdownMenuItem","DropdownMenuLabel","DropdownMenuSeparator","DropdownMenuTrigger","useAlerts","useAuth","toast","jsxDEV","_jsxDEV","Fragment","_Fragment","timeAgo","iso","t","Date","getTime","diff","now","s","Math","max","floor","m","h","d","initials","name","_parts$0$","_parts$","_parts$2","_parts","n","trim","parts","split","filter","Boolean","first","last","length","toUpperCase","Topbar","_s","alerts","unreadCount","markAsRead","refresh","user","logout","recent","slice","displayName","full_name","username","email","mail","role","type","avatarUrl","avatar_url","avatar","handleLogout","success","e","_e$message","console","error","description","String","message","children","fileName","_jsxFileName","lineNumber","columnNumber","className","style","color","background","border","placeholder","asChild","onClick","catch","align","display","alignItems","justifyContent","map","a","isUnread","read","dotClass","severity","subtitle","weapon_type","camera_id","_id","width","height","borderRadius","flexShrink","title","timestamp","textAlign","src","fontFamily","fontWeight","fontSize","letterSpacing","paddingBottom","marginBottom","marginRight","_c","$RefreshReg$"],"sources":["D:/PROYECTO DE TESIS AÑO 2026/sistema-armas/frontend/src/layouts/Topbar.tsx"],"sourcesContent":["import { Search, Bell, User, ChevronDown, AlertTriangle, LogOut } from \"lucide-react\";\r\nimport { Input } from \"../shared/ui/input\";\r\nimport { Avatar, AvatarFallback, AvatarImage } from \"../shared/ui/avatar\";\r\nimport { Button } from \"../shared/ui/button\";\r\nimport { Badge } from \"../shared/ui/badge\";\r\nimport { SidebarTrigger } from \"../shared/ui/sidebar\";\r\nimport {\r\n  DropdownMenu,\r\n  DropdownMenuContent,\r\n  DropdownMenuItem,\r\n  DropdownMenuLabel,\r\n  DropdownMenuSeparator,\r\n  DropdownMenuTrigger,\r\n} from \"../shared/ui/dropdown-menu\";\r\n\r\nimport { useAlerts } from \"../app/providers/alerts-context\";\r\nimport { useAuth } from \"../context/auth-context\";\r\nimport { toast } from \"sonner\";\r\n\r\nfunction timeAgo(iso?: string | null) {\r\n  if (!iso) return \"—\";\r\n  const t = new Date(iso).getTime();\r\n  const diff = Date.now() - t;\r\n  const s = Math.max(0, Math.floor(diff / 1000));\r\n  if (s < 60) return `Hace ${s}s`;\r\n  const m = Math.floor(s / 60);\r\n  if (m < 60) return `Hace ${m}m`;\r\n  const h = Math.floor(m / 60);\r\n  if (h < 24) return `Hace ${h}h`;\r\n  const d = Math.floor(h / 24);\r\n  return `Hace ${d}d`;\r\n}\r\n\r\nfunction initials(name?: string) {\r\n  const n = (name || \"\").trim();\r\n  if (!n) return \"U\";\r\n  const parts = n.split(/\\s+/).filter(Boolean);\r\n  const first = parts[0]?.[0] ?? \"U\";\r\n  const last = parts.length > 1 ? parts[parts.length - 1]?.[0] ?? \"\" : \"\";\r\n  return (first + last).toUpperCase();\r\n}\r\n\r\nexport function Topbar() {\r\n  const { alerts, unreadCount, markAsRead, refresh } = useAlerts();\r\n  const { user, logout } = useAuth();\r\n\r\n  const recent = alerts.slice(0, 6);\r\n\r\n  const displayName =\r\n    (user as any)?.name ||\r\n    (user as any)?.full_name ||\r\n    (user as any)?.username ||\r\n    \"Usuario\";\r\n\r\n  const email =\r\n    (user as any)?.email ||\r\n    (user as any)?.mail ||\r\n    \"\";\r\n\r\n  const role =\r\n    (user as any)?.role ||\r\n    (user as any)?.type ||\r\n    \"Usuario\";\r\n\r\n  const avatarUrl =\r\n    (user as any)?.avatar_url ||\r\n    (user as any)?.avatar ||\r\n    \"\";\r\n\r\n  const handleLogout = async () => {\r\n    try {\r\n      await logout();\r\n      toast.success(\"Sesión cerrada\");\r\n    } catch (e: any) {\r\n      console.error(e);\r\n      toast.error(\"No se pudo cerrar sesión\", { description: String(e?.message ?? e) });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <style>{`\r\n        @import url('https://fonts.googleapis.com/css2?family=Share+Tech+Mono&family=Rajdhani:wght@400;500;600;700&display=swap');\r\n\r\n        .topbar-root {\r\n          position: sticky;\r\n          top: 0;\r\n          z-index: 50;\r\n          background: rgba(3, 12, 26, 0.97);\r\n          border-bottom: 1px solid rgba(0, 100, 220, 0.2);\r\n          backdrop-filter: blur(12px);\r\n          box-shadow: 0 1px 0 rgba(0,100,255,0.1), 0 4px 20px rgba(0,0,0,0.4);\r\n          font-family: 'Rajdhani', sans-serif;\r\n        }\r\n\r\n        /* Scanning top line */\r\n        .topbar-root::before {\r\n          content: '';\r\n          position: absolute;\r\n          top: 0; left: 0; right: 0;\r\n          height: 1px;\r\n          background: linear-gradient(90deg, transparent, rgba(0,140,255,0.6), transparent);\r\n        }\r\n\r\n        .topbar-inner {\r\n          max-width: 1600px;\r\n          margin: 0 auto;\r\n          width: 100%;\r\n          padding: 10px 28px;\r\n          display: flex;\r\n          align-items: center;\r\n          justify-content: space-between;\r\n          gap: 20px;\r\n        }\r\n\r\n        /* ---- SEARCH ---- */\r\n        .topbar-search-wrap {\r\n          flex: 1;\r\n          display: flex;\r\n          align-items: center;\r\n          gap: 12px;\r\n        }\r\n\r\n        .topbar-search-inner {\r\n          position: relative;\r\n          flex: 1;\r\n          max-width: 520px;\r\n        }\r\n\r\n        .topbar-search-icon {\r\n          position: absolute;\r\n          left: 12px;\r\n          top: 50%;\r\n          transform: translateY(-50%);\r\n          color: rgba(0,120,255,0.5);\r\n          width: 15px; height: 15px;\r\n          pointer-events: none;\r\n        }\r\n\r\n        .topbar-input {\r\n          width: 100%;\r\n          background: rgba(0,30,70,0.5) !important;\r\n          border: 1px solid rgba(0,80,180,0.25) !important;\r\n          color: #a0c0e8 !important;\r\n          font-family: 'Share Tech Mono', monospace !important;\r\n          font-size: 12px !important;\r\n          padding: 9px 14px 9px 36px !important;\r\n          height: 38px !important;\r\n          border-radius: 0 !important;\r\n          outline: none !important;\r\n          box-shadow: none !important;\r\n          transition: all 0.2s !important;\r\n          clip-path: polygon(0 0, calc(100% - 8px) 0, 100% 8px, 100% 100%, 8px 100%, 0 calc(100% - 8px));\r\n        }\r\n\r\n        .topbar-input::placeholder {\r\n          color: rgba(60,100,160,0.5) !important;\r\n        }\r\n\r\n        .topbar-input:focus {\r\n          border-color: rgba(0,120,255,0.5) !important;\r\n          background: rgba(0,40,90,0.6) !important;\r\n          box-shadow: 0 0 0 3px rgba(0,80,255,0.08) !important;\r\n          color: #c8deff !important;\r\n        }\r\n\r\n        /* ---- RIGHT ACTIONS ---- */\r\n        .topbar-actions {\r\n          display: flex;\r\n          align-items: center;\r\n          gap: 8px;\r\n        }\r\n\r\n        /* Bell button */\r\n        .topbar-icon-btn {\r\n          position: relative;\r\n          width: 38px; height: 38px;\r\n          background: rgba(0,30,70,0.5);\r\n          border: 1px solid rgba(0,80,180,0.2);\r\n          display: flex; align-items: center; justify-content: center;\r\n          cursor: pointer;\r\n          transition: all 0.2s;\r\n          clip-path: polygon(0 0, calc(100% - 7px) 0, 100% 7px, 100% 100%, 7px 100%, 0 calc(100% - 7px));\r\n          color: rgba(100,160,255,0.7);\r\n        }\r\n\r\n        .topbar-icon-btn:hover {\r\n          background: rgba(0,60,140,0.5);\r\n          border-color: rgba(0,120,255,0.4);\r\n          color: #4da6ff;\r\n          box-shadow: 0 0 12px rgba(0,80,255,0.15);\r\n        }\r\n\r\n        .topbar-icon-btn svg {\r\n          width: 17px; height: 17px;\r\n        }\r\n\r\n        .topbar-badge {\r\n          position: absolute;\r\n          top: -4px; right: -4px;\r\n          height: 18px;\r\n          min-width: 18px;\r\n          padding: 0 4px;\r\n          display: flex; align-items: center; justify-content: center;\r\n          font-family: 'Share Tech Mono', monospace !important;\r\n          font-size: 9px !important;\r\n          font-weight: 700 !important;\r\n          background: rgba(255,40,70,0.9) !important;\r\n          color: #fff !important;\r\n          border: 1px solid rgba(255,80,100,0.5) !important;\r\n          border-radius: 0 !important;\r\n          letter-spacing: 0.5px;\r\n          clip-path: polygon(0 0, calc(100% - 4px) 0, 100% 4px, 100% 100%, 4px 100%, 0 calc(100% - 4px));\r\n        }\r\n\r\n        /* Divider */\r\n        .topbar-sep {\r\n          width: 1px;\r\n          height: 24px;\r\n          background: rgba(0,80,160,0.3);\r\n        }\r\n\r\n        /* User button */\r\n        .topbar-user-btn {\r\n          display: flex;\r\n          align-items: center;\r\n          gap: 10px;\r\n          padding: 5px 10px;\r\n          background: rgba(0,30,70,0.5);\r\n          border: 1px solid rgba(0,80,180,0.2);\r\n          cursor: pointer;\r\n          transition: all 0.2s;\r\n          clip-path: polygon(0 0, calc(100% - 8px) 0, 100% 8px, 100% 100%, 8px 100%, 0 calc(100% - 8px));\r\n          height: 38px;\r\n        }\r\n\r\n        .topbar-user-btn:hover {\r\n          background: rgba(0,50,120,0.5);\r\n          border-color: rgba(0,120,255,0.35);\r\n          box-shadow: 0 0 12px rgba(0,80,255,0.1);\r\n        }\r\n\r\n        .topbar-user-text {\r\n          text-align: right;\r\n        }\r\n\r\n        .topbar-user-name {\r\n          font-size: 13px;\r\n          font-weight: 700;\r\n          color: #c0d8f8;\r\n          letter-spacing: 0.3px;\r\n          line-height: 1;\r\n          margin-bottom: 2px;\r\n        }\r\n\r\n        .topbar-user-role {\r\n          font-family: 'Share Tech Mono', monospace;\r\n          font-size: 9px;\r\n          color: rgba(0,120,255,0.6);\r\n          letter-spacing: 1px;\r\n        }\r\n\r\n        .topbar-avatar {\r\n          width: 28px; height: 28px;\r\n          border: 1px solid rgba(0,120,255,0.3) !important;\r\n          border-radius: 0 !important;\r\n          clip-path: polygon(0 0, calc(100% - 5px) 0, 100% 5px, 100% 100%, 5px 100%, 0 calc(100% - 5px));\r\n          flex-shrink: 0;\r\n          overflow: hidden;\r\n        }\r\n\r\n        .topbar-chevron {\r\n          color: rgba(0,100,200,0.5);\r\n          width: 14px; height: 14px;\r\n          flex-shrink: 0;\r\n        }\r\n\r\n        /* ---- DROPDOWNS ---- */\r\n        .topbar-dropdown {\r\n          background: #030c1a !important;\r\n          border: 1px solid rgba(0,100,200,0.25) !important;\r\n          border-radius: 0 !important;\r\n          box-shadow: 0 8px 32px rgba(0,0,0,0.6), 0 0 0 1px rgba(0,80,200,0.1) !important;\r\n          clip-path: polygon(0 0, calc(100% - 10px) 0, 100% 10px, 100% 100%, 10px 100%, 0 calc(100% - 10px));\r\n        }\r\n\r\n        .topbar-dropdown-label {\r\n          font-family: 'Rajdhani', sans-serif !important;\r\n          font-size: 13px !important;\r\n          font-weight: 700 !important;\r\n          color: #c0d8ff !important;\r\n          letter-spacing: 1px;\r\n          padding: 10px 14px 6px !important;\r\n        }\r\n\r\n        .topbar-dropdown-sep {\r\n          background: rgba(0,80,180,0.2) !important;\r\n          margin: 0 !important;\r\n        }\r\n\r\n        .topbar-notif-item {\r\n          padding: 10px 14px !important;\r\n          cursor: pointer;\r\n          border-bottom: 1px solid rgba(0,60,140,0.15) !important;\r\n          transition: background 0.15s !important;\r\n          border-radius: 0 !important;\r\n        }\r\n\r\n        .topbar-notif-item:hover {\r\n          background: rgba(0,60,140,0.2) !important;\r\n        }\r\n\r\n        .topbar-notif-title {\r\n          display: flex;\r\n          align-items: center;\r\n          gap: 6px;\r\n          margin-bottom: 3px;\r\n        }\r\n\r\n        .topbar-notif-name {\r\n          font-size: 12px;\r\n          font-weight: 700;\r\n          color: #a8c8f0;\r\n          flex: 1;\r\n          overflow: hidden;\r\n          text-overflow: ellipsis;\r\n          white-space: nowrap;\r\n        }\r\n\r\n        .topbar-notif-new {\r\n          font-family: 'Share Tech Mono', monospace;\r\n          font-size: 9px;\r\n          font-weight: 700;\r\n          color: #ff6680;\r\n          letter-spacing: 1px;\r\n          flex-shrink: 0;\r\n        }\r\n\r\n        .topbar-notif-sub {\r\n          font-family: 'Share Tech Mono', monospace;\r\n          font-size: 10px;\r\n          color: rgba(80,130,200,0.6);\r\n          margin-left: 14px;\r\n          overflow: hidden;\r\n          display: -webkit-box;\r\n          -webkit-line-clamp: 2;\r\n          -webkit-box-orient: vertical;\r\n        }\r\n\r\n        .topbar-notif-time {\r\n          font-family: 'Share Tech Mono', monospace;\r\n          font-size: 9px;\r\n          color: rgba(60,100,160,0.5);\r\n          margin-left: 14px;\r\n          margin-top: 4px;\r\n        }\r\n\r\n        .topbar-notif-empty {\r\n          padding: 16px 14px;\r\n          font-family: 'Share Tech Mono', monospace;\r\n          font-size: 11px;\r\n          color: rgba(60,100,160,0.6);\r\n          letter-spacing: 0.5px;\r\n        }\r\n\r\n        .topbar-notif-footer {\r\n          display: flex;\r\n          align-items: center;\r\n          gap: 6px;\r\n          padding: 8px 14px;\r\n          font-family: 'Share Tech Mono', monospace;\r\n          font-size: 9px;\r\n          color: rgba(0,80,160,0.5);\r\n          letter-spacing: 0.5px;\r\n        }\r\n\r\n        .topbar-notif-footer svg {\r\n          width: 12px; height: 12px;\r\n          color: rgba(0,100,200,0.4);\r\n          flex-shrink: 0;\r\n        }\r\n\r\n        .topbar-refresh-btn {\r\n          font-family: 'Share Tech Mono', monospace !important;\r\n          font-size: 10px !important;\r\n          color: rgba(0,120,255,0.6) !important;\r\n          background: transparent !important;\r\n          border: none !important;\r\n          padding: 4px 10px !important;\r\n          cursor: pointer;\r\n          letter-spacing: 1px;\r\n          transition: color 0.2s !important;\r\n          height: auto !important;\r\n        }\r\n\r\n        .topbar-refresh-btn:hover {\r\n          color: #4da6ff !important;\r\n          background: rgba(0,80,200,0.1) !important;\r\n        }\r\n\r\n        .topbar-menu-item {\r\n          font-family: 'Rajdhani', sans-serif !important;\r\n          font-size: 13px !important;\r\n          font-weight: 600 !important;\r\n          color: rgba(140,190,255,0.7) !important;\r\n          padding: 8px 14px !important;\r\n          cursor: pointer;\r\n          letter-spacing: 0.5px;\r\n          border-radius: 0 !important;\r\n          transition: all 0.15s !important;\r\n        }\r\n\r\n        .topbar-menu-item:hover {\r\n          background: rgba(0,60,140,0.3) !important;\r\n          color: #c0d8ff !important;\r\n        }\r\n\r\n        .topbar-menu-item-danger {\r\n          color: rgba(255,80,100,0.7) !important;\r\n        }\r\n\r\n        .topbar-menu-item-danger:hover {\r\n          background: rgba(255,40,60,0.1) !important;\r\n          color: #ff6680 !important;\r\n        }\r\n\r\n        /* dot severity colors */\r\n        .dot-critical { background: #ff4060; box-shadow: 0 0 6px #ff4060; }\r\n        .dot-high     { background: #ff8040; box-shadow: 0 0 6px #ff8040; }\r\n        .dot-medium   { background: #ffb020; box-shadow: 0 0 6px #ffb020; }\r\n        .dot-default  { background: rgba(80,120,180,0.6); }\r\n      `}</style>\r\n\r\n      <header className=\"topbar-root\">\r\n        <div className=\"topbar-inner\">\r\n\r\n          {/* LEFT: Trigger + Search */}\r\n          <div className=\"topbar-search-wrap\">\r\n            <SidebarTrigger\r\n              className=\"lg:hidden\"\r\n              style={{ color: \"rgba(0,120,255,0.6)\", background: \"transparent\", border: \"none\" }}\r\n            />\r\n\r\n            <div className=\"topbar-search-inner\">\r\n              <Search className=\"topbar-search-icon\" />\r\n              <input\r\n                className=\"topbar-input\"\r\n                placeholder=\"Buscar cámaras, incidentes, evidencias...\"\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          {/* RIGHT: Actions */}\r\n          <div className=\"topbar-actions\">\r\n\r\n            {/* BELL */}\r\n            <DropdownMenu>\r\n              <DropdownMenuTrigger asChild>\r\n                <button\r\n                  className=\"topbar-icon-btn\"\r\n                  onClick={() => refresh().catch(console.error)}\r\n                >\r\n                  <Bell />\r\n                  {unreadCount > 0 && (\r\n                    <span className=\"topbar-badge\">\r\n                      {unreadCount > 99 ? \"99+\" : unreadCount}\r\n                    </span>\r\n                  )}\r\n                </button>\r\n              </DropdownMenuTrigger>\r\n\r\n              <DropdownMenuContent align=\"end\" className=\"topbar-dropdown w-80 p-0\">\r\n                <div style={{ display: \"flex\", alignItems: \"center\", justifyContent: \"space-between\" }}>\r\n                  <DropdownMenuLabel className=\"topbar-dropdown-label\">\r\n                    NOTIFICACIONES\r\n                  </DropdownMenuLabel>\r\n                  <button\r\n                    className=\"topbar-refresh-btn\"\r\n                    onClick={() => refresh().catch(console.error)}\r\n                  >\r\n                    REFRESCAR\r\n                  </button>\r\n                </div>\r\n\r\n                <DropdownMenuSeparator className=\"topbar-dropdown-sep\" />\r\n\r\n                {recent.length === 0 ? (\r\n                  <div className=\"topbar-notif-empty\">\r\n                    Sin notificaciones.\r\n                  </div>\r\n                ) : (\r\n                  recent.map((a: any) => {\r\n                    const isUnread = !a.read;\r\n                    const dotClass =\r\n                      a.severity === \"critical\" ? \"dot-critical\"\r\n                      : a.severity === \"high\" ? \"dot-high\"\r\n                      : a.severity === \"medium\" ? \"dot-medium\"\r\n                      : \"dot-default\";\r\n\r\n                    const subtitle =\r\n                      a.weapon_type && a.camera_id\r\n                        ? `${a.weapon_type} detectada en ${a.camera_id}`\r\n                        : a.weapon_type\r\n                        ? `${a.weapon_type} detectada`\r\n                        : a.message;\r\n\r\n                    return (\r\n                      <DropdownMenuItem\r\n                        key={a._id}\r\n                        className=\"topbar-notif-item\"\r\n                        onClick={() => {\r\n                          if (isUnread) markAsRead(a._id).catch(console.error);\r\n                        }}\r\n                      >\r\n                        <div className=\"topbar-notif-title\">\r\n                          <div\r\n                            style={{ width: 7, height: 7, borderRadius: \"50%\", flexShrink: 0 }}\r\n                            className={dotClass}\r\n                          />\r\n                          <span className=\"topbar-notif-name\">{a.title || \"Alerta\"}</span>\r\n                          {isUnread && <span className=\"topbar-notif-new\">NUEVA</span>}\r\n                        </div>\r\n                        <p className=\"topbar-notif-sub\">{subtitle}</p>\r\n                        <p className=\"topbar-notif-time\">{timeAgo(a.timestamp)}</p>\r\n                      </DropdownMenuItem>\r\n                    );\r\n                  })\r\n                )}\r\n\r\n                <DropdownMenuSeparator className=\"topbar-dropdown-sep\" />\r\n\r\n                <div className=\"topbar-notif-footer\">\r\n                  <AlertTriangle />\r\n                  ALERTAS EN TIEMPO REAL\r\n                </div>\r\n              </DropdownMenuContent>\r\n            </DropdownMenu>\r\n\r\n            <div className=\"topbar-sep\" />\r\n\r\n            {/* USER */}\r\n            <DropdownMenu>\r\n              <DropdownMenuTrigger asChild>\r\n                <button className=\"topbar-user-btn\">\r\n                  <div className=\"topbar-user-text\" style={{ display: \"none\" }}>\r\n                    <p className=\"topbar-user-name\">{displayName}</p>\r\n                    <p className=\"topbar-user-role\">{role.toUpperCase()}</p>\r\n                  </div>\r\n                  <div className=\"topbar-user-text\" style={{ textAlign: \"right\" }}>\r\n                    <p className=\"topbar-user-name\">{displayName}</p>\r\n                    <p className=\"topbar-user-role\">{role.toUpperCase()}</p>\r\n                  </div>\r\n\r\n                  <Avatar className=\"topbar-avatar\" style={{ width: 28, height: 28 }}>\r\n                    <AvatarImage src={avatarUrl} />\r\n                    <AvatarFallback\r\n                      style={{\r\n                        background: \"linear-gradient(135deg, #003399, #0055ff)\",\r\n                        color: \"#fff\",\r\n                        fontFamily: \"'Rajdhani', sans-serif\",\r\n                        fontWeight: 700,\r\n                        fontSize: 11,\r\n                        letterSpacing: 1,\r\n                      }}\r\n                    >\r\n                      {initials(displayName)}\r\n                    </AvatarFallback>\r\n                  </Avatar>\r\n\r\n                  <ChevronDown className=\"topbar-chevron\" />\r\n                </button>\r\n              </DropdownMenuTrigger>\r\n\r\n              <DropdownMenuContent align=\"end\" className=\"topbar-dropdown w-56 p-0\">\r\n                <DropdownMenuLabel className=\"topbar-dropdown-label\" style={{ paddingBottom: 10 }}>\r\n                  <p style={{ fontSize: 13, fontWeight: 700, color: \"#c0d8ff\", marginBottom: 2 }}>\r\n                    {displayName}\r\n                  </p>\r\n                  <p style={{ fontFamily: \"'Share Tech Mono', monospace\", fontSize: 10, color: \"rgba(0,100,200,0.5)\", letterSpacing: 0.5 }}>\r\n                    {email || \"—\"}\r\n                  </p>\r\n                </DropdownMenuLabel>\r\n\r\n                <DropdownMenuSeparator className=\"topbar-dropdown-sep\" />\r\n\r\n                <DropdownMenuItem className=\"topbar-menu-item\">\r\n                  <User style={{ width: 14, height: 14, marginRight: 8, color: \"rgba(0,120,255,0.5)\" }} />\r\n                  Mi Perfil\r\n                </DropdownMenuItem>\r\n\r\n                <DropdownMenuSeparator className=\"topbar-dropdown-sep\" />\r\n\r\n                <DropdownMenuItem\r\n                  className=\"topbar-menu-item topbar-menu-item-danger\"\r\n                  onClick={handleLogout}\r\n                >\r\n                  <LogOut style={{ width: 14, height: 14, marginRight: 8 }} />\r\n                  Cerrar sesión\r\n                </DropdownMenuItem>\r\n              </DropdownMenuContent>\r\n            </DropdownMenu>\r\n\r\n          </div>\r\n        </div>\r\n      </header>\r\n    </>\r\n  );\r\n}"],"mappings":"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AAI,KACnB,SAAS;EAEX,MAAMC,SAAS,GACb,CAACX,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAUY,UAAU,MACxBZ,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAUa,MAAM,KACrB,EAAE;EAEJ,MAAMC,YAAY,GAAG,MAAAA,CAAA,KAAY;IAC/B,IAAI;MACF,MAAMb,MAAM,CAAC,CAAC;MACd1C,KAAK,CAACwD,OAAO,CAAC,gBAAgB,CAAC;IACjC,CAAC,CAAC,OAAOC,CAAM,EAAE;MAAA,IAAAC,UAAA;MACfC,OAAO,CAACC,KAAK,CAACH,CAAC,CAAC;MAChBzD,KAAK,CAAC4D,KAAK,CAAC,0BAA0B,EAAE;QAAEC,WAAW,EAAEC,MAAM,EAAAJ,UAAA,GAACD,CAAC,aAADA,CAAC,uBAADA,CAAC,CAAEM,OAAO,cAAAL,UAAA,cAAAA,UAAA,GAAID,CAAC;MAAE,CAAC,CAAC;IACnF;EACF,CAAC;EAED,oBACEvD,OAAA,CAAAE,SAAA;IAAA4D,QAAA,gBACE9D,OAAA;MAAA8D,QAAA,EAAQ;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;IAAO;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OA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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}